<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mario</title>
  
  <subtitle>ğŸ“Œå¥½å‰ç«¯æ‰åˆ†å¯¹é”™ï¼Œæˆå¹´äººåªåˆ†åˆ©å¼Š</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://mariogogogo.github.io/"/>
  <updated>2021-06-18T08:42:55.959Z</updated>
  <id>http://mariogogogo.github.io/</id>
  
  <author>
    <name>Codding</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Vue-ASTè¯­æ³•æ ‘è½¬renderåŸç†</title>
    <link href="http://mariogogogo.github.io/2021/06/18/Vue-AST%E8%AF%AD%E6%B3%95%E6%A0%91/"/>
    <id>http://mariogogogo.github.io/2021/06/18/Vue-ASTè¯­æ³•æ ‘/</id>
    <published>2021-06-17T16:00:00.000Z</published>
    <updated>2021-06-18T08:42:55.959Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯AST"><a href="#ä»€ä¹ˆæ˜¯AST" class="headerlink" title="ä»€ä¹ˆæ˜¯AST"></a>ä»€ä¹ˆæ˜¯AST</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2021061816image-20210614102953117.png"                      alt="image-20210614102953117" style="zoom:50%;"                 ></p><blockquote><p>æŠ½è±¡è¯­æ³•æ ‘æœ¬è´¨ä¸Šå°±æ˜¯jså¯¹è±¡</p></blockquote><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2021061816image-20210614103035580.png"                      alt="image-20210614103035580" style="zoom:50%;"                 ></p><h2 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><blockquote><p>è¯æ³•åˆ†æçš„æ—¶å€™ï¼Œç»å¸¸è¦ç”¨åˆ°æ ˆè¿™ä¸ªæ•°æ®ç»“æ„</p></blockquote><p>åœ¨åˆ†æ</p><p>é¦–å…ˆè§£æä¸€ä¸‹æ™®é€šå­—ç¬¦ä¸²</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> templateString = <span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">  &lt;h3&gt;ä½ å¥½&lt;/h3&gt;</span></span><br><span class="line"><span class="string">  &lt;ul&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;A&lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;B&lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;C&lt;/li&gt;</span></span><br><span class="line"><span class="string">  &lt;/ul&gt;</span></span><br><span class="line"><span class="string"> &lt;/div&gt;`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// parseå‡½æ•°</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">templateString</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> index = <span class="number">0</span>,</span><br><span class="line">    rest = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> startRegExp = <span class="regexp">/^\&lt;([a-z]+[1-6]?)\&gt;/</span>;</span><br><span class="line">  <span class="keyword">var</span> endRegExp = <span class="regexp">/^\&lt;\/([a-z]+[1-6]?)\&gt;/</span>;</span><br><span class="line">  <span class="comment">// æŠ“å–ç»“æŸæ ‡è®°å‰çš„æ–‡å­—</span></span><br><span class="line">  <span class="keyword">var</span> wordRegExp = <span class="regexp">/^([^\&lt;]+)\&lt;\/[a-z]+[1-6]?\&gt;/</span>;</span><br><span class="line">  <span class="keyword">let</span> stack1 = [],</span><br><span class="line">    stack2 = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (index &lt; templateString.length - <span class="number">1</span>) &#123;</span><br><span class="line">    rest = templateString.substring(index);</span><br><span class="line">    <span class="comment">// console.log(&#x27;å‰©ä½™èŠ‚ç‚¹&#x27;, rest);</span></span><br><span class="line">    <span class="comment">// è¯†åˆ«éå†åˆ°è¿™ä¸ªå­—ç¬¦ æ˜¯ä¸æ˜¯ä¸€ä¸ªå¼€å§‹å­—ç¬¦</span></span><br><span class="line">    <span class="keyword">if</span> (startRegExp.test(rest)) &#123;</span><br><span class="line">      <span class="keyword">let</span> tag = rest.match(startRegExp)[<span class="number">1</span>];</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;æ£€æµ‹åˆ°å¼€å§‹æ ‡å¿— :&gt;&gt; &#x27;</span>, tag);</span><br><span class="line">      <span class="comment">//å¼€å§‹æ ‡è®°æ¨å…¥æ ˆ1</span></span><br><span class="line">      stack1.push(tag);</span><br><span class="line">      <span class="comment">// å°†ç©ºæ•°ç»„æ¨å…¥æ ˆ2</span></span><br><span class="line">      stack2.push([]);</span><br><span class="line">      index += tag.length + <span class="number">2</span>; <span class="comment">//å› ä¸º &lt; &gt; å 2ä½</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (endRegExp.test(rest)) &#123;</span><br><span class="line">      <span class="keyword">let</span> tag = rest.match(endRegExp)[<span class="number">1</span>];</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;æ£€æµ‹åˆ°ç»“æŸæ ‡å¿— :&gt;&gt; &#x27;</span>, tag);</span><br><span class="line">      index += tag.length + <span class="number">3</span>;</span><br><span class="line">      <span class="keyword">if</span> (tag === stack1[stack1.length - <span class="number">1</span>]) &#123;</span><br><span class="line">        stack1.pop();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;æ ‡ç­¾æ²¡æœ‰å°é—­: &#x27;</span>, stack1[stack1.length - <span class="number">1</span>]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(wordRegExp.test(rest))&#123;</span><br><span class="line">      <span class="keyword">let</span> word = rest.match(wordRegExp)[<span class="number">1</span>]</span><br><span class="line">      <span class="comment">// å¦‚æœwordå…¨ç©ºåˆ¤æ–­  å»é™¤ç©ºå­—ç¬¦</span></span><br><span class="line">      <span class="keyword">if</span>(!<span class="regexp">/^\s+$/</span>.test(word))&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æ£€æµ‹æ–‡å­— :&gt;&gt; &#x27;</span>, word);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// æŒ‡é’ˆç§»åŠ¨æ ‡ç­¾çš„é•¿åº¦</span></span><br><span class="line">      index += word.length</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      index++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;stack1,stack2 :&gt;&gt; &#x27;</span>, stack1, stack2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2021061816image-20210614224646388.png"                      alt="image-20210614224646388" style="zoom:50%;"                 ></p><h2 id="ä½¿ç”¨æ ˆå½¢æˆAST"><a href="#ä½¿ç”¨æ ˆå½¢æˆAST" class="headerlink" title="ä½¿ç”¨æ ˆå½¢æˆAST"></a>ä½¿ç”¨æ ˆå½¢æˆAST</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> templateString = <span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">  &lt;h3&gt;ä½ å¥½&lt;/h3&gt;</span></span><br><span class="line"><span class="string">  &lt;ul&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;A&lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;B&lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;C&lt;/li&gt;</span></span><br><span class="line"><span class="string">  &lt;/ul&gt;</span></span><br><span class="line"><span class="string"> &lt;/div&gt;`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// parseå‡½æ•°</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">templateString</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> index = <span class="number">0</span>, <span class="comment">//æŒ‡é’ˆ</span></span><br><span class="line">    rest = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> startRegExp = <span class="regexp">/^\&lt;([a-z]+[1-6]?)\&gt;/</span>;</span><br><span class="line">  <span class="keyword">var</span> endRegExp = <span class="regexp">/^\&lt;\/([a-z]+[1-6]?)\&gt;/</span>;</span><br><span class="line">  <span class="comment">// æŠ“å–ç»“æŸæ ‡è®°å‰çš„æ–‡å­—</span></span><br><span class="line">  <span class="keyword">var</span> wordRegExp = <span class="regexp">/^([^\&lt;]+)\&lt;\/[a-z]+[1-6]?\&gt;/</span>;</span><br><span class="line">  <span class="keyword">let</span> stack1 = [],</span><br><span class="line">    stack2 = [&#123;<span class="string">&#x27;children&#x27;</span>:[]&#125;];  <span class="comment">//å°æŠ€å·§ğŸ”¥ğŸ”¥ğŸ”¥ è¿™é‡Œå¡«å……children</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (index &lt; templateString.length - <span class="number">1</span>) &#123;</span><br><span class="line">    rest = templateString.substring(index);</span><br><span class="line">    <span class="comment">// console.log(&#x27;å‰©ä½™èŠ‚ç‚¹&#x27;, rest);</span></span><br><span class="line">    <span class="comment">// è¯†åˆ«éå†åˆ°è¿™ä¸ªå­—ç¬¦ æ˜¯ä¸æ˜¯ä¸€ä¸ªå¼€å§‹å­—ç¬¦</span></span><br><span class="line">    <span class="keyword">if</span> (startRegExp.test(rest)) &#123;</span><br><span class="line">      <span class="keyword">let</span> tag = rest.match(startRegExp)[<span class="number">1</span>];</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;æ£€æµ‹åˆ°å¼€å§‹æ ‡å¿— :&gt;&gt; &#x27;</span>, tag);</span><br><span class="line">      <span class="comment">//å¼€å§‹æ ‡è®°æ¨å…¥æ ˆ1</span></span><br><span class="line">      stack1.push(tag);</span><br><span class="line">      <span class="comment">// å°†ç©ºæ•°ç»„æ¨å…¥æ ˆ2ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥</span></span><br><span class="line">      stack2.push(&#123; <span class="attr">tag</span>: tag, <span class="attr">children</span>: [] &#125;);</span><br><span class="line">      index += tag.length + <span class="number">2</span>; <span class="comment">//å› ä¸º &lt; &gt; å 2ä½</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (endRegExp.test(rest)) &#123;</span><br><span class="line">      <span class="keyword">let</span> tag = rest.match(endRegExp)[<span class="number">1</span>];</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;æ£€æµ‹åˆ°ç»“æŸæ ‡å¿— :&gt;&gt; &#x27;</span>, tag);</span><br><span class="line">      index += tag.length + <span class="number">3</span>;</span><br><span class="line">      <span class="comment">// console.log(&#x27;stack1 :&gt;&gt; &#x27;, stack1,JSON.stringify(stack2));</span></span><br><span class="line">      <span class="comment">//tagä¸€å®šä¸ æ ˆ1é¡¶  ç›¸åŒ</span></span><br><span class="line">      <span class="keyword">let</span> pop_tag = stack1.pop();</span><br><span class="line">      <span class="keyword">if</span> (tag === pop_tag) &#123;</span><br><span class="line">        <span class="keyword">let</span> pop_arr = stack2.pop();</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">if</span> (stack2.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          stack2[stack2.length - <span class="number">1</span>].children.push(pop_arr);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;æ ‡ç­¾æ²¡æœ‰å°é—­: &#x27;</span>, stack1[stack1.length - <span class="number">1</span>]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (wordRegExp.test(rest)) &#123;</span><br><span class="line">      <span class="keyword">let</span> word = rest.match(wordRegExp)[<span class="number">1</span>];</span><br><span class="line">      <span class="comment">// å¦‚æœwordå…¨ç©ºåˆ¤æ–­  å»é™¤ç©ºå­—ç¬¦</span></span><br><span class="line">      <span class="keyword">if</span> (!<span class="regexp">/^\s+$/</span>.test(word)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æ£€æµ‹æ–‡å­— :&gt;&gt; &#x27;</span>, word);</span><br><span class="line">        stack2[stack2.length - <span class="number">1</span>].children.push(&#123; <span class="attr">text</span>: word, <span class="attr">type</span>: <span class="number">3</span> &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// æŒ‡é’ˆç§»åŠ¨æ ‡ç­¾çš„é•¿åº¦</span></span><br><span class="line">      index += word.length;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      index++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//stack2 åªæœ‰ä¸€ä¸ªæ ¹</span></span><br><span class="line">  <span class="keyword">return</span> stack2[<span class="number">0</span>].children[<span class="number">0</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2021061816image-20210615130730248.png"                      alt="image-20210615130730248"                  ></p><h2 id="è¯†åˆ«attrs"><a href="#è¯†åˆ«attrs" class="headerlink" title="è¯†åˆ«attrs"></a>è¯†åˆ«attrs</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h3 <span class="keyword">class</span>=&quot;<span class="symbol">box</span>â€&gt;ä½ å¥½&lt;/<span class="symbol">h3</span>&gt;</span><br></pre></td></tr></table></figure><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2021061816image-20210615132247430.png"                      alt="image-20210615132247430"                ></p><p>å¦‚ä½•æŠŠ <code>class=&quot;box red blueâ€</code>è§£ææˆå¯¹è±¡å½¢å¼ <code>&#123;name: &quot;class&quot;, value: &quot;box red blue&quot;&#125;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// æŠŠattrsStringå˜ä¸ºæ•°ç»„è¿”å›</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">attrsString</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (attrsString == <span class="literal">undefined</span>) <span class="keyword">return</span> [];</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;%c ğŸ¥ª attrsString: &#x27;</span>, <span class="string">&#x27;font-size:20px;background-color: #B03734;color:#fff;&#x27;</span>, attrsString);</span><br><span class="line">  <span class="comment">// å½“å‰æ˜¯å¦åœ¨å¼•å·å†…</span></span><br><span class="line">  <span class="keyword">var</span> isYinhao = <span class="literal">false</span></span><br><span class="line">  <span class="comment">// æ–­ç‚¹</span></span><br><span class="line">  <span class="keyword">var</span> point = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// ç»“æœæ•°ç»„</span></span><br><span class="line">  <span class="keyword">var</span> result = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// éå†attrsStringï¼Œè€Œä¸æ˜¯ä½ æƒ³çš„ç”¨split()è¿™ç§æš´åŠ›æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; attrsString.length; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> char = attrsString[i];</span><br><span class="line">      <span class="keyword">if</span> (char == <span class="string">&#x27;&quot;&#x27;</span>) &#123;</span><br><span class="line">          isYinhao = !isYinhao;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (char == <span class="string">&#x27; &#x27;</span> &amp;&amp; !isYinhao) &#123;</span><br><span class="line">          <span class="comment">// é‡è§äº†ç©ºæ ¼ï¼Œå¹¶ä¸”ä¸åœ¨å¼•å·ä¸­</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&#x27;æ–­ç‚¹&#x27;</span>,i);</span><br><span class="line">          <span class="keyword">if</span> (!<span class="regexp">/^\s*$/</span>.test(attrsString.substring(point, i))) &#123;</span><br><span class="line">              result.push(attrsString.substring(point, i).trim());</span><br><span class="line">              point = i;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å¾ªç¯ç»“æŸä¹‹åï¼Œæœ€åè¿˜å‰©ä¸€ä¸ªå±æ€§k=&quot;v&quot;</span></span><br><span class="line">  result.push(attrsString.substring(point).trim());</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä¸‹é¢çš„ä»£ç åŠŸèƒ½æ˜¯ï¼Œå°†[&quot;k=v&quot;,&quot;k=v&quot;,&quot;k=v&quot;]å˜ä¸º[&#123;name:k, value:v&#125;, &#123;name:k, value:v&#125;, &#123;name:k,value:v&#125;];</span></span><br><span class="line">  result = result.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æ ¹æ®ç­‰å·æ‹†åˆ†</span></span><br><span class="line">      <span class="keyword">const</span> o = item.match(<span class="regexp">/^(.+)=&quot;(.+)&quot;$/</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;%c ğŸª o: &#x27;</span>, <span class="string">&#x27;font-size:20px;background-color: #6EC1C2;color:#fff;&#x27;</span>, o);<span class="number">8</span></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">          name: o[<span class="number">1</span>],</span><br><span class="line">          value: o[<span class="number">2</span>]</span><br><span class="line">      &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ASTè¯­æ³•æ ‘è½¬renderå‡½æ•°"><a href="#ASTè¯­æ³•æ ‘è½¬renderå‡½æ•°" class="headerlink" title="ASTè¯­æ³•æ ‘è½¬renderå‡½æ•°"></a>ASTè¯­æ³•æ ‘è½¬renderå‡½æ•°</h2><p>æ•´ä¸ªASTè¯­æ³•æ ‘è½¬renderå‡½æ•°çš„èµ·ç‚¹æ˜¯<code>index.js</code>æ–‡ä»¶ä¸­çš„<code>generate()</code>å‡½æ•°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">generate</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> code = genElement(ast);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Function</span> (<span class="string">`with (this) &#123; return <span class="subst">$&#123;code&#125;</span>&#125;`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚ä¸€æ®µ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;el&quot;</span>&gt;Hello &#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">with</span>(<span class="params"><span class="built_in">this</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> _c(</span><br><span class="line">   <span class="string">&quot;div&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      attrs:&#123;<span class="string">&quot;id&quot;</span>:<span class="string">&quot;el&quot;</span>&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    [</span><br><span class="line">      _v(<span class="string">&quot;hello &quot;</span>+_s(name))</span><br><span class="line">    ]</span><br><span class="line">  </span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™å…¶å®å°±æ˜¯ä¸€ä¸ªåµŒå¥—å‡½æ•°çš„è°ƒç”¨ï¼Œ_cå…¶å®æ˜¯<code>createElement</code>ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°ç”Ÿæˆä¸€ä¸ªVNode</p><p>è¿™å…¶ä¸­è¿˜æœ‰  å±æ€§è§£ægenData  å­èŠ‚ç‚¹è§£ægenChildren  æ–‡æœ¬è§£ægenText  æ³¨é‡ŠèŠ‚ç‚¹genCommentï¼›</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å­—ç¬¦ä¸²æ‹¼æ¥çš„è¿‡ç¨‹ï¼Œé€šè¿‡é€’å½’ASTç”Ÿæˆå­—ç¬¦ä¸²ï¼Œæœ€ç»ˆå…ˆç”Ÿæˆæ ¹èŠ‚ç‚¹ï¼Œå°†å…¶æ‹¼æ¥å†æ ¹èŠ‚ç‚¹çš„å‚æ•°ä¸­ï¼Œå­èŠ‚ç‚¹æ‹¼æ¥å†å­èŠ‚ç‚¹çš„å‚æ•°ä¸­ï¼Œä¸€å±‚å±‚æ‹¼æ¥ï¼Œæ‹¼æ¥åï¼Œè°ƒç”¨withè¿”å›vnode</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä»€ä¹ˆæ˜¯AST&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯AST&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯AST&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯AST&lt;/h2&gt;&lt;p&gt;&lt;img  
                     lazyload
                 
      
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>äºŒå‰æ ‘çš„å±‚åºéå†</title>
    <link href="http://mariogogogo.github.io/2021/02/21/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E6%AC%A1%E9%81%8D%E5%8E%86/"/>
    <id>http://mariogogogo.github.io/2021/02/21/ç®—æ³•-äºŒå‰æ ‘çš„å±‚æ¬¡éå†/</id>
    <published>2021-02-20T16:00:00.000Z</published>
    <updated>2021-06-18T06:50:41.456Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><p>å­¦ä¼šäºŒå‰æ ‘çš„å±‚åºéå†ï¼Œå¯ä»¥ä¸€å£æ°”æ’¸å®Œleetcodeä¸Šå…«é“é¢˜ç›®:</p><ul><li>107.äºŒå‰æ ‘çš„å±‚æ¬¡éå†II </li><li>199.äºŒå‰æ ‘çš„å³è§†å›¾</li><li>637.äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼ </li><li>429.Nå‰æ ‘çš„å‰åºéå† </li><li>515.åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼</li><li>116.å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ </li><li>117.å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆII</li></ul><h2 id="äºŒå‰æ ‘çš„å±‚æ¬¡éå†II"><a href="#äºŒå‰æ ‘çš„å±‚æ¬¡éå†II" class="headerlink" title="äºŒå‰æ ‘çš„å±‚æ¬¡éå†II"></a>äºŒå‰æ ‘çš„å±‚æ¬¡éå†II</h2><p>é¢˜ç›®é“¾æ¥:<a class="link"   href="https://leetcode-cn.com/problems/binary-tree-level-order-traversal-ii/" >https://leetcode-cn.com/problems/binary-tree-level-order-traversal-ii/<i class="fas fa-external-link-alt"></i></a></p><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼è‡ªåº•å‘ä¸Šçš„å±‚æ¬¡éå†ã€‚ (å³æŒ‰ä»å¶å­èŠ‚ç‚¹æ‰€åœ¨å±‚åˆ°æ ¹èŠ‚ç‚¹æ‰€åœ¨çš„å±‚ï¼Œé€ å±‚ä»å·¦å‘å³éå†)</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202102211418559202021022114.png"                      alt="image-20210221141855920"                ></p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>1.å‰é¢éƒ½æ˜¯å±‚æ¬¡éå†å¥—è·¯</p><p>2.æœ€åç»“æœå†ç”¨æ•°ç»„reverseæ–¹æ³•</p><h3 id="å›¾è§£"><a href="#å›¾è§£" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202102211439511272021022114.png"                      alt="image-20210221143951127"                ></p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> levelOrderBottom = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(!root) <span class="keyword">return</span> []</span><br><span class="line">   <span class="keyword">const</span> q = [[root,<span class="number">0</span>]]</span><br><span class="line">   <span class="keyword">const</span> res = []</span><br><span class="line">   <span class="keyword">while</span>(q.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">       <span class="keyword">const</span> [n,level] =q.shift()</span><br><span class="line">       <span class="keyword">if</span>(!res[level])&#123;</span><br><span class="line">         res.push([n.val])</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         res[level].push(n.val)  </span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span>(n.left) q.push([n.left,level+<span class="number">1</span>])</span><br><span class="line">       <span class="keyword">if</span>(n.right)q.push([n.right,level+<span class="number">1</span>])</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//åè½¬</span></span><br><span class="line">   <span class="keyword">return</span> res.reverse()</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="199-äºŒå‰æ ‘çš„å³è§†å›¾"><a href="#199-äºŒå‰æ ‘çš„å³è§†å›¾" class="headerlink" title="199.äºŒå‰æ ‘çš„å³è§†å›¾"></a>199.äºŒå‰æ ‘çš„å³è§†å›¾</h2><p>é¢˜ç›®é“¾æ¥:<a class="link"   href="https://leetcode-cn.com/problems/binary-tree-right-side-view/" >https://leetcode-cn.com/problems/binary-tree-right-side-view/<i class="fas fa-external-link-alt"></i></a></p><p>ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:Â [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,null,<span class="number">5</span>,null,<span class="number">4</span>]</span><br><span class="line">è¾“å‡º:Â [<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">è§£é‡Š:</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>            &lt;-<span class="comment">--</span></span><br><span class="line"> /   \</span><br><span class="line"><span class="number">2</span>     <span class="number">3</span>         &lt;-<span class="comment">--</span></span><br><span class="line"> \     \</span><br><span class="line">  <span class="number">5</span>     <span class="number">4</span>       &lt;-<span class="comment">--</span></span><br></pre></td></tr></table></figure><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li><p>å±‚åºéå†çš„æ—¶å€™ï¼Œ</p></li><li><p><code>åˆ¤æ–­æ˜¯å¦éå†åˆ°å•å±‚çš„æœ€åé¢çš„å…ƒç´ </code> (é‡ç‚¹åˆ†æ å¯¹æ¯ä¸€å±‚qçš„æ•°ç»„è¿›è¡Œwhile lenâ€“æ“ä½œ)</p></li><li><p>å¦‚æœæ˜¯ï¼Œå°±æ”¾è¿›resultæ•°ç»„ä¸­ï¼Œéšåè¿”å›result å°±å¯ä»¥äº†ã€‚</p></li></ol><h3 id="å›¾è§£-1"><a href="#å›¾è§£-1" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202102211523112642021022115.png"                      alt="image-20210221152311264" style="zoom:80%;"                 ></p><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rightSideView = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(!root) <span class="keyword">return</span> []</span><br><span class="line">   <span class="keyword">const</span> q = [root]</span><br><span class="line">   <span class="keyword">const</span> res = []</span><br><span class="line">    <span class="keyword">while</span>(q.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> len = q.length</span><br><span class="line">        <span class="comment">//å¯¹æ¯ä¸€å±‚è¿›è¡Œéå† [1]  [2,3 ]  [4,5,6]   [7]</span></span><br><span class="line">        <span class="keyword">while</span>(len)&#123;</span><br><span class="line">          <span class="keyword">let</span> n = q.shift()</span><br><span class="line">            <span class="comment">//æ¯ä¸€å±‚æœ€åä¸€ä½</span></span><br><span class="line">            <span class="keyword">if</span>(len === <span class="number">1</span>) res.push(n.val)</span><br><span class="line">            <span class="keyword">if</span>(n.left) q.push(n.left)</span><br><span class="line">            <span class="keyword">if</span>(n.right) q.push(n.right)</span><br><span class="line">            len--</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="637-äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼"><a href="#637-äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼" class="headerlink" title="637.äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼"></a>637.äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼</h2><p>é¢˜ç›®é“¾æ¥:<a class="link"   href="https://leetcode-cn.com/problems/average-of-levels-in-binary-tree/" >https://leetcode-cn.com/problems/average-of-levels-in-binary-tree/<i class="fas fa-external-link-alt"></i></a></p><p>ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘, è¿”å›ä¸€ä¸ªç”±æ¯å±‚èŠ‚ç‚¹å¹³å‡å€¼ç»„æˆçš„æ•°ç»„ã€‚</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">    3</span><br><span class="line">   / \</span><br><span class="line"> <span class="number"> 9 </span> 20</span><br><span class="line">    /  \</span><br><span class="line">  <span class="number"> 15 </span>  7</span><br><span class="line">è¾“å‡ºï¼š[3, 14.5, 11]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ç¬¬<span class="number"> 0 </span>å±‚çš„å¹³å‡å€¼æ˜¯<span class="number"> 3 </span>,  ç¬¬1å±‚æ˜¯ 14.5 , ç¬¬2å±‚æ˜¯<span class="number"> 11 </span>ã€‚å› æ­¤è¿”å› [3, 14.5, 11] ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li><p>ç”¨å±‚åºéå†çš„æ–¹æ³•ã€‚ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—å»éå†èŠ‚ç‚¹ã€‚</p></li><li><p>ç”¨ for å¾ªç¯æ§åˆ¶ä¸€å±‚çš„èŠ‚ç‚¹é€ä¸ªå‡ºåˆ—ï¼ŒèŠ‚ç‚¹å€¼ç´¯åŠ æ±‚å’Œã€‚</p></li><li><p>èŠ‚ç‚¹å‡ºåˆ—çš„åŒæ—¶ï¼Œä¸‹ä¸€å±‚çš„å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œåœ¨ for å¾ªç¯ç»“æŸæ—¶ï¼Œé˜Ÿåˆ—ä¸­å°±å…¨æ˜¯ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹ã€‚</p></li><li><p>æ­¤æ—¶å½“å‰å±‚çš„æ±‚å’Œä¹Ÿå¥½äº†ï¼Œé™¤ä»¥å½“å‰å±‚çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œå°±æ˜¯å½“å‰å±‚çš„å¹³å‡å€¼ï¼ŒåŠ å…¥ç»“æœæ•°ç»„ã€‚</p></li><li><p>æ¥ç€å¤„ç†ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹ï¼Œé‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œå°±æ„å»ºå¥½äº†ç»“æœæ•°ç»„ã€‚</p></li></ol><h3 id="å›¾è§£-2"><a href="#å›¾è§£-2" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/2021-02-21%2015.56.07-38942632021022115.gif"                      alt="2021-02-21 15.56.07"                ></p><h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> averageOfLevels = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root) <span class="keyword">return</span> []</span><br><span class="line">    <span class="keyword">const</span> p = [root]</span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(p.length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> size = p.length <span class="comment">//æ¯ä¸€å±‚çš„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">let</span> sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i&lt;size;i++)&#123;</span><br><span class="line">             <span class="keyword">const</span> n = p.shift()</span><br><span class="line">              <span class="comment">//æ¯ä¸€å±‚çš„æ€»å’Œ</span></span><br><span class="line">              sum += n.val</span><br><span class="line">             <span class="keyword">if</span>(n.left) p.push(n.left)</span><br><span class="line">             <span class="keyword">if</span>(n.right) p.push(n.right)</span><br><span class="line">        &#125;</span><br><span class="line">        res.push(sum/size)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="429-Nå‰æ ‘çš„å±‚åºéå†"><a href="#429-Nå‰æ ‘çš„å±‚åºéå†" class="headerlink" title="429.Nå‰æ ‘çš„å±‚åºéå†"></a>429.Nå‰æ ‘çš„å±‚åºéå†</h2><p>é¢˜ç›®é“¾æ¥:<a class="link"   href="https://leetcode-cn.com/problems/n-ary-tree-level-order-traversal/" >https://leetcode-cn.com/problems/n-ary-tree-level-order-traversal/<i class="fas fa-external-link-alt"></i></a> </p><p>ç»™å®šä¸€ä¸ª N å‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„å±‚åºéå†ã€‚ (å³ä»å·¦åˆ°å³ï¼Œé€å±‚éå†)ã€‚</p><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><h3 id="å›¾è§£-3"><a href="#å›¾è§£-3" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> levelOrder = <span class="function">(<span class="params">root</span>)=&gt;</span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(!root) <span class="keyword">return</span></span><br><span class="line">   <span class="keyword">const</span> p = [root]</span><br><span class="line">   <span class="keyword">const</span> res = []</span><br><span class="line">   <span class="keyword">while</span>(p.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="keyword">const</span> size = p.length</span><br><span class="line">      <span class="keyword">const</span> temp = []</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; size;i++)&#123;</span><br><span class="line">          <span class="keyword">const</span> n = p.shift()</span><br><span class="line">          temp.push(n.val)</span><br><span class="line">          p.push(...n.children)</span><br><span class="line">      &#125;</span><br><span class="line">     res.push(temp)</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;å­¦ä¼šäºŒå‰æ ‘çš„å±‚åºéå†ï¼Œå¯ä»¥ä¸€å£æ°”æ’¸å®Œleetcodeä¸Šå…«é“é¢˜ç›®:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;107.äºŒå‰æ ‘çš„å±‚æ¬¡éå†II &lt;/li&gt;
&lt;li&gt;199.äºŒå‰æ ‘çš„å³è§†å›¾&lt;/li&gt;
&lt;li&gt;637.äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼ &lt;/li&gt;
&lt;li&gt;429.
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://mariogogogo.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://mariogogogo.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>äºŒå‰æ ‘çš„å…ˆä¸­åå±‚åºéå†</title>
    <link href="http://mariogogogo.github.io/2021/02/20/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%85%88%E4%B8%AD%E5%90%8E%E9%81%8D%E5%8E%86/"/>
    <id>http://mariogogogo.github.io/2021/02/20/ç®—æ³•-äºŒå‰æ ‘çš„å…ˆä¸­åéå†/</id>
    <published>2021-02-19T16:00:00.000Z</published>
    <updated>2021-06-18T05:26:54.585Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><p>äºŒå‰æ ‘çš„å››ç§éå†æ–¹å¼ï¼šå…ˆåºéå†ã€ä¸­åºéå†ã€ååºéå†ã€å±‚åºéå†ã€‚</p><h3 id="æ¨¡æ‹Ÿä¸€æ£µäºŒå‰æ ‘"><a href="#æ¨¡æ‹Ÿä¸€æ£µäºŒå‰æ ‘" class="headerlink" title="æ¨¡æ‹Ÿä¸€æ£µäºŒå‰æ ‘"></a>æ¨¡æ‹Ÿä¸€æ£µäºŒå‰æ ‘</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.root = &#123;</span><br><span class="line">  val: <span class="number">1</span>,</span><br><span class="line">  left: &#123;</span><br><span class="line">    val: <span class="number">2</span>,</span><br><span class="line">    left: &#123;</span><br><span class="line">      val: <span class="number">4</span>,</span><br><span class="line">      left: <span class="literal">null</span>,</span><br><span class="line">      right: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    right: &#123;</span><br><span class="line">      val: <span class="number">5</span>,</span><br><span class="line">      left: <span class="literal">null</span>,</span><br><span class="line">      right: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  right: &#123;</span><br><span class="line">    val: <span class="number">3</span>,</span><br><span class="line">    left: &#123;</span><br><span class="line">      val: <span class="number">6</span>,</span><br><span class="line">      left: <span class="literal">null</span>,</span><br><span class="line">      right: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    right: &#123;</span><br><span class="line">      val: <span class="number">7</span>,</span><br><span class="line">      left: <span class="literal">null</span>,</span><br><span class="line">      right: <span class="literal">null</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="å…ˆåºéå†ç®—æ³•å£è¯€"><a href="#å…ˆåºéå†ç®—æ³•å£è¯€" class="headerlink" title="å…ˆåºéå†ç®—æ³•å£è¯€"></a>å…ˆåºéå†ç®—æ³•å£è¯€</h3><ol><li>è®¿é—®æ ¹èŠ‚ç‚¹</li><li>å¯¹æ ¹èŠ‚ç‚¹å·¦å­æ ‘è¿›è¡Œå…ˆåºéå†</li><li>å¯¹æ ¹èŠ‚ç‚¹å³å­æ ‘è¿›è¡Œå…ˆåºéå†</li></ol><h3 id="å›¾è§£"><a href="#å›¾è§£" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202102210004234802021022100.png"                      alt="image-20210221000423480" style="zoom:50%;"                 ></p><h2 id="å…ˆåºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰"><a href="#å…ˆåºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰" class="headerlink" title="å…ˆåºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰"></a>å…ˆåºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> preorder = <span class="function">(<span class="params">root</span>)=&gt;</span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(root)&#123;</span><br><span class="line">     <span class="comment">//éå†å·¦èŠ‚ç‚¹</span></span><br><span class="line">     preorder(root.left)</span><br><span class="line">     <span class="comment">//éå†å³èŠ‚ç‚¹</span></span><br><span class="line">     preorder(root.right)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…ˆåºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰"><a href="#å…ˆåºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰" class="headerlink" title="å…ˆåºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰"></a>å…ˆåºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰</h2><blockquote><p>æ€è·¯ï¼šæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨è¿­ä»£çš„æ–¹å¼å®ç°æ–¹æ³•ä¸€çš„é€’å½’å‡½æ•°ï¼Œä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„ï¼ŒåŒºåˆ«åœ¨äºé€’å½’çš„æ—¶å€™éšå¼åœ°ç»´æŠ¤äº†ä¸€ä¸ªæ ˆï¼Œè€Œæˆ‘ä»¬åœ¨è¿­ä»£çš„æ—¶å€™éœ€è¦æ˜¾å¼åœ°å°†è¿™ä¸ªæ ˆæ¨¡æ‹Ÿå‡ºæ¥ï¼Œå…¶ä½™çš„å®ç°ä¸ç»†èŠ‚éƒ½ç›¸åŒ</p></blockquote><h3 id="å›¾è§£-1"><a href="#å›¾è§£-1" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/2021-02-21%2000.19.152021022100.gif"                      alt="2021-02-21 00.19.15"                ></p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ol><li><p>å‰åºéå†æ˜¯ä¸­å·¦å³ï¼Œæ¯æ¬¡å…ˆå¤„ç†çš„æ˜¯ä¸­é—´èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå…ˆå°†<strong><em>è·ŸèŠ‚ç‚¹</em></strong>æ”¾å…¥æ ˆä¸­ï¼Œ</p></li><li><p>ç„¶åå°†å³èŠ‚ç‚¹åŠ å…¥æ ˆï¼Œå†åŠ å…¥å·¦èŠ‚ç‚¹ã€‚</p></li><li><p>ä¸ºä»€ä¹ˆè¦å…ˆåŠ å…¥ å³èŠ‚ç‚¹ï¼Œå†åŠ å…¥å·¦èŠ‚ç‚¹å‘¢ï¼Ÿ å› ä¸ºè¿™æ ·å‡ºæ ˆçš„æ—¶å€™æ‰æ˜¯ä¸­å·¦å³çš„é¡ºåºã€‚</p></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> preorder = <span class="function">(<span class="params">root</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!root) <span class="keyword">return</span></span><br><span class="line">  <span class="keyword">const</span> stack = [root]</span><br><span class="line">  <span class="keyword">while</span>(stack.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">   <span class="keyword">const</span> n = stack.pop()</span><br><span class="line">  <span class="comment">//æ‹¿åˆ°n.val</span></span><br><span class="line">  <span class="keyword">if</span>(n.right) stack.push(n.right) <span class="comment">//ä¸ºä»€ä¹ˆè¦å…ˆå­˜rightå€¼ å› ä¸ºæ•°ç»„åè¿›å…ˆå‡º</span></span><br><span class="line">  <span class="keyword">if</span>(n.left) stack.push(n.left)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸­åºéå†ç®—æ³•å£è¯€"><a href="#ä¸­åºéå†ç®—æ³•å£è¯€" class="headerlink" title="ä¸­åºéå†ç®—æ³•å£è¯€"></a>ä¸­åºéå†ç®—æ³•å£è¯€</h3><ol><li>å¯¹æ ¹èŠ‚ç‚¹å·¦å­æ ‘è¿›è¡Œä¸­åºéå†</li><li>è®¿é—®æ ¹èŠ‚ç‚¹</li><li>å¯¹æ ¹èŠ‚ç‚¹å³å­æ ‘è¿›è¡Œå…ˆåºéå†</li></ol><h3 id="å›¾è§£-2"><a href="#å›¾è§£-2" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202102210007115022021022100.png"                      alt="image-20210221000711502" style="zoom:50%;"                 ></p><h2 id="ä¸­åºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰"><a href="#ä¸­åºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰" class="headerlink" title="ä¸­åºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰"></a>ä¸­åºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inorderTraversal = <span class="function">(<span class="params">root</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> midSort = <span class="function">(<span class="params">root</span>)=&gt;</span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(!root) <span class="keyword">return</span></span><br><span class="line">     midSort(root.left)</span><br><span class="line">     res.push(root.val)</span><br><span class="line">     midSort(root.right)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> midSort(root)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸­åºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰"><a href="#ä¸­åºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰" class="headerlink" title="ä¸­åºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰"></a>ä¸­åºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰</h2><h3 id="å›¾è§£-3"><a href="#å›¾è§£-3" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/2021-02-21%2000.42.122021022100.gif"                      alt="2021-02-21 00.42.12"                ></p><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>ä¸­åºéå†æ˜¯<code>å·¦ä¸­å³</code>ï¼Œå…ˆè®¿é—®çš„æ˜¯äºŒå‰æ ‘é¡¶éƒ¨çš„èŠ‚ç‚¹ï¼Œç„¶åä¸€å±‚ä¸€å±‚å‘ä¸‹è®¿é—®ã€‚</p><p>ç›´åˆ°åˆ°è¾¾æ ‘å·¦é¢çš„æœ€åº•éƒ¨ï¼Œå†å¼€å§‹å¤„ç†èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯åœ¨æŠŠèŠ‚ç‚¹çš„æ•°å€¼æ”¾è¿›resultæ•°ç»„ä¸­ï¼‰ï¼Œè¿™å°±é€ æˆäº†å¤„ç†é¡ºåºå’Œè®¿é—®é¡ºåºæ˜¯ä¸ä¸€è‡´çš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inorderTraversal = <span class="function">(<span class="params">root</span>)=&gt;</span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(!root) <span class="keyword">return</span></span><br><span class="line">   <span class="keyword">let</span> stack = []  <span class="comment">//è®¾ç½®ä¸€ä¸ªç©ºæ ˆ</span></span><br><span class="line">   <span class="keyword">let</span> p = root <span class="comment">//è®¾ç½®æŒ‡</span></span><br><span class="line">   <span class="keyword">while</span>(stack.length || p)&#123;</span><br><span class="line">      <span class="comment">/*****ä¸€ç›´æ‰¾å·¦èŠ‚ç‚¹****/</span>            </span><br><span class="line">       <span class="keyword">while</span>(p)&#123;</span><br><span class="line">          stack.push(p) <span class="comment">//æ¯å½“å·¦å­æ ‘æœ‰å€¼ [root left left left]</span></span><br><span class="line">          p = p.left</span><br><span class="line">       &#125;</span><br><span class="line">    <span class="comment">/*****ä¸€ç›´æ‰¾å·¦èŠ‚ç‚¹****/</span></span><br><span class="line">    <span class="comment">//æ‰¾å®Œæ‰€æœ‰å·¦èŠ‚ç‚¹ æ¨å‡ºæ ˆ [root left1 left2 left3] ==&gt; [left3 left2 left1 root ]</span></span><br><span class="line">    <span class="keyword">const</span> n = stack.pop()</span><br><span class="line">    <span class="comment">//æ‹¿n.val</span></span><br><span class="line">    p = n.right</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ååºéå†ç®—æ³•å£è¯€"><a href="#ååºéå†ç®—æ³•å£è¯€" class="headerlink" title="ååºéå†ç®—æ³•å£è¯€"></a>ååºéå†ç®—æ³•å£è¯€</h3><ol><li>å¯¹æ ¹èŠ‚ç‚¹å·¦å­æ ‘è¿›è¡Œä¸­åºéå†</li><li>å¯¹æ ¹èŠ‚ç‚¹å³å­æ ‘è¿›è¡Œå…ˆåºéå†</li><li>è®¿é—®æ ¹èŠ‚ç‚¹</li></ol><h3 id="å›¾è§£-4"><a href="#å›¾è§£-4" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202102210008331602021022100.png"                      alt="image-20210221000833160" style="zoom:50%;"                 ></p><h2 id="ååºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰"><a href="#ååºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰" class="headerlink" title="ååºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰"></a>ååºéå†ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res = []</span><br><span class="line"><span class="keyword">const</span> postorderTraversal = <span class="function">(<span class="params">root</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!root) <span class="keyword">return</span></span><br><span class="line">  postorderTraversal(root.left)</span><br><span class="line">  postorderTraversal(root.right)</span><br><span class="line">  res.push(root.val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ååºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰"><a href="#ååºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰" class="headerlink" title="ååºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰"></a>ååºéå†ï¼ˆè¿­ä»£ç‰ˆæœ¬ï¼‰</h2><h3 id="æ€è·¯ï¼ˆè¿™æ˜¯ä¸€ä¸ªè®¨å·§çš„åŠæ³•ï¼‰"><a href="#æ€è·¯ï¼ˆè¿™æ˜¯ä¸€ä¸ªè®¨å·§çš„åŠæ³•ï¼‰" class="headerlink" title="æ€è·¯ï¼ˆè¿™æ˜¯ä¸€ä¸ªè®¨å·§çš„åŠæ³•ï¼‰"></a>æ€è·¯ï¼ˆè¿™æ˜¯ä¸€ä¸ªè®¨å·§çš„åŠæ³•ï¼‰</h3><ol><li>å¦‚æœæˆ‘ä»¬æŠŠå‰åºéå†çš„ list.push(node.val) å˜æ›´ä¸º list.unshift(node.val) ï¼ˆéå†ç»“æœé€†åºï¼‰ï¼Œ</li><li>é‚£ä¹ˆéå†é¡ºåºå°±ç”± æ ¹å·¦å³ å˜æ›´ä¸º å³å·¦æ ¹ã€‚</li><li>ç„¶åæˆ‘ä»¬ä»…éœ€å°† å³å·¦æ ¹ å˜æ›´ä¸º <code>å·¦å³æ ¹</code> å³å¯å®Œæˆååºé</li></ol><h3 id="å›¾è§£-5"><a href="#å›¾è§£-5" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202102211144390252021022111.png"                      alt="image-20210221114439025"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/2021-02-21%2012.18.14-tuya2021022113.gif"                      alt="2021-02-21 12.18.14-tuya"                ></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> postorderTraversal = <span class="function">(<span class="params">root</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> list = [] <span class="comment">//éå†ç»“æœ</span></span><br><span class="line">    <span class="keyword">let</span> stack = [root] <span class="comment">//</span></span><br><span class="line">    <span class="keyword">if</span>(!root) <span class="keyword">return</span></span><br><span class="line">     <span class="keyword">while</span>(stack.length &gt;<span class="number">0</span>)&#123;</span><br><span class="line">       <span class="keyword">const</span> n = stack.pop() <span class="comment">// [n.left,n.right]</span></span><br><span class="line">       list.unshift(n.val) <span class="comment">//æ ¹æ˜¯æœ€ååŠ çš„ æœ€é‡Œé¢  [ n.left  n.right  n.val]</span></span><br><span class="line">       <span class="keyword">if</span>(n.left) stack.push(n.left)</span><br><span class="line">       <span class="keyword">if</span>(n.right) stack.push(n.right)</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">return</span> list</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å±‚åºéå†"><a href="#å±‚åºéå†" class="headerlink" title="å±‚åºéå†"></a>å±‚åºéå†</h2><blockquote><p>é¢˜ç›®æ¥æºï¼šLeetCodeï¼š102 äºŒå‰æ ‘çš„å±‚åºéå†</p></blockquote><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202102211313433592021022113.png"                      alt="image-20210221131343359" style="zoom: 80%;"                 ></p><p>ğŸ‘‘ç±»ä¼¼å¹¿åº¦ä¼˜å…ˆéå†äºŒå‰æ ‘ã€‚</p><p>ğŸ‘‘éå†å·¥ç¨‹ä¸­ï¼Œè®°å½•<code>æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å±‚çº§</code>ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ä¸åŒçš„æ•°ç»„ä¸­ã€‚</p><h3 id="å›¾è§£-6"><a href="#å›¾è§£-6" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/%E5%B1%82%E5%BA%8F2021022113.gif"                      alt="å±‚åº"                ></p><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>å…ˆå†™ä¸€ä¸ªå¹¿åº¦ä¼˜å…ˆéå†</p><p>åŠ å…¥å±‚çº§è®¡ç®—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> levelOrder = <span class="function"><span class="keyword">function</span> (<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root) <span class="keyword">return</span> []</span><br><span class="line">    <span class="keyword">const</span> q = [[root,<span class="number">0</span>]] <span class="comment">//æŠŠé¡¶å±‚åŠ å…¥æ ˆä¸­</span></span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(q.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="comment">//æ¨å‡ºæ¯ä¸€ä¸ªæ ˆä¸­é¡¶å±‚èŠ‚ç‚¹</span></span><br><span class="line">      <span class="keyword">const</span> [n,level]= q.shift()</span><br><span class="line">      <span class="keyword">if</span>(!res[level])&#123;</span><br><span class="line">          res.push([n.val])</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         res[level].push(n.val)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//å¦‚æœå·¦å³èŠ‚ç‚¹éƒ½å­˜åœ¨åˆ™å±‚çº§+1</span></span><br><span class="line">      <span class="keyword">if</span>(n.left) q.push([n.left,level+<span class="number">1</span>])</span><br><span class="line">      <span class="keyword">if</span>(n.right) q.push([n.right,level+<span class="number">1</span>])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;äºŒå‰æ ‘çš„å››ç§éå†æ–¹å¼ï¼šå…ˆåºéå†ã€ä¸­åºéå†ã€ååºéå†ã€å±‚åºéå†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ¨¡æ‹Ÿä¸€æ£µäºŒå‰æ ‘&quot;&gt;&lt;a href=&quot;#æ¨¡æ‹Ÿä¸€æ£µäºŒå‰æ ‘&quot; class=&quot;headerlink&quot; title=&quot;æ¨¡æ‹Ÿä¸€æ£µäºŒå‰æ ‘&quot;&gt;&lt;/a&gt;æ¨¡æ‹Ÿä¸€æ£µäºŒå‰æ ‘&lt;
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://mariogogogo.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://mariogogogo.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>æ·±åº¦å¹¿åº¦ä¼˜å…ˆéå†</title>
    <link href="http://mariogogogo.github.io/2021/02/19/%E7%AE%97%E6%B3%95-%E6%B7%B1%E5%BA%A6%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86/"/>
    <id>http://mariogogogo.github.io/2021/02/19/ç®—æ³•-æ·±åº¦å¹¿åº¦ä¼˜å…ˆéå†/</id>
    <published>2021-02-18T16:00:00.000Z</published>
    <updated>2021-06-18T05:27:17.049Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><p>å…ˆæ¥å­¦ä¸€ä¸‹æ ‘çš„æ·±åº¦ä¸å¹¿åº¦ä¼˜å…ˆ</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2021022017image-20210220170016966.png"                      alt="image-20210220170016966"                 ></p><h2 id="æ·±åº¦ä¼˜å…ˆéå†ç®—æ³•å£è¯€"><a href="#æ·±åº¦ä¼˜å…ˆéå†ç®—æ³•å£è¯€" class="headerlink" title="æ·±åº¦ä¼˜å…ˆéå†ç®—æ³•å£è¯€"></a>æ·±åº¦ä¼˜å…ˆéå†ç®—æ³•å£è¯€</h2><p>1.è®¿é—®æ ¹èŠ‚ç‚¹</p><p>2.å¯¹æ ¹èŠ‚ç‚¹chilidrenæŒ¨ä¸ªè¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†ï¼ˆé€’å½’ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dfs.js</span></span><br><span class="line"><span class="keyword">const</span> root = &#123;</span><br><span class="line">  val: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">  children: [</span><br><span class="line">    &#123;</span><br><span class="line">      val: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          val: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">          children: [],</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          val: <span class="string">&#x27;d&#x27;</span>,</span><br><span class="line">          children: [],</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      val: <span class="string">&#x27;e&#x27;</span>,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          val: <span class="string">&#x27;f&#x27;</span>,</span><br><span class="line">          children: [],</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          val: <span class="string">&#x27;g&#x27;</span>,</span><br><span class="line">          children: [],</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="dfs"><a href="#dfs" class="headerlink" title="dfs"></a>dfs</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dfs = <span class="function">(<span class="params">root</span>)=&gt;</span>&#123;</span><br><span class="line">   root.chilidren.forEach(dfs)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸€è¡Œä»£ç   æ˜¯ä¸æ˜¯å¾ˆç®€å•</p></blockquote><h2 id="å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•å£è¯€"><a href="#å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•å£è¯€" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•å£è¯€"></a>å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•å£è¯€</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2021022017image-20210220170917519.png"                      alt="image-20210220170917519"                ></p><h3 id="bfs"><a href="#bfs" class="headerlink" title="bfs"></a>bfs</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bfs = <span class="function">(<span class="params">root</span>)=&gt;</span>&#123;</span><br><span class="line">   <span class="comment">//æ–°å»ºé˜Ÿåˆ— å…¥é˜Ÿ</span></span><br><span class="line">   <span class="keyword">const</span> q = [root]</span><br><span class="line">   <span class="keyword">while</span>(q.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">       <span class="comment">//æŠŠé˜Ÿå¤´å‡ºé˜Ÿå qå°±ç©ºäº†</span></span><br><span class="line">       <span class="keyword">const</span> n = q.shift()</span><br><span class="line">       <span class="comment">//è¿™é‡Œå¯ä»¥æ‹¿åˆ°n.val,ç»§ç»­éå†children</span></span><br><span class="line">       n.children.forEach(<span class="function"><span class="params">child</span> =&gt;</span>&#123;</span><br><span class="line">           q.push(child)</span><br><span class="line">       &#125;)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ ‘çš„éå†æ–¹å¼æ€»ä½“åˆ†ä¸ºä¸¤ç±»ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ï¼›</p><p>å¸¸è§çš„ DFS ï¼š å…ˆåºéå†ã€ä¸­åºéå†ã€ååºéå†ï¼›<br>å¸¸è§çš„ BFS ï¼š å±‚åºéå†ï¼ˆå³æŒ‰å±‚éå†ï¼‰ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;å…ˆæ¥å­¦ä¸€ä¸‹æ ‘çš„æ·±åº¦ä¸å¹¿åº¦ä¼˜å…ˆ&lt;/p&gt;
&lt;p&gt;&lt;img  
                     lazyload
                     src=&quot;/images/loading.svg&quot;
             
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://mariogogogo.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://mariogogogo.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®ç»“æ„ä¸ç®—æ³•å…¥é—¨æŒ‡å—</title>
    <link href="http://mariogogogo.github.io/2021/02/18/%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/"/>
    <id>http://mariogogogo.github.io/2021/02/18/ç®—æ³•å…¥é—¨/</id>
    <published>2021-02-17T16:00:00.000Z</published>
    <updated>2021-02-20T09:26:04.465Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„é¢„ç®—æ³•:</p><p>æ•°æ®ç»“æ„ï¼šæ•°ç»„ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ•£åˆ—è¡¨ã€äºŒå‰æ ‘ã€å †ã€è·³è¡¨ã€å›¾ã€Tire æ ‘<br>ç®—æ³•ï¼š é€’å½’ã€æ’åºã€äºŒåˆ†æŸ¥æ‰¾ã€æœç´¢ã€å“ˆå¸Œç®—æ³•ã€è´ªå¿ƒç®—æ³•ã€åˆ†æ²»ç®—æ³•ã€å›æº¯ç®—æ³•ã€åŠ¨æ€è§„åˆ’ã€å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•</p><a id="more"></a><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2021022014image-20210220143950354.png"                      alt="image-20210220143950354"                ></p><h2 id="ç®—æ³•å¤æ‚åº¦"><a href="#ç®—æ³•å¤æ‚åº¦" class="headerlink" title="ç®—æ³•å¤æ‚åº¦"></a>ç®—æ³•å¤æ‚åº¦</h2><p>å¤æ‚åº¦åˆ†ææ³•åˆ™<br>1ï¼‰å•æ®µä»£ç çœ‹é«˜é¢‘ï¼šæ¯”å¦‚å¾ªç¯ã€‚<br>2ï¼‰å¤šæ®µä»£ç å–æœ€å¤§ï¼šæ¯”å¦‚ä¸€æ®µä»£ç ä¸­æœ‰å•å¾ªç¯å’Œå¤šé‡å¾ªç¯ï¼Œé‚£ä¹ˆå–å¤šé‡å¾ªç¯çš„å¤æ‚åº¦ã€‚<br>3ï¼‰åµŒå¥—ä»£ç æ±‚ä¹˜ç§¯ï¼šæ¯”å¦‚é€’å½’ã€å¤šé‡å¾ªç¯ç­‰<br>4ï¼‰å¤šä¸ªè§„æ¨¡æ±‚åŠ æ³•ï¼šæ¯”å¦‚æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°æ§åˆ¶ä¸¤ä¸ªå¾ªç¯çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆè¿™æ—¶å°±å–äºŒè€…å¤æ‚åº¦ç›¸åŠ ã€‚</p><h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><h4 id="O-1"><a href="#O-1" class="headerlink" title="O(1)"></a>O(1)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">i += <span class="number">1</span>;</span><br><span class="line"><span class="comment">//æ¯æ¬¡æ‰§è¡Œä¸€æ¬¡</span></span><br></pre></td></tr></table></figure><h4 id="O-n"><a href="#O-n" class="headerlink" title="O(n)"></a>O(n)</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="O-n-2"><a href="#O-n-2" class="headerlink" title="O(n^2)"></a>O(n^2)</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i, j);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="O-logN"><a href="#O-logN" class="headerlink" title="O(logN)"></a>O(logN)</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span>(i&lt; n)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">   i*=<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="number">2</span>çš„å¤šå°‘æ¬¡æ–¹ === N</span><br></pre></td></tr></table></figure><h3 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h3><blockquote><p>ç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨å­˜å‚¨ç©ºé—´å¤§å°çš„é‡åº¦</p></blockquote><h4 id="0-1"><a href="#0-1" class="headerlink" title="0(1)"></a>0(1)</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">i += <span class="number">1</span>;</span><br><span class="line"><span class="comment">//å£°æ˜äº†å•ä¸ªå˜é‡  å ç”¨å†…å­˜å°±æ˜¯1</span></span><br></pre></td></tr></table></figure><h4 id="O-n-1"><a href="#O-n-1" class="headerlink" title="O(n)"></a>O(n)</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">  res.push(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//resçš„ç©ºé—´å ç”¨ å–å†³äº n</span></span><br></pre></td></tr></table></figure><h4 id="O-n-2-1"><a href="#O-n-2-1" class="headerlink" title="O(n^2)"></a>O(n^2)</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">  res.push(i);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">    res[i].push(j);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">ç±»ä¼¼äºä¸€ä¸ªçŸ©é˜µ---- - å¤šç»´æ•°ç»„;</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–æ¦‚å¿µ"><a href="#å…¶ä»–æ¦‚å¿µ" class="headerlink" title="å…¶ä»–æ¦‚å¿µ"></a>å…¶ä»–æ¦‚å¿µ</h2><h3 id="ä»€ä¹ˆæ˜¯çº¿æ€§"><a href="#ä»€ä¹ˆæ˜¯çº¿æ€§" class="headerlink" title="ä»€ä¹ˆæ˜¯çº¿æ€§"></a>ä»€ä¹ˆæ˜¯çº¿æ€§</h3><p>çº¿æ€§è¡¨: çº¿æ€§è¡¨å°±æ˜¯æ•°æ®æ’æˆåƒä¸€æ¡çº¿ä¸€æ ·çš„ç»“æ„.æ¯ä¸ªç°è¡Œè¡¨ä¸Šçš„æ•°æ®æœ€å¤šåªæœ‰å‰å’Œåä¸¤ä¸ªæ–¹å‘.å¸¸è§çš„çº¿æ€§è¡¨ç»“æ„ï¼šæ•°ç»„ï¼Œé“¾è¡¨ã€é˜Ÿåˆ—ã€æ ˆç­‰ã€‚</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2021022014image-20210220145243033.png"                      alt="image-20210220145243033"                ></p><h3 id="ä»€ä¹ˆæ˜¯éçº¿æ€§"><a href="#ä»€ä¹ˆæ˜¯éçº¿æ€§" class="headerlink" title="ä»€ä¹ˆæ˜¯éçº¿æ€§"></a>ä»€ä¹ˆæ˜¯éçº¿æ€§</h3><p>é€’å½’ï¼šæ¯”å¦‚äºŒå‰æ ‘éå†å°±æ˜¯å…¸å‹çš„éçº¿æ€§éå†ç»“æ„</p><h2 id="åˆ·é¢˜æŒ‡å—"><a href="#åˆ·é¢˜æŒ‡å—" class="headerlink" title="åˆ·é¢˜æŒ‡å—"></a>åˆ·é¢˜æŒ‡å—</h2><blockquote><p>æ•°æ®ç»“æ„æ˜¯å·¥å…·ï¼Œç®—æ³•æ˜¯é€šè¿‡åˆé€‚çš„å·¥å…·è§£å†³ç‰¹å®šé—®é¢˜çš„åŠæ³•</p></blockquote><p><strong>å…ˆåˆ·äºŒå‰æ ‘ï¼Œå…ˆåˆ·äºŒå‰æ ‘ï¼Œå…ˆåˆ·äºŒå‰æ ‘ï¼Œ</strong></p><p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å› ä¸ºäºŒå‰æ ‘æ˜¯æœ€å®¹æ˜“åŸ¹å…»æ¡†æ¶æ€ç»´çš„ï¼Œè€Œä¸”å¤§éƒ¨åˆ†å¸¸è€ƒç®—æ³•æœ¬è´¨ä¸Šéƒ½æ˜¯æ ‘çš„éå†é—®é¢˜</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„é¢„ç®—æ³•:&lt;/p&gt;
&lt;p&gt;æ•°æ®ç»“æ„ï¼šæ•°ç»„ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ•£åˆ—è¡¨ã€äºŒå‰æ ‘ã€å †ã€è·³è¡¨ã€å›¾ã€Tire æ ‘&lt;br&gt;ç®—æ³•ï¼š é€’å½’ã€æ’åºã€äºŒåˆ†æŸ¥æ‰¾ã€æœç´¢ã€å“ˆå¸Œç®—æ³•ã€è´ªå¿ƒç®—æ³•ã€åˆ†æ²»ç®—æ³•ã€å›æº¯ç®—æ³•ã€åŠ¨æ€è§„åˆ’ã€å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•&lt;/p&gt;
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://mariogogogo.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://mariogogogo.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Vue-nextTickåŸç†</title>
    <link href="http://mariogogogo.github.io/2020/12/15/Vue-nextTick%E5%8E%9F%E7%90%86/"/>
    <id>http://mariogogogo.github.io/2020/12/15/Vue-nextTickåŸç†/</id>
    <published>2020-12-14T16:00:00.000Z</published>
    <updated>2021-01-05T05:15:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>1.äº†è§£nextTickçš„å®ç°åŸç†</p><p>2.äº†è§£æ•°æ®å˜åŒ–åˆ°DOMçš„å˜åŒ–æ˜¯å¼‚æ­¥è¿‡ç¨‹</p><a id="more"></a><h2 id="å…ˆäº†è§£ä¸‹å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"><a href="#å…ˆäº†è§£ä¸‹å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" class="headerlink" title="å…ˆäº†è§£ä¸‹å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"></a>å…ˆäº†è§£ä¸‹å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</h2><table><thead><tr><th><strong>å¸¸è§**</strong>å®ä»»åŠ¡**</th><th>setTimeout  setInterval  setImmediate    script    MessageChannel</th></tr></thead><tbody><tr><td><strong>å¸¸è§**</strong>å¾®ä»»åŠ¡**</td><td>Promise    MutationObserver        Object.observe(åºŸå¼ƒ)      process.nextTickï¼ˆnodeï¼‰</td></tr></tbody></table><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Vue.nextTick = nextTick; <span class="comment">//èµ‹å€¼ç»™å¤§Vueçš„é™æ€æ–¹æ³•</span></span><br><span class="line"><span class="comment">//å…¨å±€æŒ‚è½½</span></span><br><span class="line"> Vue.prototype.$nextTick = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> nextTick(fn, <span class="built_in">this</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆæŸ¥çœ‹æ˜¯å¦æµè§ˆå™¨æ”¯æŒ<code>setImmediate</code>è¿˜æœ‰<code>Promise</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">Promise</span> !== <span class="string">&#x27;undefined&#x27;</span> &amp;&amp; isNative(<span class="built_in">Promise</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> p = <span class="built_in">Promise</span>.resolve();</span><br><span class="line">  timerFunc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    p.then(flushCallbacks);</span><br><span class="line">    <span class="keyword">if</span> (isIOS) &#123; <span class="built_in">setTimeout</span>(noop); &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  isUsingMicroTask = <span class="literal">true</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (!isIE &amp;&amp; <span class="keyword">typeof</span> MutationObserver !== <span class="string">&#x27;undefined&#x27;</span> &amp;&amp; (</span><br><span class="line">  isNative(MutationObserver) ||</span><br><span class="line">  <span class="comment">// PhantomJS and iOS 7.x</span></span><br><span class="line">  MutationObserver.toString() === <span class="string">&#x27;[object MutationObserverConstructor]&#x27;</span></span><br><span class="line">)) &#123;</span><br><span class="line">  <span class="comment">// Use MutationObserver where native Promise is not available,</span></span><br><span class="line">  <span class="comment">// e.g. PhantomJS, iOS7, Android 4.4</span></span><br><span class="line">  <span class="comment">// (#6466 MutationObserver is unreliable in IE11)</span></span><br><span class="line">  <span class="keyword">var</span> counter = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> observer = <span class="keyword">new</span> MutationObserver(flushCallbacks);</span><br><span class="line">  <span class="keyword">var</span> textNode = <span class="built_in">document</span>.createTextNode(<span class="built_in">String</span>(counter));</span><br><span class="line">  observer.observe(textNode, &#123;</span><br><span class="line">    characterData: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line">  timerFunc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    counter = (counter + <span class="number">1</span>) % <span class="number">2</span>;</span><br><span class="line">    textNode.data = <span class="built_in">String</span>(counter);</span><br><span class="line">  &#125;;</span><br><span class="line">  isUsingMicroTask = <span class="literal">true</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> setImmediate !== <span class="string">&#x27;undefined&#x27;</span> &amp;&amp; isNative(setImmediate)) &#123;</span><br><span class="line">  <span class="comment">// Fallback to setImmediate.</span></span><br><span class="line">  <span class="comment">// Technically it leverages the (macro) task queue,</span></span><br><span class="line">  <span class="comment">// but it is still a better choice than setTimeout.</span></span><br><span class="line">  timerFunc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    setImmediate(flushCallbacks);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// Fallback to setTimeout.</span></span><br><span class="line">  timerFunc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(flushCallbacks, <span class="number">0</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick"></a>nextTick</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"> callbacks = [] <span class="comment">//ç¼“å­˜è¿›æ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nextTick</span> (<span class="params">cb, ctx</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _resolve;</span><br><span class="line">  callbacks.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cb) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        cb.call(ctx);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        handleError(e, ctx, <span class="string">&#x27;nextTick&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (_resolve) &#123;</span><br><span class="line">      _resolve(ctx);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">if</span> (!pending) &#123;</span><br><span class="line">    pending = <span class="literal">true</span>;</span><br><span class="line">    timerFunc();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//å¦‚æœæ²¡æœ‰ä¼ cb  åˆ™è¿”å›promise å¯ä»¥æ¥.thenï¼ˆï¼‰æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">if</span> (!cb &amp;&amp; <span class="keyword">typeof</span> <span class="built_in">Promise</span> !== <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">      _resolve = resolve;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡åˆ¤æ–­ <code>pending</code> æ¥ç¡®å®šæ˜¯å¦éœ€è¦æ³¨å†Œå®å¾®ä»»åŠ¡ ã€‚</p><p>å½“ç¬¬ä¸€æ¬¡æ³¨å†Œçš„æ—¶å€™ï¼ŒæŠŠ <code>pending</code> è®¾ç½®ä¸º <code>true</code>ï¼Œè¡¨ç¤ºä»»åŠ¡é˜Ÿåˆ—å·²ç»åœ¨å¼€å§‹äº†ï¼ŒåŒä¸€æ—¶æœŸå†…æ— éœ€æ³¨å†Œäº†</p><p>ç„¶ååœ¨ ä»»åŠ¡é˜Ÿåˆ— æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå†æŠŠ pending è®¾ç½®ä¸º <code>false</code>ï¼ˆåœ¨ <code>flushCallbacks</code> ä¸­ï¼‰</p><h2 id="flushCallbacks"><a href="#flushCallbacks" class="headerlink" title="flushCallbacks"></a>flushCallbacks</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> callbacks = [];</span><br><span class="line"><span class="keyword">var</span> pending = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flushCallbacks</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  pending = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">var</span> copies = callbacks.slice(<span class="number">0</span>);</span><br><span class="line">  callbacks.length = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; copies.length; i++) &#123;</span><br><span class="line">    copies[i]();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ä»»åŠ¡å’Œ å¾®ä»»åŠ¡ çš„å›è°ƒï¼Œéƒ½æ˜¯æ‰§è¡Œè¿™ä¸ª flushCallbacksï¼Œè¿™ä¸ªæ–¹æ³•ä½œç”¨ï¼š</p><p>1ã€å¤åˆ¶ä¸€é callbacks </p><p>2ã€æŠŠ åŸæ¥ callbacks æ¸…ç©º</p><p>3ã€éå† å¤åˆ¶çš„ callbacks ï¼Œç„¶åé€ä¸ªæ‰§è¡Œ</p><h2 id="ä¸€ä¸ªæœ‰æ„æ€çš„å°æµ‹è¯•"><a href="#ä¸€ä¸ªæœ‰æ„æ€çš„å°æµ‹è¯•" class="headerlink" title="ä¸€ä¸ªæœ‰æ„æ€çš„å°æµ‹è¯•"></a>ä¸€ä¸ªæœ‰æ„æ€çš„å°æµ‹è¯•</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  retrun &#123;</span><br><span class="line">      msg: <span class="string">&quot;This is NextTick Page&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">change () &#123;</span><br><span class="line">      <span class="built_in">this</span>.msg = <span class="string">&quot;hello vue&quot;</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;sync:&#x27;</span>,<span class="built_in">this</span>.$refs.msg.innerText)   <span class="comment">// &#x27;This is NextTick Page&#x27;</span></span><br><span class="line">       <span class="built_in">this</span>.$nextTick(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;nextTick&#x27;</span>,<span class="built_in">this</span>.$refs.msg.innerText) <span class="comment">// &#x27;hello vue&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="built_in">this</span>.$nextTick().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;promise&#x27;</span>,<span class="built_in">this</span>.$refs.msg.innerText) <span class="comment">// &#x27;hello vue&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">change1 () &#123;</span><br><span class="line">      <span class="built_in">this</span>.$nextTick(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;nextTick&#x27;</span>,<span class="built_in">this</span>.$refs.msg.innerText) <span class="comment">// &#x27;This is NextTick Page&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="built_in">this</span>.msg = <span class="string">&quot;hello vue&quot;</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;sync:&#x27;</span>,<span class="built_in">this</span>.$refs.msg.innerText) <span class="comment">// &#x27;This is NextTick Page&#x27;</span></span><br><span class="line">      <span class="built_in">this</span>.$nextTick().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;promise&#x27;</span>,<span class="built_in">this</span>.$refs.msg.innerText) <span class="comment">// &#x27;hello vue&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Œå› ä¸ºcallbackå‡½æ•°ä¼šä¼˜å…ˆpushè¿›å»$nextTickçš„cbå‡½æ•°ï¼Œä½†è¿™æ—¶å€™this.msgæ‰å¼€å§‹é‡æ–°èµ‹å€¼åŠ å…¥<code>flushSchedulerQueue</code>å‡½æ•°ï¼Œé‡æ–°æ¸²æŸ“æ˜¯å†åé¢ã€‚æ‰€ä»¥ç¬¬ä¸€ä¸ªnextTickæ‹¿åˆ°çš„è¿˜æ˜¯æ—§çš„å€¼</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><code>nextTick</code>æ˜¯è¦æŠŠæ‰§è¡Œçš„ä»»åŠ¡æ¨å…¥åˆ°ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå†ä¸‹ä¸€ä¸ªtickåŒæ­¥æ‰§è¡Œ</p><p>æ•°æ®æ”¹å˜åè§¦å‘äº†æ¸²æŸ“watcherçš„updateï¼Œä½†æ˜¯watcherçš„flushæ˜¯å†nexttIckåï¼Œæ‰€ä»¥é‡æ–°æ¸²æŸ“æ˜¯å¼‚æ­¥çš„</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;1.äº†è§£nextTickçš„å®ç°åŸç†&lt;/p&gt;
&lt;p&gt;2.äº†è§£æ•°æ®å˜åŒ–åˆ°DOMçš„å˜åŒ–æ˜¯å¼‚æ­¥è¿‡ç¨‹&lt;/p&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue-æ•°ç»„åŠ«æŒç›‘å¬åŸç†</title>
    <link href="http://mariogogogo.github.io/2020/12/11/Vue-%E6%95%B0%E7%BB%84%E5%8A%AB%E6%8C%81%E7%9B%91%E5%90%AC%E5%8E%9F%E7%90%86/"/>
    <id>http://mariogogogo.github.io/2020/12/11/Vue-æ•°ç»„åŠ«æŒç›‘å¬åŸç†/</id>
    <published>2020-12-10T16:00:00.000Z</published>
    <updated>2021-01-05T05:07:36.000Z</updated>
    
    <content type="html"><![CDATA[<ol><li><p>å“åº”å¼æ•°æ®ä¸­å¯¹äºå¯¹è±¡<code>æ–°å¢åˆ é™¤å±æ€§</code>åŠæ•°ç»„çš„ä¸‹æ ‡è®¿é—®ä¿®æ”¹æ ¸æ·»åŠ æ•°æ®ç­‰å˜åŒ–æ˜¯è§‚å¯Ÿä¸åˆ°çš„</p></li><li><p>é€šè¿‡Vue.setä»¥åŠæ•°ç»„çš„Apiå¯ä»¥è§£å†³è¿™äº›é—®é¢˜æœ¬è´¨ä¸Šä»–ä»¬å†…éƒ¨æ‰‹åŠ¨åšäº†ä¾èµ–æ›´æ–°çš„æ´¾å‘</p></li></ol><a id="more"></a><h2 id="ä¸ºä»€ä¹ˆç›‘å¬ä¸äº†"><a href="#ä¸ºä»€ä¹ˆç›‘å¬ä¸äº†" class="headerlink" title="ä¸ºä»€ä¹ˆç›‘å¬ä¸äº†"></a>ä¸ºä»€ä¹ˆç›‘å¬ä¸äº†</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2020121009image-20201210093723350.png"                      alt="image-20201210093723350" style="zoom:50%;"                 ></p><p>ä»ä¸Šé¢ä»£ç é‡Œï¼Œé¦–å…ˆç›‘å¬äº†modelæ•°ç»„é‡Œæ‰€æœ‰çš„å±æ€§ï¼Œç„¶åé€šè¿‡å„ç§æ•°ç»„çš„æ–¹æ³•æ¥ä¿®æ”¹å½“å‰æ•°ç»„ï¼Œå¾—å‡ºä»¥ä¸‹å‡ ä¸ªç»“è®ºã€‚</p><p>1ã€==ç›´æ¥ä¿®æ”¹æ•°ç»„ä¸­å·²æœ‰çš„å…ƒç´ æ˜¯å¯ä»¥è¢«ç›‘å¬çš„==ã€‚</p><p>2ã€æ•°ç»„çš„æ“ä½œæ–¹æ³•å¦‚æœæ˜¯æ“ä½œå·²ç»å­˜åœ¨çš„è¢«ç›‘å¬çš„å…ƒç´ ä¹Ÿæ˜¯å¯ä»¥è§¦å‘setterè¢«ç›‘å¬çš„ã€‚</p><p>3ã€åªæœ‰pushã€lengthã€popä¸€äº›ç‰¹æ®Šçš„æ–¹æ³•ç¡®å®ä¸èƒ½è§¦å‘setterï¼Œè¿™è·Ÿæ–¹æ³•çš„å†…éƒ¨å®ç°ä¸Object.definePropertyçš„setteré’©å­çš„è§¦å‘å®ç°æœ‰å…³ç³»ï¼Œæ˜¯è¯­è¨€å±‚é¢çš„åŸå› ã€‚</p><p>4ã€==æ”¹å˜è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸‹æ ‡çš„å€¼æ—¶ï¼Œå€¼å˜åŒ–æ˜¯ä¸èƒ½ç›‘å¬åˆ°çš„==ã€‚è¿™ä¸ªå…¶å®å¾ˆå¥½ç†è§£ï¼Œä¸å­˜åœ¨çš„å±æ€§å½“ç„¶æ˜¯ä¸èƒ½ç›‘å¬åˆ°ï¼Œå› ä¸ºç»‘å®šç›‘å¬æ“ä½œåœ¨ä¹‹å‰å·²ç»æ‰§è¡Œè¿‡äº†ï¼Œåæ·»åŠ çš„å…ƒç´ å±æ€§åœ¨ç»‘å®šå½“æ—¶éƒ½è¿˜æ²¡æœ‰å­˜åœ¨ï¼Œå½“ç„¶æ²¡æœ‰åŠæ³•æå‰å»ç›‘å¬å®ƒäº†ã€‚</p><p>æ‰€ä»¥ç»¼ä¸Šï¼ŒObject.definePropertyä¸èƒ½ç›‘å¬åˆ°æ•°ç»„å†…çš„å€¼å˜åŒ–çš„è¯´æ³•æ˜¯é”™è¯¯çš„ï¼ŒåŒæ—¶ä¹Ÿå¾—å‡ºäº†aé—®é¢˜çš„ç­”æ¡ˆï¼Œè¯­è¨€å±‚é¢ä¸æ”¯æŒç”¨Object.definePropertyç›‘å¬ä¸å­˜åœ¨çš„æ•°ç»„å…ƒç´ ï¼Œå¹¶ä¸”é€šè¿‡ä¸€äº›èƒ½é€ æˆæ•°ç»„çš„æ–¹æ³•é€ æˆæ•°ç»„æ”¹å˜ä¹Ÿä¸èƒ½ç›‘å¬åˆ°ã€‚</p><h2 id="Vueç›‘å¬Arrayä¸‰æ­¥æ›²"><a href="#Vueç›‘å¬Arrayä¸‰æ­¥æ›²" class="headerlink" title="Vueç›‘å¬Arrayä¸‰æ­¥æ›²"></a>Vueç›‘å¬Arrayä¸‰æ­¥æ›²</h2><p>ç¬¬ä¸€æ­¥ï¼šå…ˆè·å–åŸç”Ÿ Array çš„åŸå‹æ–¹æ³•ï¼Œå› ä¸ºæ‹¦æˆªåè¿˜æ˜¯éœ€è¦åŸç”Ÿçš„æ–¹æ³•å¸®æˆ‘ä»¬å®ç°æ•°ç»„çš„å˜åŒ–ã€‚</p><p>ç¬¬äºŒæ­¥ï¼šå¯¹ Array çš„åŸå‹æ–¹æ³•ä½¿ç”¨ Object.defineProperty åšä¸€äº›æ‹¦æˆªæ“ä½œã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼š==æŠŠéœ€è¦è¢«æ‹¦æˆªçš„ Array ç±»å‹çš„æ•°æ®åŸå‹æŒ‡å‘æ”¹é€ ååŸå‹==ã€‚8888</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">const</span> arrayProto = <span class="built_in">Array</span>.prototype <span class="comment">// è·å–Arrayçš„åŸå‹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">def</span> (<span class="params">obj, key</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(obj, key, &#123;</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    value: <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(key); <span class="comment">// æ§åˆ¶å°è¾“å‡º push</span></span><br><span class="line">      <span class="built_in">console</span>.log(args); <span class="comment">// æ§åˆ¶å°è¾“å‡º [Array(2), 7, &quot;hello!&quot;]</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">// è·å–åŸç”Ÿçš„æ–¹æ³•</span></span><br><span class="line">      <span class="keyword">let</span> original = arrayProto[key];</span><br><span class="line">      <span class="comment">// å°†å¼€å‘è€…çš„å‚æ•°ä¼ ç»™åŸç”Ÿçš„æ–¹æ³•ï¼Œä¿è¯æ•°ç»„æŒ‰ç…§å¼€å‘è€…çš„æƒ³æ³•è¢«æ”¹å˜</span></span><br><span class="line">      <span class="keyword">const</span> result = original.apply(<span class="built_in">this</span>, args);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// do something æ¯”å¦‚é€šçŸ¥Vueè§†å›¾è¿›è¡Œæ›´æ–°</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘çš„æ•°æ®è¢«æ”¹å˜äº†ï¼Œè§†å›¾è¯¥æ›´æ–°å•¦&#x27;</span>);</span><br><span class="line">      <span class="built_in">this</span>.text = <span class="string">&#x27;hello Vue&#x27;</span>;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°çš„åŸå‹</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="function"><span class="title">push</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡å†™èµ‹å€¼</span></span><br><span class="line">def(obj, <span class="string">&#x27;push&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸå‹çš„æŒ‡å‘é‡å†™</span></span><br><span class="line">arr.__proto__ = obj;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œpush</span></span><br><span class="line">arr.push([<span class="number">1</span>, <span class="number">2</span>], <span class="number">7</span>, <span class="string">&#x27;hello!&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure><p>é‚£å¿…é¡»æƒ³ä¸ªåŠæ³•â€“æ‹¦æˆªå™¨è¦†ç›–Array.prototypeã€‚</p><blockquote><p>é€šè¿‡Vue.setå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬è´¨ä¸Šå†…éƒ¨æ‰‹åŠ¨å»åšäº†==ä¾èµ–æ›´æ–°çš„æ´¾å‘==</p></blockquote><h2 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h2><blockquote><p>Arrayåœ¨<code>getter</code>ä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨æ‹¦æˆªå™¨ä¸­è§¦å‘ä¾èµ–</p></blockquote><p>æœ€åï¼Œæ›´æ–°åŠ«æŒæ•°ç»„å®ä¾‹çš„åŸå‹ï¼Œåœ¨ ES6 ä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨ç§æœ‰å±æ€§ proto æŒ‡å®šåŸå‹ï¼Œä¹‹åï¼Œä¾¿å¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.setPrototypeOf(arr, injackingPrototype)</span><br></pre></td></tr></table></figure><p>æ•°ç»„æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ï¼Œå…¶ä¸‹æ ‡å®é™…ä¸Šå°±æ˜¯å¯¹è±¡çš„å±æ€§ï¼Œæ‰€ä»¥ç†è®ºä¸Šæ˜¯å¯ä»¥é‡‡ç”¨ Object.defineProperty() æ–¹æ³•å¤„ç†æ•°ç»„å¯¹è±¡ã€‚</p><p>ä½†æ˜¯ Vue å¹¶æ²¡æœ‰é‡‡ç”¨ä¸Šè¿°æ–¹æ³•åŠ«æŒæ•°ç»„å¯¹è±¡ï¼Œç¬”è€…çŒœæµ‹ä¸»è¦ç”±äºä»¥ä¸‹ä¸¤ç‚¹ï¼šï¼ˆè¯»è€…æœ‰æ›´å¥½çš„è§è§£ï¼Œæ¬¢è¿ç•™è¨€ã€‚ï¼‰</p><p><strong>1ã€ç‰¹æ®Šçš„ length å±æ€§</strong></p><p>æ•°ç»„å¯¹è±¡çš„ length å±æ€§çš„æè¿°ç¬¦å¤©ç”Ÿç‹¬ç‰¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(arr, <span class="string">&#x27;length&#x27;</span>).configurable <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>è¿™å°±æ„å‘³ç€æ— æ³•é€šè¿‡ Object.defineProperty() æ–¹æ³•åŠ«æŒ length å±æ€§çš„è¯»å–å’Œè®¾ç½®æ–¹æ³•ã€‚</p><p>ç›¸æ¯”è¾ƒå¯¹è±¡çš„å±æ€§ï¼Œæ•°ç»„ä¸‹æ ‡å˜åŒ–åœ°ç›¸å¯¹é¢‘ç¹ï¼Œå¹¶ä¸”æ”¹å˜æ•°ç»„é•¿åº¦çš„æ–¹æ³•ä¹Ÿæ¯”è¾ƒçµæ´»ï¼Œä¸€æ—¦æ•°ç»„çš„é•¿åº¦å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆåœ¨æ— æ³•è‡ªåŠ¨æ„ŸçŸ¥çš„æƒ…å†µä¸‹ï¼Œå¼€å‘è€…åªèƒ½æ‰‹åŠ¨æ›´æ–°æ–°å¢çš„æ•°ç»„ä¸‹æ ‡ï¼Œè¿™å¯æ˜¯ä¸€ä¸ªå¾ˆç¹ççš„å·¥ä½œã€‚</p><p><strong>2ã€æ•°ç»„çš„æ“ä½œåœºæ™¯</strong></p><p>æ•°ç»„ä¸»è¦çš„æ“ä½œåœºæ™¯è¿˜æ˜¯éå†ï¼Œè€Œå¯¹äºæ¯ä¸€ä¸ªå…ƒç´ éƒ½æŒ‚è½½ä¸€ä¸ª get å’Œ set æ–¹æ³•ï¼Œææ€•ä¹Ÿæ˜¯ä¸å°çš„æ€§èƒ½è´Ÿæ‹…ã€‚</p><p><strong>3ã€æ•°ç»„æ–¹æ³•çš„åŠ«æŒ</strong></p><p>æœ€ç»ˆ Vue é€‰æ‹©åŠ«æŒä¸€äº›å¸¸ç”¨çš„æ•°ç»„æ“ä½œæ–¹æ³•ï¼Œä»è€ŒçŸ¥æ™“æ•°ç»„çš„å˜åŒ–æƒ…å†µï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> methods = [ <span class="string">&#x27;push&#x27;</span>, <span class="string">&#x27;pop&#x27;</span>, <span class="string">&#x27;shift&#x27;</span>, <span class="string">&#x27;unshift&#x27;</span>, <span class="string">&#x27;sort&#x27;</span>, <span class="string">&#x27;reverse&#x27;</span>, <span class="string">&#x27;splice&#x27;</span>]</span><br></pre></td></tr></table></figure><p>æ•°ç»„æ–¹æ³•çš„åŠ«æŒæ¶‰åŠåˆ°åŸå‹ç›¸å…³çš„çŸ¥è¯†ï¼Œé¦–å…ˆæ•°ç»„å®ä¾‹å¤§éƒ¨åˆ†æ–¹æ³•éƒ½æ˜¯æ¥æºäº Array.prototype å¯¹è±¡ã€‚</p><p>ä½†æ˜¯è¿™é‡Œä¸èƒ½ç›´æ¥ç¯¡æ”¹ Array.prototype å¯¹è±¡ï¼Œè¿™æ ·ä¼šå½±å“æ‰€æœ‰çš„æ•°ç»„å®ä¾‹ï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œéœ€è¦é‡‡ç”¨åŸå‹ç»§æ‰¿å¾—åˆ°ä¸€ä¸ªæ–°çš„åŸå‹å¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayProto = <span class="built_in">Array</span>.prototypeconst injackingPrototype = <span class="built_in">Object</span>.create(arrayProto)</span><br></pre></td></tr></table></figure><p>æ‹¿åˆ°æ–°çš„åŸå‹å¯¹è±¡ä¹‹åï¼Œå†é‡å†™è¿™äº›å¸¸ç”¨çš„æ“ä½œæ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">methods.forEach(<span class="function"><span class="params">method</span> =&gt;</span> &#123;</span><br><span class="line"> <span class="keyword">const</span> originArrayMethod = arrayProto[method]</span><br><span class="line"> injackingPrototype[method] = <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = originArrayMethod.apply(<span class="built_in">this</span>, args)</span><br><span class="line">  <span class="keyword">let</span> inserted</span><br><span class="line">  <span class="keyword">switch</span> (method) &#123;</span><br><span class="line">   <span class="keyword">case</span> <span class="string">&#x27;push&#x27;</span>:</span><br><span class="line">   <span class="keyword">case</span> <span class="string">&#x27;unshift&#x27;</span>:</span><br><span class="line">    inserted = args</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">   <span class="keyword">case</span> <span class="string">&#x27;splice&#x27;</span>:</span><br><span class="line">    inserted = args.slice(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (inserted) &#123;</span><br><span class="line">   <span class="comment">// å¯¹äºæ–°å¢çš„å…ƒç´ ï¼Œç»§ç»­åŠ«æŒ</span></span><br><span class="line">   <span class="comment">// ob.observeArray(inserted)</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// é€šçŸ¥å˜åŒ–</span></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line"> &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæ›´æ–°åŠ«æŒæ•°ç»„å®ä¾‹çš„åŸå‹ï¼Œåœ¨ ES6 ä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨ç§æœ‰å±æ€§ proto æŒ‡å®šåŸå‹ï¼Œä¹‹åï¼Œä¾¿å¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.setPrototypeOf(arr, injackingPrototype)</span><br></pre></td></tr></table></figure><p>é¡ºä¾¿æä¸€ä¸‹ï¼Œé‡‡ç”¨ Vue.set() æ–¹æ³•è®¾ç½®æ•°ç»„å…ƒç´ æ—¶ï¼ŒVue å†…éƒ¨å®é™…ä¸Šæ˜¯è°ƒç”¨åŠ«æŒåçš„ splice() æ–¹æ³•æ¥è§¦å‘æ›´æ–°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//api:æ•°ç»„setæ–¹å¼æ•°æ®æ”¹å˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">set</span> (<span class="params">target, key, val</span>) </span>&#123;</span><br><span class="line">  .............</span><br><span class="line">  <span class="comment">//isValidArrayIndex åˆ¤æ–­æ•°ç»„æ˜¯æœ‰æ•ˆçš„ä¸‹æ ‡</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(target) &amp;&amp; isValidArrayIndex(key)) &#123;</span><br><span class="line">    target.length = <span class="built_in">Math</span>.max(target.length, key);</span><br><span class="line">    target.splice(key, <span class="number">1</span>, val);</span><br><span class="line">    <span class="comment">// debugger</span></span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">  &#125;</span><br><span class="line">  .............</span><br><span class="line">  <span class="keyword">var</span> ob = (target).__ob__;</span><br><span class="line">  <span class="keyword">if</span> (target._isVue || (ob &amp;&amp; ob.vmCount)) &#123;</span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!ob) &#123;</span><br><span class="line">    target[key] = val;</span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å˜æˆå“åº”å¼å¯¹è±¡</span></span><br><span class="line">  defineReactive(ob.value, key, val);</span><br><span class="line">  <span class="comment">// é€šçŸ¥ä¾èµ–æ›´æ–°</span></span><br><span class="line">  ob.dep.notify();</span><br><span class="line">  <span class="keyword">return</span> val</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="defineReactive"><a href="#defineReactive" class="headerlink" title="defineReactive"></a>defineReactive</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  obj,</span></span></span><br><span class="line"><span class="function"><span class="params">  key,</span></span></span><br><span class="line"><span class="function"><span class="params">  val,</span></span></span><br><span class="line"><span class="function"><span class="params">  customSetter,</span></span></span><br><span class="line"><span class="function"><span class="params">  shallow</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> dep = <span class="keyword">new</span> Dep();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> property = <span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, key);</span><br><span class="line">  <span class="keyword">if</span> (property &amp;&amp; property.configurable === <span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> getter = property &amp;&amp; property.get;</span><br><span class="line">  <span class="keyword">var</span> setter = property &amp;&amp; property.set;</span><br><span class="line">  <span class="keyword">if</span> ((!getter || setter) &amp;&amp; <span class="built_in">arguments</span>.length === <span class="number">2</span>) &#123;</span><br><span class="line">    val = obj[key];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> childOb = !shallow &amp;&amp; observe(val);</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(obj, key, &#123;</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span> <span class="title">reactiveGetter</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> value = getter ? getter.call(obj) : val;</span><br><span class="line">      <span class="keyword">if</span> (Dep.target) &#123;</span><br><span class="line">        dep.depend();</span><br><span class="line">        <span class="keyword">if</span> (childOb) &#123;</span><br><span class="line">          <span class="comment">// debugger å¦‚æœä¸‹é¢æ²¡æœ‰ä¾èµ–æ”¶é›† åˆ™ä¹…ä¸ä¼šæ›´æ–°</span></span><br><span class="line">          <span class="comment">// â¤ï¸â¤ï¸â¤ï¸â¤ï¸å¾ˆå…³é”® ä¾èµ–æ”¶é›†</span></span><br><span class="line">         childOb.dep.depend(); </span><br><span class="line">          <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(value)) &#123;</span><br><span class="line">            dependArray(value);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> value</span><br><span class="line">    &#125;,</span><br><span class="line">    set: <span class="function"><span class="keyword">function</span> <span class="title">reactiveSetter</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> value = getter ? getter.call(obj) : val;</span><br><span class="line">      <span class="keyword">if</span> (setter) &#123;</span><br><span class="line">        setter.call(obj, newVal);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        val = newVal;</span><br><span class="line">      &#125;</span><br><span class="line">      childOb = !shallow &amp;&amp; observe(newVal);</span><br><span class="line">      dep.notify();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="methodsToPatch"><a href="#methodsToPatch" class="headerlink" title="methodsToPatch"></a>methodsToPatch</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®°å½•åŸå§‹Arrayæœªé‡å†™ä¹‹å‰çš„APIåŸå‹æ–¹æ³•</span></span><br><span class="line"><span class="keyword">const</span> arrayProto = <span class="built_in">Array</span>.prototype</span><br><span class="line"><span class="comment">// æ‹·è´ä¸€ä»½ä¸Šé¢çš„åŸå‹å‡ºæ¥</span></span><br><span class="line"><span class="keyword">const</span> arrayMethods = <span class="built_in">Object</span>.create(arrayProto)</span><br><span class="line"><span class="comment">// å°†è¦é‡å†™çš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">const</span> methodsToPatch = [ <span class="string">&#x27;push&#x27;</span>, <span class="string">&#x27;pop&#x27;</span>, <span class="string">&#x27;shift&#x27;</span>, <span class="string">&#x27;unshift&#x27;</span>, <span class="string">&#x27;splice&#x27;</span>, <span class="string">&#x27;sort&#x27;</span>, <span class="string">&#x27;reverse&#x27;</span> ]</span><br><span class="line"></span><br><span class="line">methodsToPatch.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">method</span>) </span>&#123;</span><br><span class="line">  def(arrayMethods, method, <span class="function"><span class="keyword">function</span> <span class="title">mutator</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åŸæœ‰çš„æ•°ç»„æ–¹æ³•è°ƒç”¨æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">const</span> result = arrayProto[method].apply(<span class="built_in">this</span>, args)</span><br><span class="line">    <span class="keyword">const</span> ob = <span class="built_in">this</span>.__ob__</span><br><span class="line">    <span class="keyword">let</span> inserted</span><br><span class="line">    <span class="keyword">switch</span> (method) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;push&#x27;</span>:</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;unshift&#x27;</span>:</span><br><span class="line">        inserted = args</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;splice&#x27;</span>:</span><br><span class="line">        inserted = args.slice(<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯æ’å…¥çš„æ•°æ®ï¼Œå°†å…¶å†æ¬¡ç›‘å¬èµ·æ¥</span></span><br><span class="line">    <span class="keyword">if</span> (inserted) ob.observeArray(inserted)</span><br><span class="line">    <span class="comment">// è§¦å‘è®¢é˜…ï¼Œåƒé¡µé¢æ›´æ–°å“åº”å°±åœ¨è¿™é‡Œè§¦å‘</span></span><br><span class="line">    ob.dep.notify()</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ‰‹åŠ¨è°ƒç”¨:star::star::star:</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ob.dep.notify()<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆæ•°ç»„å˜åŒ–å†…éƒ¨ç”¨splice å¤–éƒ¨å¯ä»¥ç”¨pushéƒ½å¯ä»¥æ”¹å˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">target.splice(key, <span class="number">1</span>, val);</span><br><span class="line"><span class="built_in">this</span>.array.push(<span class="number">100</span>)  <span class="comment">//æ•°ç»„çš„æ·»åŠ </span></span><br></pre></td></tr></table></figure><h2 id="æœ€åçœ‹çœ‹å°¤å¤§çš„å›ç­”"><a href="#æœ€åçœ‹çœ‹å°¤å¤§çš„å›ç­”" class="headerlink" title="æœ€åçœ‹çœ‹å°¤å¤§çš„å›ç­”"></a>æœ€åçœ‹çœ‹å°¤å¤§çš„å›ç­”</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2020121009image-20201210095216449.png"                      alt="image-20201210095216449"                ></p><h2 id="12æœˆæ›´æ–°â€“æ‰©å±•ä¸€ä¸‹Vue3-0çš„æ•°ç»„ç›‘å¬"><a href="#12æœˆæ›´æ–°â€“æ‰©å±•ä¸€ä¸‹Vue3-0çš„æ•°ç»„ç›‘å¬" class="headerlink" title="12æœˆæ›´æ–°â€“æ‰©å±•ä¸€ä¸‹Vue3.0çš„æ•°ç»„ç›‘å¬"></a>12æœˆæ›´æ–°â€“æ‰©å±•ä¸€ä¸‹Vue3.0çš„æ•°ç»„ç›‘å¬</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> model = &#123;</span><br><span class="line">  name: <span class="string">&#x27;vue&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    val: <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  list: [<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObj</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">typeof</span> obj === <span class="string">&#x27;object&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç›‘æ§å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observe</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å°†å±æ€§éƒ½åšç›‘æ§</span></span><br><span class="line">  <span class="built_in">Object</span>.keys(data).map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (isObj(data[key])) &#123;</span><br><span class="line">      <span class="comment">// å¯¹è±¡ç±»å‹çš„ç»§ç»­ç›‘å¬å®ƒçš„å±æ€§</span></span><br><span class="line">      data[key] = observe(data[key]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> defineProxy(data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç”ŸæˆProxyä»£ç†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineProxy</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Proxy</span>(obj, &#123;</span><br><span class="line">    <span class="function"><span class="title">set</span>(<span class="params">obj, key, val</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`å±æ€§<span class="subst">$&#123;key&#125;</span>å˜åŒ–ä¸º<span class="subst">$&#123;val&#125;</span>`</span>);</span><br><span class="line">      compile(obj, key, val);</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(...arguments);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è§£æå™¨ï¼Œå“åº”é¡µé¢å˜åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compile</span>(<span class="params">obj, id, val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(obj)) &#123; <span class="comment">// æ•°ç»„å˜åŒ–</span></span><br><span class="line">    <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#list&#x27;</span>).value = model.list;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.querySelector(<span class="string">`#<span class="subst">$&#123;id&#125;</span>`</span>).value = val;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">model= observe(model);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;&lt;p&gt;å“åº”å¼æ•°æ®ä¸­å¯¹äºå¯¹è±¡&lt;code&gt;æ–°å¢åˆ é™¤å±æ€§&lt;/code&gt;åŠæ•°ç»„çš„ä¸‹æ ‡è®¿é—®ä¿®æ”¹æ ¸æ·»åŠ æ•°æ®ç­‰å˜åŒ–æ˜¯è§‚å¯Ÿä¸åˆ°çš„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€šè¿‡Vue.setä»¥åŠæ•°ç»„çš„Apiå¯ä»¥è§£å†³è¿™äº›é—®é¢˜æœ¬è´¨ä¸Šä»–ä»¬å†…éƒ¨æ‰‹åŠ¨åšäº†ä¾èµ–æ›´æ–°çš„æ´¾å‘&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vueâ€”WatchåŸç†</title>
    <link href="http://mariogogogo.github.io/2020/12/09/Vue-Watch%E5%8E%9F%E7%90%86/"/>
    <id>http://mariogogogo.github.io/2020/12/09/Vue-WatchåŸç†/</id>
    <published>2020-12-08T16:00:00.000Z</published>
    <updated>2021-06-18T06:48:57.672Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åˆ†æä¸‹Watchçš„å†…éƒ¨åŸç†</p><a id="more"></a><h3 id="å¸¦ç€é—®é¢˜çœ‹æºç "><a href="#å¸¦ç€é—®é¢˜çœ‹æºç " class="headerlink" title="å¸¦ç€é—®é¢˜çœ‹æºç "></a>å¸¦ç€é—®é¢˜çœ‹æºç </h3><p> 1ã€ç›‘å¬çš„æ•°æ®æ”¹å˜çš„æ—¶ï¼Œwatch å¦‚ä½•å·¥ä½œ<br> 2ã€è®¾ç½® immediate æ—¶ï¼Œwatch å¦‚ä½•å·¥ä½œ<br> 3ã€è®¾ç½®äº† deep æ—¶ï¼Œwatch å¦‚ä½•å·¥ä½œ</p><h2 id="å¸¸è§çš„apiä½¿ç”¨æƒ…å†µ"><a href="#å¸¸è§çš„apiä½¿ç”¨æƒ…å†µ" class="headerlink" title="å¸¸è§çš„apiä½¿ç”¨æƒ…å†µ"></a>å¸¸è§çš„apiä½¿ç”¨æƒ…å†µ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">   <span class="comment">//å‡½æ•°</span></span><br><span class="line">   <span class="function"><span class="title">useless</span>(<span class="params">newValue</span>)</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&#x27;useless&#x27;</span>,newValue)</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">//å¯¹è±¡</span></span><br><span class="line">   name:&#123;</span><br><span class="line">     immediate:<span class="literal">true</span>,  </span><br><span class="line">     <span class="function"><span class="title">handler</span>(<span class="params">newValue</span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&#x27;name&#x27;</span>,newValue)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   nestect:&#123;</span><br><span class="line">     deep:<span class="literal">true</span>,</span><br><span class="line">     <span class="function"><span class="title">handler</span>(<span class="params">newValue</span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&#x27;nestect&#x27;</span>,newValue)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure><h2 id="ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–"><a href="#ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–" class="headerlink" title="ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–"></a>ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initState</span> (<span class="params">vm</span>) </span>&#123;</span><br><span class="line">  vm._watchers = [];</span><br><span class="line">  <span class="keyword">var</span> opts = vm.$options;</span><br><span class="line">  ....</span><br><span class="line">  <span class="keyword">if</span> (opts.watch &amp;&amp; opts.watch !== nativeWatch) &#123;</span><br><span class="line">    initWatch(vm, opts.watch);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>opts.watch !== nativeWatch</code>çš„æ„æ€æ˜¯ä¸ç­‰äºæµè§ˆå™¨åŸç”Ÿçš„watchï¼Œä¸ºä»€ä¹ˆè¦è¿™æ ·å†™ï¼Ÿ</p><p>å› ä¸ºFirefoxæµè§ˆå™¨ä¸­Object.prototypeä¸­æœ‰ä¸ªwatchæ–¹æ³•ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰è®¾ç½®watchï¼Œåˆ™opts.watch å°†æ˜¯Object.prototype.watch</p><h2 id="initWatch"><a href="#initWatch" class="headerlink" title="initWatch"></a>initWatch</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initWatch</span> (<span class="params">vm, watch</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> watch) &#123;</span><br><span class="line">    <span class="comment">//handler ç±»å‹æ˜¯ä¸ç¡®å®šçš„ å¯ä»¥æ˜¯ å¯¹è±¡ æ–¹æ³•  å­—ç¬¦ä¸² æ•°ç»„</span></span><br><span class="line">    <span class="keyword">var</span> handler = watch[key];</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(handler)) &#123;</span><br><span class="line">      <span class="comment">//å¦‚æœæ˜¯æ•°ç»„éå†æ¯ä¸€é¡¹æ¥åˆ›å»ºwatcher</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; handler.length; i++) &#123;</span><br><span class="line">        createWatcher(vm, key, handler[i]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      createWatcher(vm, key, handler);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="createWatcher"><a href="#createWatcher" class="headerlink" title="createWatcher"></a>createWatcher</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createWatcher</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  vm,  <span class="comment">//vueå®ä¾‹</span></span></span></span><br><span class="line"><span class="function"><span class="params">  expOrFn, <span class="comment">//è¡¨è¾¾å¼ æˆ–è€… è®¡ç®—å±æ€§å‡½æ•°</span></span></span></span><br><span class="line"><span class="function"><span class="params">  handler, <span class="comment">//å›è°ƒå‡½æ•°  æˆ–è€… å­—ç¬¦ä¸²</span></span></span></span><br><span class="line"><span class="function"><span class="params">  options <span class="comment">//ä¼ é€’ç»™vm.$watché€‰é¡¹å¯¹è±¡</span></span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (isPlainObject(handler)) &#123;</span><br><span class="line">    options = handler;</span><br><span class="line">    handler = handler.handler;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> handler === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    handler = vm[handler];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> vm.$watch(expOrFn, handler, options)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>watch åœ¨ä¸€å¼€å§‹åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼š <strong>è¯»å–</strong> ä¸€é ç›‘å¬çš„æ•°æ®çš„å€¼ï¼Œäºæ˜¯ï¼Œæ­¤æ—¶ é‚£ä¸ªæ•°æ®å°±æ”¶é›†åˆ° watch çš„ watcher äº†</p><p>ç„¶å ä½ ç»™ watch è®¾ç½®çš„ handler ï¼Œwatch ä¼šæ”¾å…¥ watcher çš„æ›´æ–°å‡½æ•°ä¸­</p><p>å½“ æ•°æ®æ”¹å˜æ—¶ï¼Œé€šçŸ¥ watch çš„ watcher è¿›è¡Œæ›´æ–°ï¼Œäºæ˜¯ ä½ è®¾ç½®çš„ handler å°±è¢«è°ƒç”¨äº†</p><p>  <img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2020121715image-20201217154210438.png"                      alt="image-20201217154210438"                ></p><h2 id="watch"><a href="#watch" class="headerlink" title="$watch"></a>$watch</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">  Vue.prototype.$watch = <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    expOrFn,</span></span></span><br><span class="line"><span class="function"><span class="params">    cb,</span></span></span><br><span class="line"><span class="function"><span class="params">    options</span></span></span><br><span class="line"><span class="function"><span class="params">  </span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">if</span> (isPlainObject(cb)) &#123;</span><br><span class="line">      <span class="keyword">return</span> createWatcher(vm, expOrFn, cb, options)</span><br><span class="line">    &#125;</span><br><span class="line">    options = options || &#123;&#125;;</span><br><span class="line">    options.user = <span class="literal">true</span>; <span class="comment">// ä»£è¡¨watcher ä¸º userWatcher</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºwatcherå®ä¾‹ è¿™æ˜¯ä¸€ä¸ª user watcherï¼Œå› ä¸º options.user = true</span></span><br><span class="line">    <span class="keyword">var</span> watcher = <span class="keyword">new</span> Watcher(vm, expOrFn, cb, options);</span><br><span class="line">    <span class="comment">//immediate = true åˆ™å‡½æ•°ç«‹å³æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">if</span> (options.immediate) &#123;</span><br><span class="line">      cb.call(vm, watcher.value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">unwatchFn</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">//é”€æ¯watcherå‡½æ•°</span></span><br><span class="line">      watcher.teardown();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>1ã€åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œç›‘å¬å›è°ƒ</strong></p><p>å¦‚æœä½ è®¾ç½®äº† <code>immediate</code> çš„è¯ï¼Œè¡¨ç¤ºä¸ç”¨ç­‰æˆ‘æ•°æ®å˜åŒ–ï¼Œåˆå§‹åŒ–æ—¶é©¬ä¸Šæ‰§è¡Œä¸€éï¼Œæ‰§è¡Œçš„ä»£ç å°±æ˜¯ç›´æ¥è°ƒç”¨ å›è°ƒï¼Œç»‘å®šä¸Šä¸‹æ–‡ï¼Œä¼ å…¥ç›‘å¬å€¼</p><p><strong>2ã€æ¯ä¸ª watch é…å‘ watcher</strong></p><h2 id="new-Watcher"><a href="#new-Watcher" class="headerlink" title="new Watcher"></a>new Watcher</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Watcher = <span class="function"><span class="keyword">function</span> <span class="title">Watcher</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  vm,</span></span></span><br><span class="line"><span class="function"><span class="params">  expOrFn,</span></span></span><br><span class="line"><span class="function"><span class="params">  cb,</span></span></span><br><span class="line"><span class="function"><span class="params">  options,</span></span></span><br><span class="line"><span class="function"><span class="params">  isRenderWatcher</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.vm = vm;</span><br><span class="line">  <span class="keyword">if</span> (isRenderWatcher) &#123;</span><br><span class="line">    vm._watcher = <span class="built_in">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  vm._watchers.push(<span class="built_in">this</span>);</span><br><span class="line">  <span class="comment">// options</span></span><br><span class="line">  <span class="keyword">if</span> (options) &#123;</span><br><span class="line">    <span class="built_in">this</span>.deep = !!options.deep;</span><br><span class="line">    <span class="built_in">this</span>.user = !!options.user;</span><br><span class="line">    <span class="built_in">this</span>.computed = !!options.computed;</span><br><span class="line">    <span class="built_in">this</span>.sync = !!options.sync;</span><br><span class="line">    <span class="built_in">this</span>.before = options.before;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.deep = <span class="built_in">this</span>.user = <span class="built_in">this</span>.computed = <span class="built_in">this</span>.sync = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">this</span>.cb = cb;</span><br><span class="line">  <span class="built_in">this</span>.id = ++uid$<span class="number">1</span>; <span class="comment">// uid for batching</span></span><br><span class="line">  <span class="built_in">this</span>.active = <span class="literal">true</span>;</span><br><span class="line">  <span class="built_in">this</span>.dirty = <span class="built_in">this</span>.computed; <span class="comment">// for computed watchers</span></span><br><span class="line">  <span class="built_in">this</span>.deps = [];</span><br><span class="line">  <span class="built_in">this</span>.newDeps = [];</span><br><span class="line">  <span class="built_in">this</span>.depIds = <span class="keyword">new</span> _Set();</span><br><span class="line">  <span class="built_in">this</span>.newDepIds = <span class="keyword">new</span> _Set();</span><br><span class="line">  <span class="built_in">this</span>.expression = process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span></span><br><span class="line">    ? expOrFn.toString()</span><br><span class="line">    : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="comment">// parse expression for getter</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> expOrFn === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    <span class="built_in">this</span>.getter = expOrFn;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.getter = parsePath(expOrFn);</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.getter) &#123;</span><br><span class="line">      <span class="built_in">this</span>.getter = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">      ...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">this</span>.computed) &#123;</span><br><span class="line">    <span class="built_in">this</span>.value = <span class="literal">undefined</span>;</span><br><span class="line">    <span class="comment">// ä¾èµ–æ”¶é›†</span></span><br><span class="line">    <span class="built_in">this</span>.dep = <span class="keyword">new</span> Dep();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.value = <span class="built_in">this</span>.get();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p> <strong>this.getter çš„å‡½æ•°è¿›è¡Œç†è§£ï¼Œä»–çš„æœ¬è´¨æ˜¯ä¸ºäº†è·å–å¯¹è±¡çš„keyå€¼.</strong></p><p>å½“ watch.getter æ‰§è¡Œï¼Œè€Œè¯»å–äº† <code>vm.name</code> çš„æ—¶å€™ï¼Œ==nameçš„ä¾èµ–æ”¶é›†å™¨å°±ä¼šæ”¶é›†åˆ° watch-watcher==</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Watcher.prototype.get = <span class="function"><span class="keyword">function</span> <span class="title">get</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  pushTarget(<span class="built_in">this</span>);</span><br><span class="line">  <span class="keyword">var</span> value;</span><br><span class="line">  <span class="keyword">var</span> vm = <span class="built_in">this</span>.vm;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    value = <span class="built_in">this</span>.getter.call(vm, vm);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.user) &#123;</span><br><span class="line">      handleError(e, vm, (<span class="string">&quot;getter for watcher \&quot;&quot;</span> + (<span class="built_in">this</span>.expression) + <span class="string">&quot;\&quot;&quot;</span>));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">throw</span> e</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">// &quot;touch&quot; every property so they are all tracked as</span></span><br><span class="line">    <span class="comment">// dependencies for deep watching</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.deep) &#123;</span><br><span class="line">      traverse(value);</span><br><span class="line">    &#125;</span><br><span class="line">    popTarget();</span><br><span class="line">    <span class="built_in">this</span>.cleanupDeps();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> value</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>Watch åœ¨ç»“å°¾ä¼šç«‹å³æ‰§è¡Œä¸€æ¬¡ watcher.getï¼Œå…¶ä¸­ä¾¿ä¼šæ‰§è¡Œ getterï¼Œä¾¿ä¼šæ ¹æ®ä½ ç›‘å¬çš„keyï¼Œå»å®ä¾‹ä¸Šè¯»å–å¹¶è¿”å›ï¼Œå­˜æ”¾åœ¨ watcher.value ä¸Š</p><h2 id="deepæ·±åº¦ç›‘å¬"><a href="#deepæ·±åº¦ç›‘å¬" class="headerlink" title="deepæ·±åº¦ç›‘å¬"></a>deepæ·±åº¦ç›‘å¬</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">if</span> (<span class="built_in">this</span>.deep) &#123;</span><br><span class="line">      traverse(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">traverse</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  _traverse(val, seenObjects);</span><br><span class="line">  seenObjects.clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_traverse</span> (<span class="params">val, seen</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> i, keys;</span><br><span class="line">  <span class="keyword">var</span> isA = <span class="built_in">Array</span>.isArray(val);</span><br><span class="line">  <span class="keyword">if</span> ((!isA &amp;&amp; !isObject(val)) || <span class="built_in">Object</span>.isFrozen(val) || val <span class="keyword">instanceof</span> VNode) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//åˆ¤æ–­å€¼æ˜¯å¦å·²ç»å“åº”å¼</span></span><br><span class="line">  <span class="keyword">if</span> (val.__ob__) &#123;</span><br><span class="line">    <span class="keyword">var</span> depId = val.__ob__.dep.id;</span><br><span class="line">    <span class="keyword">if</span> (seen.has(depId)) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    seen.add(depId);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æ˜¯å¦æ˜¯æ•°ç»„</span></span><br><span class="line">  <span class="keyword">if</span> (isA) &#123;</span><br><span class="line">    i = val.length;</span><br><span class="line">    <span class="keyword">while</span> (i--) &#123; _traverse(val[i], seen); &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//é€’å½’éå†å¯¹è±¡</span></span><br><span class="line">    keys = <span class="built_in">Object</span>.keys(val);</span><br><span class="line">    i = keys.length;</span><br><span class="line">    <span class="keyword">while</span> (i--) &#123; _traverse(val[keys[i]], seen); &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯æ·±å±‚çº§çš„å¯¹è±¡ï¼Œå…¶ä¸­çš„æ¯ä¸ªå±æ€§ä¹Ÿéƒ½æ˜¯å“åº”å¼çš„ï¼Œæ¯ä¸ªå±æ€§éƒ½æœ‰è‡ªå·±çš„ä¾èµ–æ”¶é›†å™¨</p><p>é€šè¿‡ä¸æ–­æ·±å…¥çš„è¯»å–æ¯ä¸ªå±æ€§ï¼Œè¿™æ ·æ¯ä¸ªå±æ€§å°±éƒ½å¯ä»¥æ”¶é›†åˆ° <code>watch-watcher</code> äº†</p><p>è¿™æ ·ä¸ç®¡å¯¹è±¡å†…å¤šæ·±çš„å±æ€§å˜åŒ–ï¼Œéƒ½ä¼šé€šçŸ¥åˆ° <code>watch-watcher</code></p><h2 id="å›è°ƒæ›´æ–°"><a href="#å›è°ƒæ›´æ–°" class="headerlink" title="å›è°ƒæ›´æ–°"></a>å›è°ƒæ›´æ–°</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Watcher.prototype.update = <span class="function"><span class="keyword">function</span> <span class="title">update</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span>()&#123;&#125;</span><br><span class="line">   <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.sync) &#123;</span><br><span class="line">    <span class="built_in">this</span>.run(); <span class="comment">//åŒæ­¥æ‰§è¡Œ</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    queueWatcher(<span class="built_in">this</span>); <span class="comment">//å…ˆæ‰§è¡Œè¿™é‡Œ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Watcher.prototype.run = <span class="function"><span class="keyword">function</span> <span class="title">run</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">this</span>.active) &#123;</span><br><span class="line">    <span class="built_in">this</span>.getAndInvoke(<span class="built_in">this</span>.cb);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¹æ¯”è®¡ç®—å±æ€§è¿”å›å€¼</span></span><br><span class="line">Watcher.prototype.getAndInvoke = <span class="function"><span class="keyword">function</span> <span class="title">getAndInvoke</span> (<span class="params">cb</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> value = <span class="built_in">this</span>.get();</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    value !== <span class="built_in">this</span>.value ||</span><br><span class="line">    isObject(value) ||</span><br><span class="line">    <span class="built_in">this</span>.deep</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="comment">// set new value</span></span><br><span class="line">    <span class="keyword">var</span> oldValue = <span class="built_in">this</span>.value;</span><br><span class="line">    <span class="built_in">this</span>.value = value;</span><br><span class="line">    <span class="built_in">this</span>.dirty = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.user) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//æ‰§è¡Œå›è°ƒå‡½æ•°</span></span><br><span class="line">        cb.call(<span class="built_in">this</span>.vm, value, oldValue);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        handleError(e, <span class="built_in">this</span>.vm, (<span class="string">&quot;callback for watcher \&quot;&quot;</span> + (<span class="built_in">this</span>.expression) + <span class="string">&quot;\&quot;&quot;</span>));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      cb.call(<span class="built_in">this</span>.vm, value, oldValue);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2020121616image-20201216161914318.png"                      alt="image-20201216161914318"                ></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>watcherå±æ€§æœ¬è´¨å°±æ˜¯<code>user watcher</code>ï¼Œå®ƒè¿˜æ”¯æŒdeepï¼Œsyncï¼Œimmediateç­‰é…ç½®ï¼Œç›‘å¬å±æ€§é€‚åˆè§‚å¯ŸæŸä¸ªå€¼å¾—å˜åŒ–å»å®Œæˆä¸€æ®µå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€‚</p><p>å¦‚ä½•å®ç°watchç›‘å¬ï¼Ÿ<code>æ­£æ˜¯å› ä¸ºwatchå¯¹åº”keyæ˜¯è¢«æ•°æ®æ‹¦æˆªçš„å±æ€§</code>ï¼Œåœ¨é€‰é¡¹watchä¸‹ï¼š</p><ul><li>æ¯ä¸€ä¸ªkeyéƒ½ä¼šå¯¹åº”ä¸€ä¸ªwatcherå¯¹è±¡</li><li>watcherå¯¹è±¡çš„getterå‡½æ•°å°±æ˜¯è·å–å½“å‰keyå¯¹åº”çš„å€¼ï¼Œä»è€Œå»ºç«‹keyå¯¹åº”Depå¯¹è±¡ä¸å½“å‰watcherå¯¹è±¡å»ºç«‹è”ç³»</li><li>å½“keyæ”¹å˜æ—¶å°±ä¼šè§¦å‘è§†å›¾æ›´æ–°ï¼Œä»è€Œæ‰§è¡Œkeyå¯¹åº”çš„å›è°ƒå‡½æ•°</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åˆ†æä¸‹Watchçš„å†…éƒ¨åŸç†&lt;/p&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆ</title>
    <link href="http://mariogogogo.github.io/2020/12/08/%E5%90%84%E7%A7%8D%E7%A7%BB%E5%8A%A8%E7%AB%AFBug%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
    <id>http://mariogogogo.github.io/2020/12/08/å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆ/</id>
    <published>2020-12-07T16:00:00.000Z</published>
    <updated>2020-12-08T07:01:08.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆæŒç»­æ›´æ–°"><a href="#å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆæŒç»­æ›´æ–°" class="headerlink" title="å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆæŒç»­æ›´æ–°"></a>å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆæŒç»­æ›´æ–°</h1><p><a class="link"   href="https://www.notion.so/Bug-075fd58447e94728a6e1ac2b84e10764" >å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆ<i class="fas fa-external-link-alt"></i></a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆæŒç»­æ›´æ–°&quot;&gt;&lt;a href=&quot;#å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆæŒç»­æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆæŒç»­æ›´æ–°&quot;&gt;&lt;/a&gt;å„ç§ç§»åŠ¨ç«¯Bugè§£å†³æ–¹æ¡ˆæŒç»­æ›´æ–°&lt;/h1&gt;&lt;p&gt;&lt;a class=&quot;link
      
    
    </summary>
    
      <category term="Web" scheme="http://mariogogogo.github.io/categories/Web/"/>
    
    
      <category term="Javascript" scheme="http://mariogogogo.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>Vueâ€”propsåŸç†</title>
    <link href="http://mariogogogo.github.io/2020/12/06/Vue-props%E5%8E%9F%E7%90%86/"/>
    <id>http://mariogogogo.github.io/2020/12/06/Vue-propsåŸç†/</id>
    <published>2020-12-05T16:00:00.000Z</published>
    <updated>2021-06-21T01:33:46.634Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åˆ†æä¸‹propsçš„å†…éƒ¨åŸç†</p><a id="more"></a><h3 id="å¸¦ç€é—®é¢˜çœ‹æºç "><a href="#å¸¦ç€é—®é¢˜çœ‹æºç " class="headerlink" title="å¸¦ç€é—®é¢˜çœ‹æºç "></a>å¸¦ç€é—®é¢˜çœ‹æºç </h3><p> 1ã€çˆ¶ç»„ä»¶ æ€ä¹ˆä¼ å€¼ç»™ å­ç»„ä»¶çš„ props<br> 2ã€å­ç»„ä»¶å¦‚ä½•è¯»å–props<br> 3ã€çˆ¶ç»„ä»¶ data æ›´æ–°ï¼Œå­ç»„ä»¶çš„props å¦‚ä½•æ›´æ–°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//parent.vue</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">       &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;parent&quot;</span>&gt;</span><br><span class="line">          &lt;h1&gt;åˆ†æprops&lt;/h1&gt;</span><br><span class="line">          &lt;hello-world :msg=<span class="string">&quot;parentMsg&quot;</span>&gt;&lt;/hello-world&gt;</span><br><span class="line">       &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//child.vue</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;hello&quot;</span>&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&#x27;HelloWorld&#x27;</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    msg:&#123;</span><br><span class="line">      type:<span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>æ¨¡æ¿è§£æè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŸä¸ªæ ‡ç­¾çš„åå­—æ˜¯ç»„ä»¶åï¼Œè™šæ‹ŸDOMæ¸²æŸ“è¿‡ç¨‹ä¸­ä¼šå°†<code>å­ç»„ä»¶å®ä¾‹åŒ–</code>ï¼Œæ¨¡æ¿è§£ææ—¶å€™ä»æ ‡ç­¾å±æ€§ä¸Šè§£æå‡ºæ•°æ®å½“åšå‚æ•°ä¼ é€’ç»™å­ç»„ä»¶ï¼Œå…¶ä¸­å°±åŒ…æ‹¬<code>propsæ•°æ®</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è§£æçˆ¶ç»„ä»¶</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    </span><br><span class="line">    <span class="function"><span class="title">with</span>(<span class="params"><span class="built_in">this</span></span>)</span>&#123;  </span><br><span class="line">        <span class="keyword">return</span> _c(<span class="string">&#x27;div&#x27;</span>,&#123;<span class="attr">staticClass</span>:<span class="string">&quot;parent&quot;</span>&#125;,[</span><br><span class="line">            _c(<span class="string">&#x27;h1&#x27;</span>,&#123;<span class="attr">attrs</span>:&#123;&#125;&#125;)</span><br><span class="line">            _c(<span class="string">&#x27;hello-world&#x27;</span>,&#123;<span class="attr">attrs</span>:&#123;<span class="string">&quot;msg&quot;</span>:parentMsg&#125;&#125;)</span><br><span class="line">        ],<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="with"><a href="#with" class="headerlink" title="with"></a>with</h3><p>with çš„ä½œç”¨æ˜¯ï¼Œç»‘å®šå¤§æ‹¬å·å†…ä»£ç çš„ <strong>å˜é‡è®¿é—®ä½œç”¨åŸŸ</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;    </span><br><span class="line">    <span class="function"><span class="title">with</span>(<span class="params"><span class="built_in">this</span></span>)</span>&#123; <span class="built_in">console</span>.log(parentName) &#125;</span><br><span class="line">&#125;</span><br><span class="line">test.call(&#123;<span class="attr">parentName</span>:<span class="string">&quot;æµ‹è¯•åå­—&quot;</span>&#125;)  <span class="comment">//æµ‹è¯•åå­—</span></span><br></pre></td></tr></table></figure><p>propsçš„å®ç°åŸç†ç®€å•çš„ç†è§£ï¼šçˆ¶ç»„ä»¶æä¾›æ•°æ®ï¼Œå­ç»„ä»¶é€šè¿‡propså­—æ®µé€‰æ‹©ç»„ä»¶éœ€è¦å“ªäº›å†…å¦‚ï¼Œé€šè¿‡å­ç»„ä»¶propsé€‰é¡¹å°†éœ€è¦çš„æ•°æ®ç­›é€‰å‡ºæ¥æ·»åŠ åˆ°å­ç»„ä»¶çš„ä¸Šä¸‹æ–‡ä¸­</p><h2 id="normalizeProps"><a href="#normalizeProps" class="headerlink" title="normalizeProps"></a>normalizeProps</h2><p>Vue.component()æ³¨å†Œç»„ä»¶çš„æ—¶å€™ä¼šè°ƒç”¨Vue.extend()ç”Ÿæˆä¸€ä¸ªVueåŸºç¡€æ„é€ å™¨ï¼Œå†…éƒ¨ä¼šè°ƒç”¨mergeOptionså‡½æ•°åˆå¹¶å±æ€§ï¼Œ mergeOptionsåˆä¼šè°ƒç”¨normalizePropså¯¹propsçš„å±æ€§è¿›è¡Œä¸€äº›è§„èŒƒåŒ–çš„ä¿®é¥°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalizeProps</span> (<span class="params">options, vm</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> props = options.props;</span><br><span class="line">  <span class="keyword">if</span> (!props) &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">  <span class="keyword">var</span> res = &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> i, val, name;</span><br><span class="line">  <span class="comment">//å¦‚æœpropsæ˜¯ä¸ªæ•°ç»„ </span></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(props)) &#123;</span><br><span class="line">    i = props.length;</span><br><span class="line">    <span class="keyword">while</span> (i--) &#123;</span><br><span class="line">      val = props[i];</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">        name = camelize(val);</span><br><span class="line">        <span class="comment">//ä¿å­˜åˆ°resé‡Œé¢  ä¾‹å¦‚:&#123; msg: &#123;type: null&#125; &#125;</span></span><br><span class="line">        res[name] = &#123; <span class="attr">type</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">          <span class="comment">//...é”™è¯¯å¤„ç†</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¦‚æœpropsæ˜¯ä¸ªå¯¹è±¡  </span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isPlainObject(props)) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> props) &#123;</span><br><span class="line">      val = props[key];</span><br><span class="line">      name = camelize(key);</span><br><span class="line">      res[name] = isPlainObject(val)</span><br><span class="line">        ? val</span><br><span class="line">        : &#123; <span class="attr">type</span>: val &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">   <span class="comment">//...é”™è¯¯å¤„ç†</span></span><br><span class="line">  &#125;</span><br><span class="line">  options.props = res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> ç»è¿‡normalizePropsè§„èŒƒåï¼Œpropsè¢«ä¿®é¥°ä¸ºä¸€ä¸ªå¯¹è±¡æ ¼å¼ï¼Œä¾‹å­é‡Œçš„æ‰§è¡Œåˆ°è¿™é‡Œç­‰äº:<code>&#123; msg: &#123;type: null&#125; &#125;</code></p><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Vue</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    initState(<span class="built_in">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initState</span>(<span class="params">vm</span>) </span>&#123;    </span><br><span class="line">    <span class="keyword">var</span> opts = vm.$options;    </span><br><span class="line">    <span class="keyword">if</span> (opts.props) &#123;</span><br><span class="line">        initProps(vm, opts.props);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="initProps"><a href="#initProps" class="headerlink" title="initProps"></a>initProps</h2><p>initPropsæ¥å—2ä¸ªå‚ï¼š<code>vm</code>  <code>propsOptions</code>ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ˜¯ vmå®ä¾‹ã€‚</p><p>ç¬¬äºŒä¸ªå‚æ˜¯ è§„æ ¼åŒ–åçš„propsé€‰é¡¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initProps</span> (<span class="params">vm, propsOptions</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> propsData = vm.$options.propsData || &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> props = vm._props = &#123;&#125;;</span><br><span class="line">  <span class="comment">//ç¼“å­˜propsçš„key</span></span><br><span class="line">  <span class="keyword">var</span> keys = vm.$options._propKeys = [];</span><br><span class="line">  <span class="keyword">var</span> isRoot = !vm.$parent;</span><br><span class="line">  <span class="comment">//å¦‚æœä¸æ˜¯æ ¹ç»„ä»¶åˆ™å˜æˆå“åº”å¼</span></span><br><span class="line">  <span class="keyword">if</span> (!isRoot) &#123;</span><br><span class="line">    toggleObserving(<span class="literal">false</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"> key </span>) </span>&#123;</span><br><span class="line">    keys.push(key);</span><br><span class="line">    <span class="keyword">var</span> value = validateProp(key, propsOptions, propsData, vm);</span><br><span class="line">    <span class="comment">/* istanbul ignore else */</span></span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> hyphenatedKey = hyphenate(key);</span><br><span class="line">       <span class="comment">//...é”™è¯¯å¤„ç†</span></span><br><span class="line">      defineReactive(props, key, value, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//...é”™è¯¯å¤„ç†</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      defineReactive(props, key, value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!(key <span class="keyword">in</span> vm)) &#123;</span><br><span class="line">      <span class="comment">//è®¾ç½®ä»£ç† æŠŠvm.x è®¿é—® vm._props.x</span></span><br><span class="line">      proxy(vm, <span class="string">&quot;_props&quot;</span>, key);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> propsOptions) loop( key );</span><br><span class="line">  toggleObserving(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> æ¯ä¸€ä¸ª å®ä¾‹éƒ½ä¼šæœ‰ ä¸€ä¸ª _props çš„åŒæ—¶ï¼Œä¹Ÿä¼šæŠŠå±æ€§ç›´æ¥æ”¾åœ¨ å®ä¾‹ä¸Šã€‚</p><table><thead><tr><th style="text-align:left">propsData</th><th style="text-align:left">ä¿å­˜é€šè¿‡çˆ¶ç»„ä»¶ä¼ å…¥æˆ–è€…ç”¨æˆ·é€šè¿‡propsDataä¼ å…¥çš„propsæ•°æ®</th></tr></thead><tbody><tr><td style="text-align:left">props</td><td style="text-align:left">æŒ‡å‘vm._propsæŒ‡é’ˆã€‚æ‰€æœ‰è®¾ç½®åˆ°propså˜é‡ä¸­çš„å±æ€§ä¿å­˜åˆ°vm.props</td></tr><tr><td style="text-align:left">keys</td><td style="text-align:left">æŒ‡å‘ vm.$options._propskeys</td></tr><tr><td style="text-align:left">isRoot</td><td style="text-align:left">åˆ¤æ–­æ˜¯å¦æ˜¯æ ¹ç»„ä»¶</td></tr></tbody></table><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleObserving</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">  shouldObserve = value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç ä¸»è¦åšäº†ä¸‰ä»¶äº‹</p><p>1ã€éå† props</p><p>2ã€ç»™ props è®¾ç½®å“åº”å¼</p><p>3ã€ç»™ props è®¾ç½®ä»£ç† (æŠŠvm.x è®¿é—® vm._props.x)</p><h2 id="validateProp"><a href="#validateProp" class="headerlink" title="validateProp"></a>validateProp</h2><p>è°ƒç”¨è¿™ä¸ªå‡½æ•°å¾—åˆ°çš„propsæ•°æ®é€šè¿‡defineReactiveå‡½æ•°è®¾ç½®åˆ°vm._propsä¸­ï¼Œç›®çš„å°±æ˜¯<code>æ ¡éªŒ</code>ï¼Œå°±æ˜¯æ£€æŸ¥ä¸€ä¸‹æˆ‘ä»¬ä¼ é€’çš„æ•°æ®æ˜¯å¦æ»¡è¶³ <code>prop</code>çš„å®šä¹‰è§„èŒƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ‰§è¡ŒvalidatePropæ£€æŸ¥propsDataé‡Œçš„keyå€¼æ˜¯å¦ç¬¦åˆpropsOptionsé‡Œå¯¹åº”çš„è¦æ±‚ï¼Œå¹¶å°†å€¼ä¿å­˜åˆ°valueé‡Œé¢</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validateProp</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  key,</span></span></span><br><span class="line"><span class="function"><span class="params">  propOptions,</span></span></span><br><span class="line"><span class="function"><span class="params">  propsData,</span></span></span><br><span class="line"><span class="function"><span class="params">  vm</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> prop = propOptions[key];</span><br><span class="line">  <span class="keyword">var</span> absent = !hasOwn(propsData, key);</span><br><span class="line">  <span class="keyword">var</span> value = propsData[key];</span><br><span class="line">  <span class="comment">// boolean casting</span></span><br><span class="line">  <span class="keyword">var</span> booleanIndex = getTypeIndex(<span class="built_in">Boolean</span>, prop.type);</span><br><span class="line">  <span class="keyword">if</span> (booleanIndex &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (absent &amp;&amp; !hasOwn(prop, <span class="string">&#x27;default&#x27;</span>)) &#123;</span><br><span class="line">      value = <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value === <span class="string">&#x27;&#x27;</span> || value === hyphenate(key)) &#123;</span><br><span class="line">      <span class="comment">// only cast empty string / same name to boolean if</span></span><br><span class="line">      <span class="comment">// boolean has higher priority</span></span><br><span class="line">      <span class="keyword">var</span> stringIndex = getTypeIndex(<span class="built_in">String</span>, prop.type);</span><br><span class="line">      <span class="keyword">if</span> (stringIndex &lt; <span class="number">0</span> || booleanIndex &lt; stringIndex) &#123;</span><br><span class="line">        value = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//âœ…âœ…âœ…æ£€æµ‹å¦‚æœ prop æ²¡æœ‰å®šä¹‰ default å±æ€§ï¼Œé‚£ä¹ˆè¿”å› undefinedï¼Œé€šè¿‡è¿™å—é€»è¾‘æˆ‘ä»¬çŸ¥é“é™¤äº† Boolean ç±»å‹çš„æ•°æ®ï¼Œå…¶ä½™æ²¡æœ‰è®¾ç½®    default å±æ€§çš„ prop é»˜è®¤å€¼éƒ½æ˜¯ undefinedã€‚</span></span><br><span class="line">  <span class="keyword">if</span> (value === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    value = getPropDefaultValue(vm, prop, key);</span><br><span class="line">    <span class="comment">// since the default value is a fresh copy,</span></span><br><span class="line">    <span class="comment">// make sure to observe it.</span></span><br><span class="line">    <span class="keyword">var</span> prevShouldObserve = shouldObserve;</span><br><span class="line">    toggleObserving(<span class="literal">true</span>);</span><br><span class="line">    observe(value);</span><br><span class="line">    toggleObserving(prevShouldObserve);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span> &amp;&amp;</span><br><span class="line">    <span class="comment">// skip validation for weex recycle-list child component props</span></span><br><span class="line">    !(<span class="literal">false</span> &amp;&amp; isObject(value) &amp;&amp; (<span class="string">&#x27;@binding&#x27;</span> <span class="keyword">in</span> value))</span><br><span class="line">  ) &#123;</span><br><span class="line">    assertProp(prop, key, value, vm, absent);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸»è¦å°±åš 3 ä»¶äº‹æƒ…ï¼š</p><ol><li>å¤„ç† <code>Boolean</code> ç±»å‹çš„æ•°æ®ã€‚</li><li>å¤„ç†é»˜è®¤æ•°æ®ã€‚</li><li><code>prop</code> æ–­è¨€ï¼Œå¹¶æœ€ç»ˆè¿”å› <code>prop</code> çš„å€¼ã€‚</li></ol><h2 id="proxyä»£ç†"><a href="#proxyä»£ç†" class="headerlink" title="proxyä»£ç†"></a><strong>proxy</strong>ä»£ç†</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">proxy</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    target, sourceKey, key</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;    </span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(target, key, &#123;</span><br><span class="line">      <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;            </span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">this</span>[sourceKey][key]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="title">set</span>(<span class="params">val</span>)</span> &#123;            </span><br><span class="line">          <span class="built_in">this</span>[sourceKey][key] = val;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿™æ®µä»£ç åšäº†2 ä¸ªäº‹</strong></p><p>1ã€ä½¿ç”¨ props åœ¨ vm ä¸Šå ä½ï¼Œä½¿å¾—å¯ä»¥é€šè¿‡ vm.xxx çš„å½¢å¼è®¿é—®åˆ° props </p><p>2ã€è®¾ç½® [Object.defineProperty] çš„ get å’Œ set ï¼Œé—´æ¥è·å–å’Œèµ‹å€¼ vm._props</p><h2 id="defineReactiveå“åº”å¼"><a href="#defineReactiveå“åº”å¼" class="headerlink" title="defineReactiveå“åº”å¼"></a>defineReactiveå“åº”å¼</h2><p>åœ¨ <code>defineReactive</code> çš„æ—¶å€™ä¼šæ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰ <code>setter</code>ï¼Œå½“æˆ‘ä»¬ç›´æ¥å¯¹ <code>prop</code> èµ‹å€¼çš„æ—¶å€™ä¼šè¾“å‡ºè­¦å‘Šã€‚</p><p><code>prop</code> çš„å“åº”å¼æœ‰ä¸€ç‚¹ä¸åŒçš„æ˜¯å½“ <code>vm</code> æ˜¯éæ ¹å®ä¾‹çš„æ—¶å€™ï¼Œä¼šå…ˆæ‰§è¡Œ <code>toggleObserving(false)</code>ï¼Œå®ƒçš„ç›®çš„æ˜¯ä¸ºäº†å“åº”å¼çš„ä¼˜åŒ–</p><h2 id="Props-æ›´æ–°"><a href="#Props-æ›´æ–°" class="headerlink" title="Props æ›´æ–°"></a>Props æ›´æ–°</h2><p> å¦‚æœæ˜¯åŸºæœ¬ç±»å‹ï¼Œæ˜¯è¿™ä¸ªæµç¨‹</p><ol><li>çˆ¶ç»„ä»¶æ•°æ®æ”¹å˜ï¼Œåªä¼šæŠŠæ–°çš„æ•°æ®ä¼ ç»™å­ç»„ä»¶</li><li>å­ç»„ä»¶æ‹¿åˆ°æ–°æ•°æ®ï¼Œå°±ä¼šç›´æ¥æ›¿æ¢åˆ°åŸæ¥çš„ props</li><li>æ›¿æ¢å°±æ˜¯ç›´æ¥ç­‰å“ˆï¼Œçœ‹ä¸‹æºç ï¼Œé‡è¦è¯­å¥æ ‡çº¢</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateChildComponent</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    vm, propsData</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;    </span><br><span class="line">    <span class="keyword">if</span> (propsData &amp;&amp; vm.$options.props) &#123;        </span><br><span class="line">      <span class="comment">// ä¿å­˜ props çš„åœ°æ–¹ï¼Œç”¨äºè®¿é—®è½¬æ¥ï¼Œå…·ä½“çœ‹æ–‡ç« ä¸‹é¢</span></span><br><span class="line">      <span class="keyword">var</span> props = vm._props;        </span><br><span class="line">      <span class="comment">// æ‰€æœ‰å­ç»„ä»¶ä¸Šè®¾ç½®çš„ props çš„ key</span></span><br><span class="line">      <span class="keyword">var</span> propKeys = vm.$options._propKeys || [];        </span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; propKeys.length; i++) &#123;            </span><br><span class="line">        <span class="keyword">var</span> key = propKeys[i];</span><br><span class="line">        props[key] = propsData[key]</span><br><span class="line">      &#125;</span><br><span class="line">     vm.$options.propsData = propsData;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯å¯¹è±¡ï¼Œæ˜¯è¿™ä¸ªæµç¨‹</p><ol><li>çˆ¶ç»„ä»¶ä¼  å¯¹è±¡ ç»™ å­ç»„ä»¶ï¼Œå¹¶ä¸”çˆ¶å­ç»„ä»¶ é¡µé¢éƒ½ä½¿ç”¨åˆ°äº†è¿™ä¸ªæ•°æ®</li><li>ç»“æœé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ï¼Œä¼šæ”¶é›†åˆ° çˆ¶å­ç»„ä»¶çš„ watcher</li><li>æ‰€ä»¥å½“ å¯¹è±¡å†…éƒ¨è¢«ä¿®æ”¹çš„æ—¶å€™ï¼Œä¼šé€šçŸ¥åˆ° çˆ¶å’Œå­ æ›´æ–°ã€‚</li></ol><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>1ã€çˆ¶ç»„ä»¶ data çš„å€¼ å’Œ å­ç»„ä»¶çš„ props <strong>æ²¡æœ‰ä»»ä½•è”ç³»</strong>ï¼Œæ›´æ”¹ props ä¸å½±å“çˆ¶ç»„ä»¶ data ï¼ˆå…¶å®ä¹Ÿå½±å“å¦‚æœdataæ˜¯ä¸ªå¯¹è±¡ï¼‰</p><p>2ã€props ä¹Ÿæ˜¯<strong>å“åº”å¼</strong>çš„ï¼Œè·Ÿ data æœ¬è´¨ å·®ä¸å¤š</p><p>3ã€props ä¼šè®¿é—®è½¬æ¥ï¼Œèµ‹å€¼è½¬æ¥ ï¼Œå…¶å®æ“ä½œçš„æ˜¯ <strong>vm._props</strong> çš„å±æ€§</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åˆ†æä¸‹propsçš„å†…éƒ¨åŸç†&lt;/p&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vueâ€”å“åº”å¼å¯¹è±¡</title>
    <link href="http://mariogogogo.github.io/2020/12/04/Vue-%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%B9%E8%B1%A1/"/>
    <id>http://mariogogogo.github.io/2020/12/04/Vue-å“åº”å¼å¯¹è±¡/</id>
    <published>2020-12-03T16:00:00.000Z</published>
    <updated>2021-06-18T06:57:00.355Z</updated>
    
    <content type="html"><![CDATA[<p>è¢«Object.definePropertyç»‘å®šè¿‡çš„å¯¹è±¡ï¼Œä¼šå˜æˆã€Œå“åº”å¼ã€åŒ–ã€‚ä¹Ÿå°±æ˜¯æ”¹å˜è¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ä¼šè§¦å‘getå’Œsetäº‹ä»¶ã€‚è¿›è€Œè§¦å‘ä¸€äº›è§†å›¾æ›´æ–°</p><a id="more"></a><h3 id="å¸¦ç€é—®é¢˜çœ‹æºç "><a href="#å¸¦ç€é—®é¢˜çœ‹æºç " class="headerlink" title="å¸¦ç€é—®é¢˜çœ‹æºç "></a>å¸¦ç€é—®é¢˜çœ‹æºç </h3><p> 1ã€Vue æ˜¯æ€ä¹ˆçŸ¥é“æ•°æ®æ”¹å˜ï¼Ÿ<br> 2ã€Vue åœ¨æ•°æ®æ”¹å˜æ—¶ï¼Œæ€ä¹ˆçŸ¥é“é€šçŸ¥å“ªäº›è§†å›¾æ›´æ–°ï¼Ÿ<br> 3ã€Vue åœ¨æ•°æ®æ”¹å˜æ—¶ï¼Œè§†å›¾æ€ä¹ˆçŸ¥é“ä»€ä¹ˆæ—¶å€™æ›´æ–°ï¼Ÿ</p><h2 id="Object-defineProperty"><a href="#Object-defineProperty" class="headerlink" title="Object.defineProperty"></a>Object.defineProperty</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span> (<span class="params">obj, key, val</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(obj, key, &#123;</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    get: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘è¢«è¯»äº†ï¼Œæˆ‘è¦ä¸è¦åšç‚¹ä»€ä¹ˆå¥½?&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span> val;</span><br><span class="line">    &#125;,</span><br><span class="line">    set: <span class="function"><span class="params">newVal</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (val === newVal) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      val = newVal;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;æ•°æ®è¢«æ”¹å˜äº†ï¼Œæˆ‘è¦æŠŠæ–°çš„å€¼æ¸²æŸ“åˆ°é¡µé¢ä¸Šå»!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  text: <span class="string">&#x27;hello world&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹dataä¸Šçš„textå±æ€§è¿›è¡Œç»‘å®š</span></span><br><span class="line">defineReactive(data, <span class="string">&#x27;text&#x27;</span>, data.text);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(data.text); <span class="comment">// æ§åˆ¶å°è¾“å‡º &lt;æˆ‘è¢«è¯»äº†ï¼Œæˆ‘è¦ä¸è¦åšç‚¹ä»€ä¹ˆå¥½?&gt;</span></span><br><span class="line">data.text = <span class="string">&#x27;hello Vue&#x27;</span>; <span class="comment">// æ§åˆ¶å°è¾“å‡º &lt;hello Vue &amp;&amp; æ•°æ®è¢«æ”¹å˜äº†ï¼Œæˆ‘è¦æŠŠæ–°çš„å€¼æ¸²æŸ“åˆ°é¡µé¢ä¸Šå»!&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Observerã€Œå“åº”å¼ã€"><a href="#Observerã€Œå“åº”å¼ã€" class="headerlink" title="Observerã€Œå“åº”å¼ã€"></a>Observerã€Œå“åº”å¼ã€</h2><p>Vueä¸­ç”¨Observerç±»æ¥ç®¡ç†ä¸Šè¿°å“åº”å¼åŒ–Object.definePropertyçš„è¿‡ç¨‹ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹ä»£ç æ¥æè¿°ï¼Œå°†this.dataä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨Vueä»£ç ä¸­å®šä¹‰çš„dataå±æ€§å…¨éƒ¨è¿›è¡Œã€Œå“åº”å¼ã€ç»‘å®šã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// å“åº”å¼ç»‘å®šæ•°æ®é€šè¿‡æ–¹æ³•</span></span><br><span class="line">   observe(<span class="built_in">this</span>.data);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">observe</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> keys = <span class="built_in">Object</span>.keys(data);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; keys.length; i++) &#123;</span><br><span class="line">    <span class="comment">// å°†dataä¸­æˆ‘ä»¬å®šä¹‰çš„æ¯ä¸ªå±æ€§è¿›è¡Œå“åº”å¼ç»‘å®š</span></span><br><span class="line">    defineReactive(obj, keys[i]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æºç ä¸­"><a href="#æºç ä¸­" class="headerlink" title="æºç ä¸­"></a>æºç ä¸­</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> shouldObserve = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleObserving</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">  shouldObserve = value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *   å°è¯•ä¸ºä¸€ä¸ªå€¼åˆ›å»ºä¸€ä¸ªè§‚å¯Ÿè€…å®ä¾‹ï¼› </span></span><br><span class="line"><span class="comment"> *  å¦‚æœæˆåŠŸè§‚å¯Ÿåˆ°ï¼Œåˆ™è¿”å›æ–°è§‚å¯Ÿè€…ï¼› </span></span><br><span class="line"><span class="comment"> *  å¦‚æœè¯¥å€¼å·²ç»å…·æœ‰ä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œåˆ™è¿”å›ç°æœ‰è§‚å¯Ÿè€…ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observe</span> (<span class="params">value, asRootData</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// valueæ˜¯ä¸æ˜¯object ä¸èƒ½æ˜¯vnodeå®ä¾‹</span></span><br><span class="line">  <span class="keyword">if</span> (!isObject(value) || value <span class="keyword">instanceof</span> VNode) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> ob;</span><br><span class="line">  <span class="comment">//åˆ¤æ–­å¸¦ä¸å¸¦ obæ ‡è¯†</span></span><br><span class="line">  <span class="keyword">if</span> (hasOwn(value, <span class="string">&#x27;__ob__&#x27;</span>) &amp;&amp; value.__ob__ <span class="keyword">instanceof</span> Observer) &#123;</span><br><span class="line">    ob = value.__ob__;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">    shouldObserve &amp;&amp;   <span class="comment">//å…¨å±€æ§åˆ¶ shouldObserve === false </span></span><br><span class="line">    !isServerRendering() &amp;&amp;</span><br><span class="line">    (<span class="built_in">Array</span>.isArray(value) || isPlainObject(value)) &amp;&amp;</span><br><span class="line">    <span class="built_in">Object</span>.isExtensible(value) &amp;&amp;   <span class="comment">//å¯æ‰©å±•å±æ€§</span></span><br><span class="line">    !value._isVue       <span class="comment">//ä¸æ˜¯vueå®ä¾‹</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    ob = <span class="keyword">new</span> Observer(value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (asRootData &amp;&amp; ob) &#123;</span><br><span class="line">    ob.vmCount++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ob</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Observer"><a href="#Observer" class="headerlink" title="Observer"></a>Observer</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> é™„åŠ åˆ°æ¯ä¸ªè§‚å¯Ÿå¯¹è±¡çš„è§‚å¯Ÿè€…ç±»ã€‚é™„åŠ åï¼Œ</span></span><br><span class="line"><span class="comment"> è§‚å¯Ÿè€…ä¼šå°†ç›®æ ‡å¯¹è±¡çš„å±æ€§é”®è½¬æ¢ä¸ºç”¨äºæ”¶é›†ä¾èµ–é¡¹å¹¶è°ƒåº¦æ›´æ–°çš„getter / setterã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> Observer = <span class="function"><span class="keyword">function</span> <span class="title">Observer</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.value = value;</span><br><span class="line">  <span class="built_in">this</span>.dep = <span class="keyword">new</span> Dep(); <span class="comment">//åˆ›å»ºdepå®ä¾‹ åé¢å†è¯´å…ˆè·³è¿‡</span></span><br><span class="line">  <span class="built_in">this</span>.vmCount = <span class="number">0</span>;</span><br><span class="line">   <span class="comment">//ç›®çš„ ä¸ºvaluæ·»åŠ obæ ‡è¯† å˜æˆå“åº”å¼ å¹¶ä¸”thisæŒ‡å‘å½“å‰å®ä¾‹</span></span><br><span class="line">  <span class="comment">//ä¸‹ä¸€æ¬¡æ‰§è¡Œä¸Šé¢çš„hasOwn(value, &#x27;__ob__&#x27;) ç›´æ¥trueäº†</span></span><br><span class="line">  def(value, <span class="string">&#x27;__ob__&#x27;</span>, <span class="built_in">this</span>);</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(value)) &#123;</span><br><span class="line">    <span class="keyword">if</span> (hasProto) &#123;</span><br><span class="line">      protoAugment(value, arrayMethods);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      copyAugment(value, arrayMethods, arrayKeys);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.observeArray(value);  <span class="comment">//éå†æ•°ç»„æ¯ä¸€ä¸ªå…ƒç´  é€’å½’æŠŠä»–ä»¬éƒ½è§‚å¯Ÿèµ·æ¥</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.walk(value);<span class="comment">//éå†å¯¹è±¡æ¯ä¸€ä¸ªå±æ€§</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//enumerable æ˜¯ä¸å¯æšä¸¾ å¦‚æœä¸ä¼ åˆ™æ˜¯ undefined</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">def</span> (<span class="params">obj, key, val, enumerable</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(obj, key, &#123;</span><br><span class="line">    value: val,</span><br><span class="line">    enumerable: !!enumerable,  <span class="comment">//false ä»£è¡¨ä¸å¯æšä¸¾ ä¸èƒ½åŠ å…¥forå¾ªç¯</span></span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * è§‚å¯Ÿæ•°ç»„é¡¹çš„åˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> Observer.prototype.observeArray = <span class="function"><span class="keyword">function</span> <span class="title">observeArray</span> (<span class="params">items</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, l = items.length; i &lt; l; i++) &#123;</span><br><span class="line">     observe(items[i]);</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * éå†æ‰€æœ‰å±æ€§å¹¶å°†å®ƒä»¬è½¬æ¢ä¸º* getter / setterã€‚</span></span><br><span class="line"><span class="comment">  * ä»…å½“*å€¼ç±»å‹ä¸ºObjectæ—¶ï¼Œæ‰åº”è°ƒç”¨æ­¤æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> Observer.prototype.walk = <span class="function"><span class="keyword">function</span> <span class="title">walk</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(obj);</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; keys.length; i++) &#123;</span><br><span class="line">     defineReactive$$1(obj, keys[i]);</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure><h2 id="defineReactive-1"><a href="#defineReactive-1" class="headerlink" title="defineReactive$$1"></a>defineReactive$$1</h2><p>å°±æ˜¯æŠŠå¯¹è±¡å˜æˆå“åº”å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Define a reactive property on an Object.</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">defineReactive$$1</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">   obj,</span></span></span><br><span class="line"><span class="function"><span class="params">   key,</span></span></span><br><span class="line"><span class="function"><span class="params">   val,</span></span></span><br><span class="line"><span class="function"><span class="params">   customSetter,</span></span></span><br><span class="line"><span class="function"><span class="params">   shallow</span></span></span><br><span class="line"><span class="function"><span class="params"> </span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> dep = <span class="keyword">new</span> Dep();</span><br><span class="line">   ...</span><br><span class="line">   <span class="comment">// å¦‚æœæœ‰childe  åˆ™é€’å½’è°ƒç”¨observe</span></span><br><span class="line">   <span class="keyword">var</span> childOb = !shallow &amp;&amp; observe(val);</span><br><span class="line">   <span class="built_in">Object</span>.defineProperty(obj, key, &#123;</span><br><span class="line">     enumerable: <span class="literal">true</span>,</span><br><span class="line">     configurable: <span class="literal">true</span>,</span><br><span class="line">     get: <span class="function"><span class="keyword">function</span> <span class="title">reactiveGetter</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="keyword">var</span> value = getter ? getter.call(obj) : val;</span><br><span class="line">       <span class="keyword">if</span> (Dep.target) &#123;</span><br><span class="line">         dep.depend();    <span class="comment">//ä¾èµ–æ”¶é›†</span></span><br><span class="line">         <span class="keyword">if</span> (childOb) &#123;</span><br><span class="line">           childOb.dep.depend();</span><br><span class="line">           <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(value)) &#123;</span><br><span class="line">             dependArray(value);</span><br><span class="line">           &#125;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> value</span><br><span class="line">     &#125;,</span><br><span class="line">     set: <span class="function"><span class="keyword">function</span> <span class="title">reactiveSetter</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">       <span class="keyword">var</span> value = getter ? getter.call(obj) : val;</span><br><span class="line">       <span class="comment">/* eslint-disable no-self-compare */</span></span><br><span class="line">       <span class="keyword">if</span> (newVal === value || (newVal !== newVal &amp;&amp; value !== value)) &#123;</span><br><span class="line">         <span class="keyword">return</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">/* eslint-enable no-self-compare */</span></span><br><span class="line">       <span class="keyword">if</span> (customSetter) &#123;</span><br><span class="line">         customSetter();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// #7981: for accessor properties without setter</span></span><br><span class="line">       <span class="keyword">if</span> (getter &amp;&amp; !setter) &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">       <span class="keyword">if</span> (setter) &#123;</span><br><span class="line">         setter.call(obj, newVal);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         val = newVal;</span><br><span class="line">       &#125;</span><br><span class="line">       childOb = !shallow &amp;&amp; observe(newVal);</span><br><span class="line">       dep.notify();  <span class="comment">//æ´¾å‘æ›´æ–°</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å“åº”å¼å¯¹è±¡å°±æ˜¯ç»™å®ƒå¯¹è±¡ä¸Šçš„å±æ€§æ·»åŠ getter/setter,æ— è®ºè®¿é—®è¿˜æ˜¯ä¿®æ”¹å®ƒéƒ½æœ‰ä¸€å®šçš„é€»è¾‘éœ€è¦æ‰§è¡Œ</p></blockquote><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2020121014image-20201210145546930.png"                      alt="image-20201210145546930" style="zoom:70%;"                 ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2020121015image-20201210150502903.png"                      alt="image-20201210150502903" style="zoom:70%;"                 ></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>1ã€data ä¸­æ¯ä¸ªå£°æ˜çš„å±æ€§ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ª ä¸“å±çš„ä¾èµ–æ”¶é›†å™¨ <code>subs</code></p><p>2ã€å½“é¡µé¢ä½¿ç”¨åˆ° æŸä¸ªå±æ€§æ—¶ï¼Œé¡µé¢çš„ <code>watcher</code> å°±ä¼šè¢« æ”¾åˆ° ä¾èµ–æ”¶é›†å™¨ <code>subs</code> ä¸­</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/h5web/2020121015image-20201210150707130.png"                      alt="image-20201210150707130"                ></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¢«Object.definePropertyç»‘å®šè¿‡çš„å¯¹è±¡ï¼Œä¼šå˜æˆã€Œå“åº”å¼ã€åŒ–ã€‚ä¹Ÿå°±æ˜¯æ”¹å˜è¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ä¼šè§¦å‘getå’Œsetäº‹ä»¶ã€‚è¿›è€Œè§¦å‘ä¸€äº›è§†å›¾æ›´æ–°&lt;/p&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vueâ€”DOMæŒ‚è½½æœºåˆ¶</title>
    <link href="http://mariogogogo.github.io/2020/12/03/Vue-DOM%E6%8C%82%E8%BD%BD%E6%9C%BA%E5%88%B6/"/>
    <id>http://mariogogogo.github.io/2020/12/03/Vue-DOMæŒ‚è½½æœºåˆ¶/</id>
    <published>2020-12-02T16:00:00.000Z</published>
    <updated>2020-12-15T02:16:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>Vue ä¸­æˆ‘ä»¬æ˜¯é€šè¿‡ <code>$mount</code> å®ä¾‹æ–¹æ³•å»æŒ‚è½½ <code>vm</code> çš„<br><a id="more"></a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Temp <span class="keyword">from</span> <span class="string">&#x27;./Temp.vue&#x27;</span>;</span><br><span class="line"><span class="built_in">window</span>.vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="comment">// elæ˜¯å®ä¾‹æŒ‚è½½ç‚¹ï¼Œä¼šå°†æ ¹ç»„ä»¶æ›¿æ¢æ‰åŸæ–‡æ¡£ä¸­idä¸º app æ ‡ç­¾</span></span><br><span class="line">    el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="comment">// é€šè¿‡renderå‡½æ•°æ¸²æŸ“</span></span><br><span class="line">    render: <span class="function"><span class="params">h</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡ŒAppæ˜¯æ ¹ç»„ä»¶</span></span><br><span class="line">        h(App)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//Temp.vue</span></span><br><span class="line">&lt;div&gt;</span><br><span class="line"> è¿™æ˜¯æ¶ˆæ¯ï¼š&#123;&#123;message&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h2 id="initMixin"><a href="#initMixin" class="headerlink" title="initMixin"></a>initMixin</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initMixin</span> (<span class="params">Vue</span>) </span>&#123;</span><br><span class="line">  Vue.prototype._init = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="built_in">this</span>;</span><br><span class="line">    <span class="comment">// a uid</span></span><br><span class="line">    vm._uid = uid$<span class="number">3</span>++;</span><br><span class="line">    <span class="comment">// a flag to avoid this being observed</span></span><br><span class="line">    vm._isVue = <span class="literal">true</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// expose real self  åˆå§‹åŒ–</span></span><br><span class="line">    vm._self = vm;</span><br><span class="line">    <span class="comment">/******************/</span></span><br><span class="line">    initLifecycle(vm);</span><br><span class="line">    initEvents(vm);</span><br><span class="line">    initRender(vm);</span><br><span class="line">    callHook(vm, <span class="string">&#x27;beforeCreate&#x27;</span>);</span><br><span class="line">    initInjections(vm); <span class="comment">// resolve injections before data/props</span></span><br><span class="line">    initState(vm);</span><br><span class="line">    initProvide(vm); <span class="comment">// resolve provide after data/props</span></span><br><span class="line">    <span class="comment">/**************************/</span></span><br><span class="line">    callHook(vm, <span class="string">&#x27;created&#x27;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (vm.$options.el) &#123;</span><br><span class="line">      <span class="comment">//è·³è½¬ 10976è¡Œ</span></span><br><span class="line">      vm.$mount(vm.$options.el);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure><h2 id="mount"><a href="#mount" class="headerlink" title="$mount"></a>$mount</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.$mount = <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  el,</span></span></span><br><span class="line"><span class="function"><span class="params">  hydrating</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  el = el &amp;&amp; inBrowser ? query(el) : <span class="literal">undefined</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> mountComponent(<span class="built_in">this</span>, el, hydrating)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mount = Vue.prototype.$mount;</span><br><span class="line">Vue.prototype.$mount = <span class="function"><span class="keyword">function</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  el,</span></span></span><br><span class="line"><span class="function"><span class="params">  hydrating</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  el = el &amp;&amp; query(el);</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> options = <span class="built_in">this</span>.$options;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">//å¦‚æœæ²¡æœ‰renderå‡½æ•°ï¼Œé‚£ä¹ˆè·å–æ¨¡æ¿å°†æ¨¡æ¿ç¼–è¯‘æˆæ¸²æŸ“å‡½æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (!options.render) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> mount.call(<span class="built_in">this</span>, el, hydrating)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†vueåŸå‹ä¸Šçš„<code>$mount</code>æ–¹æ³•ä¿å­˜åœ¨mountä¸­ã€‚</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202012121629474342020121216.png"                      alt="image-20201212162947434"                ></p><p>ç„¶åVueåŸå‹ä¸Š<code>$mount</code>æ–¹æ³•ä¸Šè¢«ä¸€ä¸ª<code>æ–°çš„æ–¹æ³•è¦†ç›–</code>äº†ã€‚æ–°æ–¹æ³•ä¼šè°ƒç”¨åŸå§‹çš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•é€šå¸¸è¢«ç§°ä¸º<code>å‡½æ•°åŠ«æŒ</code>ã€‚é€šå¸¸å‡½æ•°åŠ«æŒå¯ä»¥åœ¨åŸæœ‰åŠŸèƒ½çš„åŸºç¡€ä¸Š<code>æ–°å¢å…¶ä»–åŠŸèƒ½</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">query</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> el === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> selected = <span class="built_in">document</span>.querySelector(el);</span><br><span class="line">    <span class="keyword">if</span> (!selected) &#123;</span><br><span class="line">      process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span> &amp;&amp; warn(</span><br><span class="line">        <span class="string">&#x27;Cannot find element: &#x27;</span> + el</span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> selected</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> el</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>queryçš„ä¸»è¦ä½œç”¨æ˜¯è·å–DOMå…ƒç´ </p><h2 id="mountComponent"><a href="#mountComponent" class="headerlink" title="mountComponent"></a>mountComponent</h2><p>$mountæ–¹æ³•å°†idè½¬æ¢ä¸ºdomå…ƒç´ åï¼Œä½¿ç”¨mountComponentå‡½æ•°å°†Vue.jså®ä¾‹æŒ‚è½½åˆ°DOMä¸Šã€‚</p><blockquote><p>å®ä¾‹æŒ‚è½½åˆ°DOMä¸Šå®é™…å°±æ˜¯å°†æ¨¡æ¿æ¸²æŸ“åˆ°æŒ‡å®šDOMå…ƒç´ ä¸­ã€‚è€Œä¸”æ˜¯æŒç»­æ€§çš„ï¼Œå½“çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œå¯ä»¥é‡æ–°è§¦å‘æ¸²æŸ“åˆ°æŒ‡å®šDOMå…ƒç´ ä¸­</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mountComponent</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  vm,</span></span></span><br><span class="line"><span class="function"><span class="params">  el,</span></span></span><br><span class="line"><span class="function"><span class="params">  hydrating</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  vm.$el = el;</span><br><span class="line">  <span class="keyword">if</span> (!vm.$options.render) &#123;</span><br><span class="line">    vm.$options.render = createEmptyVNode;</span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">      <span class="comment">//å¼€å‘ç¯å¢ƒä¼šå‘å‡ºâš ï¸è­¦å‘Š</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œç”Ÿå‘½å‘¨æœŸbeforeMountæ–¹æ³•</span></span><br><span class="line">  callHook(vm, <span class="string">&#x27;beforeMount&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//å®šä¹‰æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">var</span> updateComponent;</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span> &amp;&amp; config.performance &amp;&amp; mark) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//æŒ‚è½½</span></span><br><span class="line">    updateComponent = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">//vm._render() ==&gt; ç”Ÿæˆvnode  ä¼ å…¥update</span></span><br><span class="line">      vm._update(vm._render(), hydrating);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">new</span> Watcher(vm, updateComponent, noop, &#123;</span><br><span class="line">    before: <span class="function"><span class="keyword">function</span> <span class="title">before</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (vm._isMounted) &#123;</span><br><span class="line">        callHook(vm, <span class="string">&#x27;beforeUpdate&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="literal">true</span> <span class="comment">/* isRenderWatcher */</span>);</span><br><span class="line">  hydrating = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (vm.$vnode == <span class="literal">null</span>) &#123;</span><br><span class="line">    vm._isMounted = <span class="literal">true</span>;</span><br><span class="line">    callHook(vm, <span class="string">&#x27;mounted&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> vm  <span class="comment">//è¿”å›vmå®ä¾‹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>vm._update</code>çš„ä½œç”¨è°ƒç”¨è™šæ‹ŸDOMä¸­<code>patchæ–¹æ³•</code>å»æ‰§è¡Œ<code>èŠ‚ç‚¹å¯¹æ¯”</code>ä¸<code>æ¸²æŸ“æ“ä½œ</code></p><p><code>vm._render()</code>æ‰§è¡Œæ¸²æŸ“å‡½æ•°å¾—åˆ°ä¸€ä»½æœ€æ–°çš„<code>VNodeèŠ‚ç‚¹æ ‘</code></p><p>==å…ˆæ‰§è¡Œæ¸²æŸ“å‡½æ•°å¾—åˆ°ä¸€ä»½æœ€æ–°çš„nodeèŠ‚ç‚¹ï¼Œç„¶åé€šè¿‡_updateæ–¹æ³•å¯¹æœ€æ–°çš„Vnodeå’Œæ—§Vnodeè¿›è¡Œå¯¹æ¯”å¹¶æ›´æ–°domèŠ‚ç‚¹ã€‚==</p><h2 id="new-Watcher"><a href="#new-Watcher" class="headerlink" title="new Watcher"></a>new Watcher</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Watcher(vm, updateComponent, noop, &#123;</span><br><span class="line">    before: <span class="function"><span class="keyword">function</span> <span class="title">before</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (vm._isMounted) &#123;</span><br><span class="line">        callHook(vm, <span class="string">&#x27;beforeUpdate&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="literal">true</span> <span class="comment">/* isRenderWatcher */</span>);</span><br></pre></td></tr></table></figure><p>åœ¨new Watcherä¸­å¾ˆé‡è¦çš„ä¸€æ­¥å°±æ˜¯å°†<code>updateComponent</code> èµ‹å€¼ç»™<code>watcher.getter</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Watcher = <span class="function"><span class="keyword">function</span> <span class="title">Watcher</span> (<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  vm,</span></span></span><br><span class="line"><span class="function"><span class="params">  expOrFn,</span></span></span><br><span class="line"><span class="function"><span class="params">  cb,</span></span></span><br><span class="line"><span class="function"><span class="params">  options,</span></span></span><br><span class="line"><span class="function"><span class="params">  isRenderWatcher</span></span></span><br><span class="line"><span class="function"><span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="keyword">if</span> (<span class="keyword">typeof</span> expOrFn === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    <span class="built_in">this</span>.getter = expOrFn;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.getter = parsePath(expOrFn);</span><br><span class="line">    </span><br><span class="line">    .....</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202012121655076302020121216.png"                      alt="image-20201212165507630"                ></p><p><strong>æŒ‚è½½æ˜¯æŒç»­æ€§çš„ï¼Œè¿™ä¸ªå…³é”®åœ¨äºç”¨new watcherï¼Œå½“å®ƒçš„ç¬¬äºŒä¸ªå‚æ•°<code>updateComponent</code> æ”¯æŒå‡½æ•°ï¼Œå®ƒä¼šåŒæ—¶è§‚å¯Ÿå‡½æ•°ä¸­è¯»å–æ‰€æœ‰vueå®ä¾‹ä¸Šçš„å“åº”å¼æ•°æ®</strong></p><p>æŒ‚è½½å®Œæ¯•åè¿˜æœ‰æ‰§è¡Œ<code>mounted</code>é’©å­å‡½æ•°</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202012131047035452020121310.png"                      alt="image-20201213104703545" style="zoom:50%;"                 ></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Vue ä¸­æˆ‘ä»¬æ˜¯é€šè¿‡ &lt;code&gt;$mount&lt;/code&gt; å®ä¾‹æ–¹æ³•å»æŒ‚è½½ &lt;code&gt;vm&lt;/code&gt; çš„&lt;br&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue-åˆå§‹åŒ–åŸç†</title>
    <link href="http://mariogogogo.github.io/2020/12/01/Vue-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8E%9F%E7%90%86/"/>
    <id>http://mariogogogo.github.io/2020/12/01/Vue-åˆå§‹åŒ–åŸç†/</id>
    <published>2020-11-30T16:00:00.000Z</published>
    <updated>2021-06-21T01:34:09.924Z</updated>
    
    <content type="html"><![CDATA[<p>Vueçš„åˆå§‹åŒ–é€»è¾‘å†™çš„éå¸¸æ¸…æ¥šï¼ŒæŠŠä¸åŒçš„åŠŸèƒ½é€»è¾‘æ‹†æˆä¸€äº›å•ç‹¬çš„å‡½æ•°æ‰§è¡Œï¼Œè®©ä¸»çº¿é€»è¾‘ä¸€ç›®äº†ç„¶ï¼Œ<br>è¿™æ ·çš„ç¼–ç¨‹æ€æƒ³æ˜¯éå¸¸å€¼å¾—å€Ÿé‰´å’Œå­¦ä¹ çš„ã€‚</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Vue</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&#x27;production&#x27;</span> &amp;&amp;</span><br><span class="line">    !(<span class="built_in">this</span> <span class="keyword">instanceof</span> Vue)</span><br><span class="line">  ) &#123;</span><br><span class="line">    warn(<span class="string">&#x27;Vue is a constructor and should be called with the `new` keyword&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">this</span>._init(options);</span><br><span class="line">&#125;</span><br><span class="line">initMixin(Vue);</span><br><span class="line">stateMixin(Vue);</span><br><span class="line">eventsMixin(Vue);</span><br><span class="line">lifecycleMixin(Vue);</span><br><span class="line">renderMixin(Vue);</span><br></pre></td></tr></table></figure><p>æ„é€ å‡½æ•°ä¸­é¦–å…ˆè¿›è¡Œå®‰å…¨æ£€æŸ¥ï¼Œç„¶åè¿›è¡Œ_initåˆå§‹åŒ–</p><h2 id="init"><a href="#init" class="headerlink" title="_init"></a>_init</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initMixin</span> (<span class="params">Vue</span>) </span>&#123;</span><br><span class="line">  Vue.prototype._init = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> vm = <span class="built_in">this</span>;</span><br><span class="line">    vm.$options = mergeOptions(</span><br><span class="line">        resolveConstructorOptions(vm.constructor),</span><br><span class="line">        options || &#123;&#125;,</span><br><span class="line">        vm</span><br><span class="line">        ...</span><br><span class="line">    vm._self = vm;</span><br><span class="line">    initLifecycle(vm);</span><br><span class="line">    initEvents(vm);</span><br><span class="line">    initRender(vm);</span><br><span class="line">    callHook(vm, <span class="string">&#x27;beforeCreate&#x27;</span>);</span><br><span class="line">    initInjections(vm); <span class="comment">// åœ¨æ•°æ®/é“å…·ä¹‹å‰è§£å†³æ³¨å…¥é—®é¢˜</span></span><br><span class="line">    initState(vm);</span><br><span class="line">    initProvide(vm); <span class="comment">// è§£å†³æä¾›æ•°æ®/é“å…·åçš„é—®é¢˜</span></span><br><span class="line">    callHook(vm, <span class="string">&#x27;created&#x27;</span>); </span><br><span class="line">    </span><br><span class="line">      <span class="comment">//å¦‚æœæ²¡æœ‰elé€‰é¡¹ï¼Œå®ƒå°±å¤„äºæœªæŒ‚è½½çŠ¶æ€ï¼Œæ²¡æœ‰å…³è”çš„domï¼Œ</span></span><br><span class="line">      <span class="keyword">if</span> (vm.$options.el) &#123;</span><br><span class="line">         <span class="comment">//è°ƒç”¨mountæŒ‚è½½vmï¼Œæ¸²æŸ“æˆçœŸå®dom</span></span><br><span class="line">         vm.$mount(vm.$options.el);</span><br><span class="line">       &#125;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“å‡½æ•°initMixinè¢«è°ƒç”¨ï¼Œä¼šå‘vueæ„é€ å‡½æ•°çš„<code>prototype</code>å±æ€§æ·»åŠ <code>init</code>æ–¹æ³•ï¼Œå½“æ‰§è¡Œnew Vue(),å°±ä¼šè°ƒç”¨_initæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å®ç°ä¸€ç³»åˆ—åˆå§‹åŒ–æ“ä½œï¼ŒåŒ…æ‹¬ç”Ÿå‘½å‘¨æœŸï¼ŒåŠå“åº”å¼ç³»ç»Ÿæµç¨‹çš„å¯åŠ¨ç­‰</p><h3 id="mergeOptions"><a href="#mergeOptions" class="headerlink" title="mergeOptions"></a>mergeOptions</h3><p>è¿™ä¸ªå‡½æ•°çš„ç›®çš„å°†ç”¨æˆ·ä¼ é€’çš„<code>options</code>,ä¸å½“å‰æ„é€ å‡½æ•°çš„<code>options</code>åŠ==çˆ¶çº§å®ä¾‹==æ„é€ å‡½æ•°çš„<code>options</code>åˆå¹¶æˆä¸€ä¸ªæ–°çš„<code>options</code> èµ‹å€¼ç»™<code>$options</code>å±æ€§ï¼Œ</p><p>ä¸ºä»€ä¹ˆä¼šæœ‰çˆ¶çº§ï¼Ÿ </p><p>å› ä¸ºvue.jså¯èƒ½æ˜¯ä¸€ä¸ªå­ç»„ä»¶</p><p>åˆå§‹åŒ–äº‹ä»¶ä¸å±æ€§åè§¦å‘ç”Ÿå‘½å‘¨æœŸ<code>beforeCreate</code>ï¼Œ</p><p>éšååˆå§‹åŒ–provide/injectå’Œstateåè§¦å‘<code>created</code></p><h2 id="callHookå‡½æ•°åŸç†"><a href="#callHookå‡½æ•°åŸç†" class="headerlink" title="callHookå‡½æ•°åŸç†"></a>callHookå‡½æ•°åŸç†</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callHook</span> (<span class="params">vm, hook</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// #7573 disable dep collection when invoking lifecycle hooks</span></span><br><span class="line">  pushTarget();</span><br><span class="line">  <span class="keyword">var</span> handlers = vm.$options[hook];</span><br><span class="line">  <span class="keyword">if</span> (handlers) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, j = handlers.length; i &lt; j; i++) &#123;</span><br><span class="line">      <span class="comment">//æ•è·é’©å­å‡½æ•°å‘ç”Ÿçš„é”™è¯¯ jså•çº¿ç¨‹å¦‚æœé”™è¯¯äº†å°±ä¼šåœæ­¢å¾€ä¸‹æ‰§è¡Œ</span></span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        handlers[i].call(vm);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        handleError(e, vm, (hook + <span class="string">&quot; hook&quot;</span>));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (vm._hasHookEvent) &#123;</span><br><span class="line">    vm.$emit(<span class="string">&#x27;hook:&#x27;</span> + hook);</span><br><span class="line">  &#125;</span><br><span class="line">  popTarget();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>callHookçš„ä½œç”¨æ˜¯è§¦å‘ç”¨æˆ·è®¾ç½®ç”Ÿå‘½å‘¨æœŸé’©å­</code>ï¼Œè€Œç”¨æˆ·è®¾ç½®çš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¼šåœ¨new Vueï¼ˆï¼‰é€šè¿‡å‚æ•°ä¼ é€’ç»™vueï¼Œå¯ä»¥é€šè¿‡optionså‚æ•°å¾—åˆ°ç”¨æˆ·è®¾ç½®çš„ç”Ÿå‘½å‘¨æœŸé’©å­<code>ï¼ˆvm.$options.createdè·å–åˆ°çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„åŒ…å«é’©å­å‡½æ•°ï¼‰</code></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202012112320016442020121123.png"                      alt="image-20201211232001644"                ></p><h3 id="ä¸ºä»€ä¹ˆç”Ÿå‘½å‘¨æœŸå‡½æ•°é’©å­è½¬æ¢æˆæ•°ç»„ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆç”Ÿå‘½å‘¨æœŸå‡½æ•°é’©å­è½¬æ¢æˆæ•°ç»„ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆç”Ÿå‘½å‘¨æœŸå‡½æ•°é’©å­è½¬æ¢æˆæ•°ç»„ï¼Ÿ"></a>ä¸ºä»€ä¹ˆç”Ÿå‘½å‘¨æœŸå‡½æ•°é’©å­è½¬æ¢æˆæ•°ç»„ï¼Ÿ</h3><p>æˆ‘ä»¬çŸ¥é“åœ¨Vue.mixinä¸­ä¹Ÿå¯ä»¥å†™å…¥ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œå¦‚æœä¸ä¸€ä¸ªç»„ä»¶ä¸€èµ·æ··ç”¨ï¼Œéœ€è¦åŒæ—¶è§¦å‘2ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè€Œè½¬æˆæ•°ç»„åï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­åˆ—è¡¨ä¸­ä¿å­˜å¤šä¸ªç”Ÿå‘½å‘¨æœŸé’©å­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mixin = &#123;</span><br><span class="line">  created: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;æ··å…¥å¯¹è±¡çš„é’©å­è¢«è°ƒç”¨&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> mixin</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> mixin <span class="keyword">from</span> <span class="string">&#x27;./mixin&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    mixins:[mixin],</span><br><span class="line">    name:<span class="string">&quot;temp&quot;</span>,</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">         msg:<span class="string">&quot;hello vue&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;created&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202012112330004232020121123.png"                      alt="image-20201211233000423"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202012112332129822020121123.png"                      alt="image-20201211233212982"                ></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote><p>å„ç§åˆå§‹åŒ–é€»è¾‘æˆ‘ä»¬å…ˆä¸çœ‹ã€‚åœ¨åˆå§‹åŒ–çš„æœ€åï¼Œæ£€æµ‹åˆ°å¦‚æœæœ‰elå±æ€§ï¼Œåˆ™è°ƒç”¨vm.$mountæ–¹æ³•æŒ‚è½½vmï¼ŒæŒ‚è½½çš„ç›®æ ‡å°±æ˜¯==æŠŠæ¨¡æ¿æ¸²æŸ“æˆæœ€ç»ˆçš„ DOM==</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Vueçš„åˆå§‹åŒ–é€»è¾‘å†™çš„éå¸¸æ¸…æ¥šï¼ŒæŠŠä¸åŒçš„åŠŸèƒ½é€»è¾‘æ‹†æˆä¸€äº›å•ç‹¬çš„å‡½æ•°æ‰§è¡Œï¼Œè®©ä¸»çº¿é€»è¾‘ä¸€ç›®äº†ç„¶ï¼Œ&lt;br&gt;è¿™æ ·çš„ç¼–ç¨‹æ€æƒ³æ˜¯éå¸¸å€¼å¾—å€Ÿé‰´å’Œå­¦ä¹ çš„ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªå¥½çš„æ¶æ„</title>
    <link href="http://mariogogogo.github.io/2020/11/15/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%9C%89%E4%B8%80%E4%B8%AA%E5%A5%BD%E7%9A%84%E6%9E%B6%E6%9E%84/"/>
    <id>http://mariogogogo.github.io/2020/11/15/ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªå¥½çš„æ¶æ„/</id>
    <published>2020-11-14T16:00:00.000Z</published>
    <updated>2020-12-09T05:37:59.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1ã€ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªå¥½çš„æ¶æ„"><a href="#1ã€ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªå¥½çš„æ¶æ„" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªå¥½çš„æ¶æ„"></a>1ã€ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªå¥½çš„æ¶æ„</h2><p> é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼Œ<code>æ¶æ„æ˜¯ä¸ºéœ€æ±‚æœåŠ¡çš„</code>ã€‚</p><a id="more"></a><p> å‰ç«¯æ¶æ„å­˜åœ¨çš„ç›®çš„ï¼Œå°±æˆ‘ä¸ªäººç†è§£æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p><p>  1ã€æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚ä¸€ä¸ªå¥½çš„æ¶æ„ï¼Œä»£ç çš„å¯è¯»æ€§ä¸€å®šæ˜¯å¾ˆå¼ºçš„ã€‚ç®€å•æ¥è¯´ï¼Œå‡å¦‚æœ‰ä¸€ä¸ªæ–°äººåŠ å…¥å›¢é˜Ÿï¼Œé‚£ä¹ˆä»–æ¥æ‰‹è¿™ä¸ªé¡¹ç›®ï¼Œä¸€å®šæ˜¯å®¹æ˜“ä¸Šæ‰‹çš„ï¼Œèƒ½ç®€å•è½»æ¾çš„äº†è§£æ•´ä¸ªå‰ç«¯éƒ¨åˆ†çš„ç›¸äº’å…³ç³»ï¼Œä»è€Œæ‰¾åˆ°è‡ªå·±éœ€è¦é‡ç‚¹å…³æ³¨çš„ç‚¹ã€‚è€Œä¸æ˜¯éœ€è¦èŠ±å¾ˆå¤šæ—¶é—´å»ç†Ÿæ‚‰è¿™ä¸ªé¡¹ç›®çš„å¾ˆå¤šç»†èŠ‚ï¼Œæ‰èƒ½å¼€å§‹ä¸Šæ‰‹åšä¸œè¥¿ã€‚å°±æ–‡ä»¶æ¥è¯´ï¼Œå¯ä»¥ä»æ–‡ä»¶åä¸Šï¼Œåˆ†æ¸…å“ªäº›æ˜¯é¡µé¢ã€å“ªäº›æ˜¯é€»è¾‘ã€å“ªäº›æ˜¯æ ·å¼ã€å“ªäº›æ˜¯å¯ä»¥å¤ç”¨çš„ç»„ä»¶ã€å“ªäº›æ˜¯å›¾æ ‡ç»„ã€åˆæœ‰å“ªäº›æ˜¯ç§»åŠ¨ç«¯æˆ–æ˜¯PCç«¯ä¸“äº«çš„æ ·å¼/é€»è¾‘ç­‰ã€‚å°±ä»£ç æ¥è¯´ï¼ŒåŒ…æ‹¬ç»Ÿä¸€çš„å‘½åé£æ ¼ï¼Œå°è£…åœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œçš„ä»£ç çš„ç›¸å…³æ€§è¶³å¤Ÿå¼ºç­‰ã€‚</p><p>  2ã€æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚ä¸€ä¸ªå¥½çš„æ¶æ„ï¼Œä¸€å®šæ˜¯æ˜“äºç»´æŠ¤çš„ï¼Œä¾‹å¦‚åœ¨æ–°å¢éœ€æ±‚ã€æ›´æ”¹éœ€æ±‚ã€ä¿®æ­£bugï¼Œéƒ½ä¸ä¼šé€ æˆæ„æ–™ä¹‹å¤–çš„å˜åŒ–ï¼Œæ¯”å¦‚è¯´ä¿®æ”¹äº†ä¸€ä¸ªé¡µé¢ç»„ä»¶çš„å†…å®¹ï¼Œå´å¯¼è‡´å¦å¤–ä¸€ä¸ªé¡µé¢ç»„ä»¶å‘ç”Ÿå˜åŒ–ï¼ˆè¿™ä¹Ÿå¤ªå‘äº†ï¼‰ã€‚å› æ­¤ï¼Œè¦ä½è€¦åˆï¼Œé«˜å†…èšï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºæ˜¯å¯é¢„æœŸçš„ã€‚</p><p>  3ã€æé«˜ä»£ç çš„å¯æ‰©å±•æ€§ã€‚ä¸€ä¸ªå¥½çš„æ¶æ„ï¼Œä¸€å®šæ‰©å±•æ€§è¦å¼ºï¼Œä¸èƒ½å†™æ­»ã€‚éœ€æ±‚å˜æ›´å¤ªTMæ­£å¸¸äº†ï¼Œæ–°å¢éœ€æ±‚ä¹Ÿå¤ªTMæ­£å¸¸äº†ã€‚å› æ­¤å¥½çš„æ¶æ„ï¼Œå¿…é¡»è¦è€ƒè™‘åˆ°è¿™äº›æƒ…å†µçš„å‘ç”Ÿï¼Œå› ä¸ºä»–ä»¬æ˜¯ä¸€å®šä¼šå‘ç”Ÿçš„ã€‚æ‰€ä»¥ï¼Œ<code>ä¸€å®šè¦é¿å…æŠŠä»£ç å†™æ­»</code>ã€‚æ¯”å¦‚é¡µé¢ç»„ä»¶Aé‡Œéœ€è¦æœ‰ä¸€ä¸ªæ—¥å†ç»„ä»¶ï¼Œè€Œè¿™ä¸ªæ—¥å†ç»„ä»¶å¼•ç”¨çš„æ˜¯åˆ«äººçš„ï¼ˆæ¯”å¦‚ä»githubä¸Šæ‰¾çš„ï¼‰ã€‚é‚£ä¹ˆå°½é‡ä¸è¦ç›´æ¥åœ¨é¡µé¢ç»„ä»¶Aé‡Œé¢ç›´æ¥å¼•ç”¨è¿™ä¸ªæ—¥å†ç»„ä»¶ï¼Œè€Œæ˜¯å°†å†™ä¸€ä¸ªæ—¥å†ç»„ä»¶Bï¼Œåœ¨è¿™ä¸ªæ—¥å†ç»„ä»¶Bé‡Œå°è£…ä½ å¼•ç”¨çš„æ—¥å†ç»„ä»¶Cï¼Œç„¶åé€šè¿‡è¿™ä¸ªæ—¥å†ç»„ä»¶Bæ¥è¿›è¡Œæ“ä½œã€‚<code>åŸå› å¾ˆç®€å•ï¼Œå‡å¦‚æŸå¤©äº§å“ç»ç†è¯´ï¼Œè¿™ä¸ªæ—¥å†ç»„ä»¶å¤ªä¸‘äº†ï¼Œæˆ‘ä»¬æ¢ä¸€ä¸ªå§ã€‚å¦‚æœä½ ç›´æ¥åœ¨é¡µé¢ç»„ä»¶Aé‡Œå†…åµŒè¿™ä¸ªå¼•ç”¨çš„æ—¥å†ç»„ä»¶Cï¼Œä½ å¾ˆå¯èƒ½å°±è¦æ”¹å¾ˆå¤šä»£ç ï¼ˆå› ä¸ºä¸åŒæ—¥å†ç»„ä»¶çš„ä½¿ç”¨æ–¹æ³•å’Œæš´éœ²çš„æ¥å£å¯èƒ½ä¸åŒï¼‰</code>ã€‚å‡å¦‚ä½ è¿˜åœ¨å…¶ä»–å¤šä¸ªåœ°æ–¹å¼•ç”¨äº†è¿™ä¸ªæ—¥å†ç»„ä»¶ï¼Œé‚£å°±æ›´ç³Ÿç³•äº†ï¼æ¯ä¸ªåœ°æ–¹éƒ½è¦æ”¹ã€‚è€Œè‹¥æ˜¯å°†å¼•ç”¨çš„æ—¥å†ç»„ä»¶Cå°è£…åˆ°è‡ªå·±å†™çš„æ—¥å†ç»„ä»¶Bä¹‹ä¸­ï¼Œé‚£ä¹ˆä½ åªéœ€è¦æ”¹æ—¥å†ç»„ä»¶Bé‡Œçš„ç›¸åº”ä»£ç å³å¯ï¼Œè€Œå› ä¸ºæ—¥å†ç»„ä»¶Bæš´éœ²çš„æ¥å£æ˜¯ä¸å˜çš„ï¼Œé‚£ä¹ˆè‡ªç„¶ä¸ç”¨ä¿®æ”¹é¡µé¢ä¸­çš„ä»£ç äº†ã€‚</p><p> é™„å›¾ï¼Œä»¥æ—¥å†ç»„ä»¶ä¸ºä¾‹ï¼Œæ˜¯å¦è€ƒè™‘åˆ°æ‰©å±•æ€§çš„ç»“æœ</p><p> <strong>æœªè€ƒè™‘åˆ°æ‰©å±•æ€§</strong></p><p> <img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202011302242444772020113022.png"                      alt="image-20201130224244477"                ></p><p> <strong>è€ƒè™‘åˆ°æ‰©å±•æ€§ï¼š</strong></p><p> <img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202011302243019392020113022.png"                      alt="image-20201130224301939"                ></p><p>  4ã€ä¾¿äºååŒã€‚åŒ…æ‹¬å‰ç«¯å’Œåç«¯çš„ååŒï¼Œå‰ç«¯å’Œå‰ç«¯ä¹‹é—´çš„ååŒã€‚å…·ä½“æ¥è¯´ï¼Œå‰åç«¯çš„ååŒé€šå¸¸æ˜¯ä»¥ajaxä¸ºäº¤äº’ï¼Œé‚£ä¹ˆåº”è‡³å°‘æœ‰ä¸€ä¸ªç”¨äºä¸“é—¨å°è£…äº†æ‰€æœ‰ajaxè¯·æ±‚çš„æ–‡ä»¶ï¼Œæ‰€æœ‰ajaxè¯·æ±‚éƒ½å°è£…åœ¨è¿™é‡Œã€‚åœ¨å¼€å‘æ—¶ï¼Œè¿™é‡Œå°è£…çš„æ–¹æ³•åº”è¯¥å¯ä»¥æ¨¡æ‹Ÿå‘é€å’Œæ¥æ”¶çº¦å®šå¥½çš„äº¤äº’å†…å®¹ï¼Œæ–¹ä¾¿å¼€å‘è”è°ƒã€‚è€Œå‰ç«¯å’Œå‰ç«¯çš„ååŒï¼Œä¸»è¦ä½“ç°åœ¨åŒæ—¶åœ¨æ›´æ”¹ä»£ç æ—¶ï¼Œä¸ä¼šå½±å“å¯¹æ–¹ä»£ç çš„æ­£å¸¸è¿è¡Œã€‚å› æ­¤è¦æ±‚å°è£…ã€è§£è€¦ä»¥åŠä½å¹²æ‰°åº¦æ˜¯å¿…é¡»çš„ã€‚</p><p>  5ã€è‡ªåŠ¨åŒ–è‡ªåŠ¨æ‰“åŒ…ï¼Œå‹ç¼©ï¼Œæ··æ·†ï¼Œå¦‚æœæœ‰å¿…è¦ï¼Œå†åŠ ä¸Šè‡ªåŠ¨å•å…ƒæµ‹è¯•ã€‚</p><p>  æ€»ç»“ï¼šæ€»ç»“æ¥è¯´ï¼Œä¸€ä¸ªå¥½çš„æ¶æ„çš„ç›®çš„æ˜¯ï¼Œè®©å‰ç«¯å†™ä»£ç å†™çš„èˆ’æœï¼Œè®©åç«¯è”è°ƒçš„èˆ’æœï¼Œè®©äº§å“ç»ç†æ”¹éœ€æ±‚æ”¹çš„èˆ’æœã€‚</p><h2 id="2ã€æˆ‘å¦‚ä½•è®¾è®¡æ¶æ„"><a href="#2ã€æˆ‘å¦‚ä½•è®¾è®¡æ¶æ„" class="headerlink" title="2ã€æˆ‘å¦‚ä½•è®¾è®¡æ¶æ„"></a>2ã€æˆ‘å¦‚ä½•è®¾è®¡æ¶æ„</h2><p> æˆ‘ä¸æ•¢è¯´è‡ªå·±çš„æ¶æ„æ˜¯å¥½çš„æ¶æ„ï¼ˆæ˜¾ç„¶ä¸æ˜¯å•¦ï¼‰ï¼Œåªèƒ½åˆ†äº«è‡ªå·±æœ€è¿‘åšçš„ä¸€ä¸ªé¡¹ç›®ï¼Œå®ƒçš„æ¶æ„çš„å¦‚ä½•åšçš„ã€‚</p><h3 id="é¦–å…ˆï¼Œç¡®å®šéœ€æ±‚ï¼š"><a href="#é¦–å…ˆï¼Œç¡®å®šéœ€æ±‚ï¼š" class="headerlink" title="é¦–å…ˆï¼Œç¡®å®šéœ€æ±‚ï¼š"></a><strong>é¦–å…ˆï¼Œç¡®å®šéœ€æ±‚ï¼š</strong></h3><p>  1ã€ä¸€ä¸ªä¸­å°å‹ç½‘ç«™ï¼ŒåŒæ—¶é¢å‘ç§»åŠ¨ç«¯å’ŒPCç«¯ï¼ˆå•ç«¯å¤§æ¦‚15ä¸ªé¡µé¢ï¼Œç®—ä¸Šå¼¹çª—å¤§çº¦20ä¸ªï¼‰ã€‚2ã€é¢„ç®—æœ‰é™ï¼ˆç»™çš„é’±å°‘ï¼‰ï¼Œå¼€å‘æ—¶é—´æœ‰é™ï¼ˆä¸€ä¸ªæœˆï¼‰ã€‚3ã€å¯èƒ½å­˜åœ¨ä¸€å®šç¨‹åº¦ä¸Šçš„éœ€æ±‚å˜æ›´ï¼ˆæ¯”å¦‚å¢åŠ é¡µé¢æˆ–ä¿®æ”¹æŸäº›é¡µé¢å†…å®¹ï¼‰ã€‚4ã€å®¢æˆ·å¯èƒ½ä¸å¤ªåœ¨ä¹ä¼˜åŒ–ï¼ˆä½†æ˜¯æˆ‘è‡ªå·±åœ¨ä¹å•Šï¼ï¼‰5ã€è¦æ±‚å…¼å®¹IE9ä»¥ä¸Šã€‚</p><h3 id="å…¶æ¬¡å¼€å§‹å†³å®šï¼š"><a href="#å…¶æ¬¡å¼€å§‹å†³å®šï¼š" class="headerlink" title="å…¶æ¬¡å¼€å§‹å†³å®šï¼š"></a><strong>å…¶æ¬¡å¼€å§‹å†³å®šï¼š</strong></h3><p>  1ã€å…¼å®¹IE9ä»¥ä¸Šè¯´æ˜å¯ä»¥ä½¿ç”¨ä¸»æµæ¡†æ¶ï¼Œè€Œæ— éœ€å¿…é¡»ä½¿ç”¨jqueryã€‚å› æ­¤æˆ‘é‡‡ç”¨äº†vueï¼Œç‰ˆæœ¬æ˜¯2.0ï¼›2ã€é¢„ç®—æœ‰é™ï¼Œæ—¶é—´æœ‰é™ï¼Œå› æ­¤PCç«¯å’Œç§»åŠ¨ç«¯å…±htmlå’Œjsï¼Œç‹¬ç«‹cssã€‚3ã€é¡µé¢æœ‰é™ï¼Œå› æ­¤æ— éœ€å°†æ¶æ„å±‚çº§åˆ’åˆ†çš„æ¯”è¾ƒç»†ï¼Œåªéœ€è¦æŒ‰å…¶ç±»å‹åˆ’åˆ†å³å¯ï¼›4ã€æ ¹æ®åŸå‹å›¾æ¥çœ‹ï¼Œé¡µé¢å¤æ‚ç¨‹åº¦æœ‰é™ï¼Œå¤ç”¨éƒ¨åˆ†ä¸æ˜¯å¾ˆå¤šï¼Œå› æ­¤å¯ä»¥ç¡®å®šå“ªäº›ä¸œè¥¿éœ€è¦å°è£…å¤ç”¨ï¼Œå“ªäº›æ¯”è¾ƒå¤æ‚éœ€è¦ç‹¬ç«‹å°è£…ï¼Œå“ªäº›æ¯”è¾ƒç®€å•ä¸ºäº†ç®€åŒ–å¼€å‘éš¾åº¦å¯ä»¥ç›´æ¥è€¦åˆã€‚5ã€è‡ªå·±æ¯”è¾ƒç†Ÿç»ƒå•é¡µé¢ç½‘ç«™ï¼Œå› æ­¤é‡‡ç”¨ä»¥å•é¡µé¢ä¸ºä¸»ï¼Œå¼‚æ­¥åŠ è½½å…¶ä»–é¡µé¢çš„å½¢å¼ã€‚</p><p> äºæ˜¯ä½¿ç”¨ç›¸å…³é…å¥—çš„ä¸œè¥¿ï¼Œæ¯”å¦‚webpackï¼Œvue-routerç­‰ï¼Œå¦å¤–ä¸ºäº†å¼€å‘å’Œç”Ÿäº§çš„æ–¹ä¾¿æ€§ï¼Œé‡‡ç”¨ä»¥ä¸‹æ¨¡å¼è¿›è¡Œå¼€å‘ã€‚</p><p> <img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202011302243206212020113022.png"                      alt="image-20201130224320621"                ></p><hr><h3 id="ç¬¬ä¸‰ï¼Œåˆ’åˆ†åŠŸèƒ½ã€‚"><a href="#ç¬¬ä¸‰ï¼Œåˆ’åˆ†åŠŸèƒ½ã€‚" class="headerlink" title="ç¬¬ä¸‰ï¼Œåˆ’åˆ†åŠŸèƒ½ã€‚"></a><strong>ç¬¬ä¸‰ï¼Œåˆ’åˆ†åŠŸèƒ½ã€‚</strong></h3><p> é¦–å…ˆæœ‰ä¸€ä¸ªæ ¹htmlï¼Œç”¨æˆ·éœ€è¦é€šè¿‡è®¿é—®å®ƒæ¥åŠ è½½æˆ‘ä»¬çš„jsé€»è¾‘ï¼Œå› æ­¤jsé€»è¾‘çš„ä»£ç è¢«å†™åœ¨main.jsä¹‹ä¸­ã€‚</p><p> åœ¨main.jsä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„å‰ç«¯ä»£ç å¯ä»¥è¢«åˆ’åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p><ol><li>ç»„ä»¶æ ‘ï¼›</li><li>åŠŸèƒ½æ¨¡å—ï¼›</li><li><p>å„ç§èµ„æºï¼›</p><p>å¦‚ä¸‹å›¾ï¼š</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202011302243474002020113022.png"                      alt="image-20201130224347400"                ></p><p>åŠŸèƒ½åˆ’åˆ†å¥½ä¹‹åï¼Œç›¸åŒåŠŸèƒ½çš„æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œå‘½åé£æ ¼åº”è¯¥ç±»ä¼¼ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œç»„ä»¶æ ‘ç›¸å…³çš„ä¸œè¥¿ï¼Œé€šå¸¸æ˜¯ä»¥.vueç»“å°¾ï¼Œæ”¾ç½®åœ¨componentsæ–‡ä»¶å¤¹ä¸‹ï¼›èµ„æºï¼Œæœ‰å›¾ç‰‡æˆ–è€…å›½é™…åŒ–èµ„æºç­‰ï¼Œä»¥.pngæˆ–è€….jsæˆ–.jsonç»“å°¾ï¼Œæ”¾ç½®åœ¨resourcesæ–‡ä»¶å¤¹ä¸‹ï¼›è€ŒåŠŸèƒ½æ’ä»¶ã€æœåŠ¡ç­‰ï¼Œå› ä¸ºå¯èƒ½è¢«å¤šå¤„å¼•ç”¨ï¼Œå› æ­¤ä¸ºäº†æ–¹ä¾¿å¼•ç”¨ï¼Œæ”¾åœ¨srcæ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶ä¸”è¯¥æ–‡ä»¶å¤¹æ˜¯componentsæ–‡ä»¶å¤¹å’Œresourcesæ–‡ä»¶å¤¹çš„ä¸Šçº§æ–‡ä»¶å¤¹ï¼›</p></li></ol><hr><h3 id="ç¬¬å››ã€ç»†åŒ–åŠŸèƒ½æ¨¡å—"><a href="#ç¬¬å››ã€ç»†åŒ–åŠŸèƒ½æ¨¡å—" class="headerlink" title="ç¬¬å››ã€ç»†åŒ–åŠŸèƒ½æ¨¡å—"></a><strong>ç¬¬å››ã€ç»†åŒ–åŠŸèƒ½æ¨¡å—</strong></h3><p> åŠŸèƒ½ã€ç»„ä»¶æ ‘ä»¥åŠèµ„æºï¼Œæˆ‘ä»¬å·²ç»æ˜ç¡®äº†æœ‰å“ªäº›ä¸œè¥¿ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦æ˜ç¡®è¿™äº›ä¸œè¥¿è¯¥å¦‚ä½•ä»¥æ–‡ä»¶çš„å½¢å¼æ¥åˆ’åˆ†ã€‚</p><p> å¦‚ä¸‹å›¾ï¼š</p><p> <img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202011302244049912020113022.png"                      alt="image-20201130224404991"                ></p><h3 id="1ã€é¡¹ç›®æ„å»ºç›¸å…³"><a href="#1ã€é¡¹ç›®æ„å»ºç›¸å…³" class="headerlink" title="1ã€é¡¹ç›®æ„å»ºç›¸å…³"></a><strong>1ã€é¡¹ç›®æ„å»ºç›¸å…³</strong></h3><p> å› ä¸ºè¦ä½¿ç”¨vue.jsï¼Œä¹Ÿè¦ä½¿ç”¨es6è¯­æ³•ï¼Œå› æ­¤<strong>babel</strong>æ˜¯å¿…é¡»çš„ï¼›åˆå› ä¸ºè¦è‡ªåŠ¨åŒ–æ··æ·†æ‰“åŒ…ï¼Œå› æ­¤<strong>webpack</strong>ä¹Ÿæ˜¯å¿…é¡»çš„ï¼›æœ€åå› ä¸ºè¦æ–¹ä¾¿å¤šäººååŒï¼Œå› æ­¤npmçš„<strong>package.json</strong>çš„é…ç½®ï¼Œæ–¹ä¾¿ä¸åŒäººå¯ä»¥å¿«é€Ÿè‡ªåŠ¨åŒ–é€šè¿‡npm installæ¥å®‰è£…ä¾èµ–ï¼Œä¹Ÿæ˜¯å¿…é¡»çš„ï¼›</p><h3 id="2ã€CDNç›¸å…³"><a href="#2ã€CDNç›¸å…³" class="headerlink" title="2ã€CDNç›¸å…³"></a><strong>2ã€CDNç›¸å…³</strong></h3><p> è€Œåˆå› ä¸ºæˆ‘ä»¬è¦é‡‡ç”¨å¤–éƒ¨å­—ä½“ï¼ˆéœ€æ±‚è¦æ±‚å¼•å…¥éå¸¸è§å­—ä½“ï¼‰ï¼Œå› æ­¤<strong>CDNåŠ é€Ÿ</strong>æ˜¯å¿…é¡»çš„ï¼Œè¯¥å­—ä½“æ–‡ä»¶æ”¾åœ¨htmlä¸­æ¥é…ç½®å¼•ç”¨å³å¯ï¼›</p><h3 id="3ã€é…ç½®å’Œæ’ä»¶"><a href="#3ã€é…ç½®å’Œæ’ä»¶" class="headerlink" title="3ã€é…ç½®å’Œæ’ä»¶"></a><strong>3ã€é…ç½®å’Œæ’ä»¶</strong></h3><p> æˆ‘ä»¬éœ€è¦ç›´æ¥å¼•å…¥ä¸€äº›æ’ä»¶å’Œé…ç½®æ–‡ä»¶ï¼›ä¸ºäº†ä½¿ç”¨vueï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ¹ç»„ä»¶ï¼Œé‚£ä¹ˆå°±æ˜¯<strong>App.vue</strong>ï¼›ä½¿ç”¨vue-routerï¼Œæˆ‘ä»¬éœ€è¦é…ç½®è·¯ç”±æ–‡ä»¶ï¼Œå› æ­¤<strong>router-config.js</strong>è¿™ä¸ªè·¯ç”±é…ç½®ä¹Ÿæ˜¯å¿…é¡»çš„ï¼›ç„¶åæˆ‘ä»¬è¿˜éœ€è¦ä»¥æ’ä»¶å½¢å¼å¼•å…¥ä¸€äº›åŠŸèƒ½å’ŒæœåŠ¡ï¼Œå› æ­¤æœ‰äº†<strong>Plugin-å¼€å¤´çš„è‹¥å¹²ä¸ªvueæ’ä»¶</strong>ï¼Œè¿™äº›éƒ½æ˜¯æ ¹æ®éœ€è¦å°è£…å¥½çš„ä½è€¦åˆé«˜å†…èšæ–¹æ³•ï¼›</p><h3 id="4ã€éœ€è¦çš„npmä¾èµ–"><a href="#4ã€éœ€è¦çš„npmä¾èµ–" class="headerlink" title="4ã€éœ€è¦çš„npmä¾èµ–"></a><strong>4ã€éœ€è¦çš„npmä¾èµ–</strong></h3><p> å½“ç„¶ï¼Œè¦ä½¿ç”¨vueè‚¯å®šè¦å¼•å…¥<strong>vue.js</strong>ï¼›ç±»ä¼¼çš„è¿˜æœ‰<strong>vue-router.js</strong>å’Œå„ç§å…¼å®¹æ€§<strong>polyfill</strong>å’Œå…¨å±€æ’ä»¶ï¼›</p><h3 id="5ã€æŠ½ç¦»å‡ºçš„åŠŸèƒ½æ¨¡å—"><a href="#5ã€æŠ½ç¦»å‡ºçš„åŠŸèƒ½æ¨¡å—" class="headerlink" title="5ã€æŠ½ç¦»å‡ºçš„åŠŸèƒ½æ¨¡å—"></a><strong>5ã€æŠ½ç¦»å‡ºçš„åŠŸèƒ½æ¨¡å—</strong></h3><p> é™¤äº†ç›´æ¥å¼•ç”¨çš„è¿™äº›æ’ä»¶ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€äº›å’Œé¡¹ç›®é«˜åº¦è€¦åˆçš„åŠŸèƒ½æœåŠ¡ï¼Œæˆ‘è®¤ä¸ºä¸èƒ½ä½œä¸ºæ’ä»¶ï¼Œä½†ä¾ç„¶éœ€è¦æŠ½ç¦»å‡ºæ¥å°è£…å¥½ï¼Œæ–¹ä¾¿ä½¿ç”¨å’Œä¿®æ”¹ï¼›å¦‚å°è£…ajaxè¯·æ±‚çš„<strong>ajax.js</strong>ï¼Œæ‰€æœ‰çš„ajaxè¯·æ±‚éƒ½æ”¾ç½®å…¶ä¸­ï¼Œåªå¯¹å¤–æš´éœ²æ¥å£ï¼Œæ–¹ä¾¿ç®¡ç†å’Œä½¿ç”¨ï¼›åˆå¦‚å®æ—¶å›½é™…åŒ–åŠŸèƒ½çš„ç»„ä»¶<strong>LanguageManager.js</strong>ï¼Œä»–éœ€è¦å¼•å…¥å›½é™…åŒ–èµ„æºå’Œç®¡ç†å›½é™…åŒ–èµ„æºçš„åŠ è½½ï¼›åˆä¾‹å¦‚å®ç°è·¨ç»„ä»¶é€šä¿¡çš„<strong>event-bus.js</strong>åˆæ¯”å¦‚ç®¡ç†ç”¨æˆ·ä¿¡æ¯çš„<strong>user.js</strong></p><h3 id="6ã€æ€»ç»“"><a href="#6ã€æ€»ç»“" class="headerlink" title="6ã€æ€»ç»“"></a><strong>6ã€æ€»ç»“</strong></h3><p> è€Œè¿™äº›åˆ’åˆ†ï¼Œéƒ½ä½“ç°åœ¨ä¸Šå›¾ä¹‹ä¸­ã€‚è¿™å°±æ˜¯<strong>srcç›®å½•ä¸‹çš„åŠŸèƒ½æ¨¡å—æ–‡ä»¶</strong>ï¼Œæˆ‘ä»¬éœ€è¦çš„ç»å¤§å¤šæ•°åŠŸèƒ½éƒ½å¯ä»¥åŒ…æ‹¬åœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§å®é™…å¼€å‘ä¸­çš„éœ€è¦ï¼Œå°†å¯¹åº”çš„åŠŸèƒ½å†™å…¥åœ¨è¿™äº›æ–‡ä»¶ä¸­å¹¶å¼•ç”¨å³å¯ï¼›</p><h3 id="ç¬¬äº”ã€ç»„ä»¶æ ‘"><a href="#ç¬¬äº”ã€ç»„ä»¶æ ‘" class="headerlink" title="ç¬¬äº”ã€ç»„ä»¶æ ‘"></a><strong>ç¬¬äº”ã€ç»„ä»¶æ ‘</strong></h3><p> ä¹‹å‰è°ˆäº†åŠŸèƒ½æ¨¡å—çš„åˆ’åˆ†ï¼Œæ¥ä¸‹æ¥æ˜¯ç»„ä»¶æ ‘ï¼›</p><p> å› æ­¤æ˜¯ä¸­å°å‹é¡µé¢ï¼Œå› æ­¤ç»„ä»¶æ ‘çš„å±‚çº§æ— éœ€å¤ªæ·±ï¼Œä½†è¯¥æŠ½ç¦»å‡ºæ¥çš„ä¾ç„¶è¿˜æ˜¯è¦æŠ½ç¦»ï¼Œå°½é‡ä¿è¯æŠ½ç¦»å‡ºæ¥çš„ç»„ä»¶è§£è€¦ä»¥åŠä¸€ä¸ªé¡µé¢ç»„ä»¶çš„é€»è¾‘ä¸è¦å¤ªå¤šï¼›</p><p> å¦‚ä¸‹å›¾ï¼š</p><p> <img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/SouthEast2020113022.png"                      alt="img"                ></p><h3 id="0ã€æ ¹ç»„ä»¶"><a href="#0ã€æ ¹ç»„ä»¶" class="headerlink" title="0ã€æ ¹ç»„ä»¶"></a><strong>0ã€æ ¹ç»„ä»¶</strong></h3><p> æ‰€æœ‰ç»„ä»¶æœ€ç»ˆå¾€ä¸Šæ‰¾ï¼Œéƒ½ä¼šæ‰¾åˆ°å…±åŒçš„æ ¹ç»„ä»¶App.vueï¼Œæ ¹ç»„ä»¶åªè´Ÿè´£ç®¡ç†ä»–çš„ç›´æ¥å­ç»„ä»¶ï¼›æ¯ä¸ªç»„ä»¶éƒ½åªè´Ÿè´£ç®¡ç†è‡ªå·±çš„ç›´æ¥å­ç»„ä»¶ï¼Œä¸è·¨çº§ç®¡ç†ï¼Œå¹¶ä¸”ä¸ä¾èµ–äºè‡ªå·±çš„å­ç»„ä»¶ï¼ˆå¦åˆ™å¯èƒ½å› ä¸ºå­ç»„ä»¶çš„æœªåŠ è½½æˆ–é”™è¯¯è€Œå¯¼è‡´çˆ¶ç»„ä»¶é”™è¯¯ï¼‰ï¼Œåšåˆ°è§£è€¦å’Œå†…èšï¼›</p><h3 id="1ã€å¼¹çª—dialogå’Œå¼¹çª—tips"><a href="#1ã€å¼¹çª—dialogå’Œå¼¹çª—tips" class="headerlink" title="1ã€å¼¹çª—dialogå’Œå¼¹çª—tips"></a><strong>1ã€å¼¹çª—dialogå’Œå¼¹çª—tips</strong></h3><p> å› ä¸ºå¼¹çª—dialogå’Œå¼¹çª—æç¤ºtipså¯èƒ½åŒæ—¶å­˜åœ¨ï¼Œå› æ­¤å°†å…¶åˆ’åˆ†ä¸º2ä¸ªç»„ä»¶ï¼Œæ–¹ä¾¿ç®¡ç†ï¼›</p><h3 id="2ã€æœªç™»å½•é¡µé¢å’Œç™»å½•é¡µé¢"><a href="#2ã€æœªç™»å½•é¡µé¢å’Œç™»å½•é¡µé¢" class="headerlink" title="2ã€æœªç™»å½•é¡µé¢å’Œç™»å½•é¡µé¢"></a><strong>2ã€æœªç™»å½•é¡µé¢å’Œç™»å½•é¡µé¢</strong></h3><p> å› ä¸ºé¡µé¢å­˜åœ¨ç™»å½•å’Œæœªç™»å½•çŠ¶æ€ï¼Œè€Œä¸ºäº†åŠ è½½é€Ÿåº¦è€ƒè™‘ï¼Œå½“æœªç™»å½•æ—¶ï¼Œä¸åŠ è½½å·²ç™»å½•é¡µé¢ï¼Œå› æ­¤éœ€è¦åˆ’åˆ†å‡ºæ¥ï¼Œå¹¶è¿›è¡Œå¼‚æ­¥åŠ è½½å¤„ç†ï¼›</p><h3 id="3ã€æœªç™»å½•é¡µé¢"><a href="#3ã€æœªç™»å½•é¡µé¢" class="headerlink" title="3ã€æœªç™»å½•é¡µé¢"></a><strong>3ã€æœªç™»å½•é¡µé¢</strong></h3><p> æœªç™»å½•é¡µé¢åˆåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š1ã€åˆå§‹é¡µé¢ï¼šæ¯«æ— ç–‘é—®è¦ç›´æ¥åŠ è½½2ã€ç™»å½•å¼¹çª—ï¼šç‚¹å‡»ç™»å½•æ—¶åŠ è½½ï¼ˆå¼‚æ­¥ï¼‰3ã€æ³¨å†Œå¼¹çª—ï¼šç‚¹å‡»æ³¨å†Œæ—¶åŠ è½½ï¼ˆå¼‚æ­¥ï¼‰ä¹‹æ‰€ä»¥åˆ†æ‹†å¼€ï¼Œæ˜¯å› ä¸ºæ ¹æ®éœ€æ±‚ï¼Œå·²ç™»å½•ç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œå¯ä»¥ç›´æ¥è¿›å…¥ç™»å½•åé¡µé¢ï¼Œå› æ­¤æ— éœ€ç™»å½•å’Œæ³¨å†Œï¼Œè¿™ç§å¤„ç†å¯ä»¥å‡å°‘æµé‡æ¶ˆè€—ï¼Œæå‡åŠ è½½é¡µé¢åŠ è½½é€Ÿåº¦ï¼ˆç‰¹åˆ«æ˜¯æ³¨å†Œå¼¹çª—éœ€è¦åŠ è½½çš„å†…å®¹è¿˜æ¯”è¾ƒå¤šï¼‰ï¼›</p><h3 id="4ã€å·²ç™»å½•é¡µé¢"><a href="#4ã€å·²ç™»å½•é¡µé¢" class="headerlink" title="4ã€å·²ç™»å½•é¡µé¢"></a><strong>4ã€å·²ç™»å½•é¡µé¢</strong></h3><p> å·²ç™»å½•é¡µé¢æœ‰è¾ƒå¤šé¡µé¢ï¼Œé‡‡ç”¨é»˜è®¤åŠ è½½åˆå§‹é¡µï¼Œç„¶åå¼‚æ­¥åŠ è½½å…¶ä»–é¡µé¢ï¼ˆè®¿é—®æ—¶ï¼‰ï¼›</p><h3 id="5ã€å¼¹çª—dialog"><a href="#5ã€å¼¹çª—dialog" class="headerlink" title="5ã€å¼¹çª—dialog"></a><strong>5ã€å¼¹çª—dialog</strong></h3><p> ç”±äºé€»è¾‘è¾ƒå°‘ï¼Œä»£ç é‡ä¸å¤šï¼Œå› æ­¤ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œç»Ÿä¸€å°†å…¶åˆå¹¶åœ¨ä¸€ä¸ªvueæ–‡ä»¶ä¸­ï¼Œå…±åŒç›¸åŒçš„æ‰“å¼€é€»è¾‘ï¼Œæ ¹æ®ä¼ é€’çš„keyå†³å®šæ‰“å¼€å“ªä¸€ä¸ªã€‚è¿™æ ·åœ¨æ–°å¢å¼¹çª—æ—¶ï¼Œæ— éœ€å†å»å†™å¼¹çª—çš„æ‰“å¼€ã€å…³é—­é€»è¾‘ã€‚å‡å¦‚æœ‰è¾ƒå¤æ‚çš„å¼¹çª—ï¼Œå¯ä»¥ä»¥å­ç»„ä»¶çš„å½¢å¼å¼•å…¥åˆ°å½“å‰vueæ–‡ä»¶ä¸­ï¼Œå¦‚æ­¤ä¹Ÿæ–¹ä¾¿ç®¡ç†ï¼›</p><h3 id="6ã€å›½é™…åŒ–ç®¡ç†"><a href="#6ã€å›½é™…åŒ–ç®¡ç†" class="headerlink" title="6ã€å›½é™…åŒ–ç®¡ç†"></a><strong>6ã€å›½é™…åŒ–ç®¡ç†</strong></h3><p> å’Œé¡µé¢é«˜è€¦åˆï¼Œè´Ÿè´£åŠ è½½å¯¹åº”çš„å›½é™…åŒ–èµ„æºï¼Œå¹¶è¿›è¡Œåˆ‡æ¢ç®¡ç†ï¼›</p><h3 id="7ã€é¡µé¢ç»„ä»¶"><a href="#7ã€é¡µé¢ç»„ä»¶" class="headerlink" title="7ã€é¡µé¢ç»„ä»¶"></a><strong>7ã€é¡µé¢ç»„ä»¶</strong></h3><p> å¯èƒ½æœ‰å­é¡µé¢å’Œå¤ç”¨çš„ç»„ä»¶ï¼ŒæŒ‰ç…§æ­£å¸¸æ–¹å¼å¼•ç”¨å³å¯ã€‚</p><h3 id="8ã€æ ·å¼æ–‡ä»¶"><a href="#8ã€æ ·å¼æ–‡ä»¶" class="headerlink" title="8ã€æ ·å¼æ–‡ä»¶"></a><strong>8ã€æ ·å¼æ–‡ä»¶</strong></h3><p> å¯ä»¥ç‹¬ç«‹å†™ä¸º.cssæ–‡ä»¶ï¼Œä½†å› ä¸ºæˆ‘çš„å…¬å…±æ ·å¼æ–‡ä»¶æ¯”è¾ƒå°‘ï¼Œå› æ­¤æˆ‘è¿˜æ˜¯å°†å…¶æ”¾åœ¨ä¸€ä¸ª.vueæ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨App.vueé‡Œæ¥å¼•ç”¨</p><h3 id="8ã€é¡µé¢ç»„ä»¶èµ·å"><a href="#8ã€é¡µé¢ç»„ä»¶èµ·å" class="headerlink" title="8ã€é¡µé¢ç»„ä»¶èµ·å"></a><strong>8ã€é¡µé¢ç»„ä»¶èµ·å</strong></h3><p> é€šå¸¸ä»¥.vueä¸ºç»“å°¾ï¼Œé™¤äº†å›½é™…åŒ–LanguageManager.jså› ä¸ºé«˜è€¦åˆåº¦ï¼Œå› æ­¤ä»¥.jsç»“å°¾å¹¶æ˜¯ä¸€ä¸ªå•ç‹¬çš„vueå®ä¾‹ï¼Œè¡¨ç¤ºä»–æ›´åƒæ˜¯ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªvueçš„é¡µé¢ç»„ä»¶ï¼›</p><p> åŸºç¡€é¡µé¢ï¼Œå¦‚ç™»å½•å’Œæœªç™»å½•é¡µé¢ï¼Œ<code>å…¬å…±ç»„ä»¶ï¼ˆå¹¶ä¸”æ˜¯headerå’Œfooterè¿™ç§ï¼‰ï¼Œä»¥**base-**å¼€å¤´ï¼›å¼¹çª—ç»Ÿä¸€ä»¥**box-**ä¸ºå¼€å¤´;å¯å¤ç”¨çš„ç»„ä»¶ä»¥**extend-**å¼€å¤´ï¼›å¼•å…¥çš„å¤–éƒ¨ç»„ä»¶ä»¥**import-**å¼€å¤´</code>ï¼›<code>æ™®é€šé¡µé¢ç»„ä»¶ä»¥**page-**å¼€å¤´</code>ï¼ˆè¿™äº›é¡µé¢å¾€å¾€æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¡µé¢ï¼Œå¹¶ä¸”æŒ‚é åœ¨ç™»å½•æˆ–æœªç™»å½•é¡µé¢ä¸‹ï¼‰ï¼›æ³¨å†Œå¼¹çª—å› ä¸ºé€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œå¹¶ä¸”åŒç±»è¾ƒå¤šï¼Œå› æ­¤ä»¥<strong>register-</strong>ä¸ºå¼€å¤´ï¼›</p><p> é€šè¿‡ä»¥æ–‡ä»¶åæ¥åˆ’åˆ†ï¼Œä¸åŒçš„é¡µé¢ç»„ä»¶ä¹‹é—´çš„åŒºåˆ†å¯ä»¥è¯´æ˜¯ä¸€ç›®äº†ç„¶ï¼ŒåŒæ—¶ä¹Ÿæ–¹ä¾¿ç®¡ç†ï¼›</p><hr><h1 id="3ã€è¿˜æ²¡æœ‰è°ˆåˆ°çš„å†…å®¹"><a href="#3ã€è¿˜æ²¡æœ‰è°ˆåˆ°çš„å†…å®¹" class="headerlink" title="3ã€è¿˜æ²¡æœ‰è°ˆåˆ°çš„å†…å®¹"></a><strong>3ã€è¿˜æ²¡æœ‰è°ˆåˆ°çš„å†…å®¹</strong></h1><p> æƒ³äº†æƒ³ï¼Œç›®å‰è¿˜æ²¡æœ‰è°ˆåˆ°çš„å†…å®¹æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p><p>  1ã€è·¯ç”±ï¼šä»¥è·¯ç”±ä¸ºé©±åŠ¨æ¥å†™é¡µé¢ï¼Œä¼¼ä¹æ˜¯ä¸€ç§ä¸é”™çš„é€‰æ‹©ï¼›å¥½å¤„æ˜¯åªéœ€è¦é€šè¿‡æŸ¥çœ‹è·¯ç”±çš„é…ç½®æ–‡ä»¶router-config.jsï¼Œå°±å¯ä»¥äº†è§£é¡µé¢ç»„ä»¶çš„æ¶æ„ï¼›ä¸è¿‡æˆ‘è‡ªå·±å…³äºvue-routerçš„å®è·µç»éªŒæ¯”è¾ƒå°‘ï¼Œå› æ­¤å°±ç•¥è¿‡ä¸è°ˆäº†ï¼›</p><p>  2ã€å•å…ƒæµ‹è¯•ï¼šæŒ‰é“ç†è¯´ï¼Œå•å…ƒæµ‹è¯•æ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼Œå› æ­¤åœ¨è¿›è¡Œæ¶æ„è®¾è®¡æ—¶ï¼Œå¿…é¡»è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼›ä¸è¿‡ä½œè€…æˆ‘ç›®å‰åœ¨çš„å…¬å¸å…³äºå‰ç«¯æ–¹é¢éƒ½ä¸å¤ªæ­£è§„ï¼Œå®åœ¨æ²¡è¿™æ–¹é¢çš„ç»éªŒï¼Œåˆå› ä¸ºä½œè€…æˆ‘æœ¬äººè½¬è¡Œåšå‰ç«¯çš„æ—¶é—´ä¹Ÿæ¯”è¾ƒçŸ­ï¼Œè™½ç„¶å‘¨å‘¨9.12.7ï¼Œä½†ä¹Ÿæ²¡æ¥å¾—åŠå­¦ä¹ è¿™æ–¹é¢çš„çŸ¥è¯†ï¼ˆæ²¡æœ‰éœ€æ±‚é©±åŠ¨ï¼Œè¿™æ–¹é¢åŠ¨åŠ›ä¸è¶³å“ˆå“ˆï¼‰</p><p>  3ã€è‡ªåŠ¨åŒ–é…ç½®ï¼šå…³äºwebpackçš„è‡ªåŠ¨åŒ–ï¼Œæ˜¯å‰ç«¯æ¶æ„çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå› æ­¤é…ç½®ä¹Ÿæ˜¯è›®é‡è¦çš„ï¼›ä¸è¿‡ä¸€æ˜¯è¿™æ–¹é¢éœ€è¦å¾ˆå¤šç¬”å¢¨çš„ï¼ŒäºŒæ˜¯ç½‘ä¸Šä¹Ÿæœ‰ä¸€äº›åˆ«äººåˆ†äº«çš„æ–‡ç« ï¼ˆè‚¯å®šæ¯”æˆ‘çš„å¥½ï¼‰ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼›</p><p>  4ã€ä¸€äº›è‡ªåŠ¨åŒ–å·¥å…·ï¼šä¾ç„¶å°´å°¬ï¼Œæ²¡æœ‰å¤§å‚ç»éªŒï¼Œè·¯å­æ¯”è¾ƒé‡ï¼Œæ‰€ä»¥å¤§å‚ä¸“æœ‰çš„ä¸€äº›å·¥å…·æ˜¯æœ¨æœ‰çš„ï¼Œè€Œè‡ªå·±æ‰¾çš„è¯åˆå«Œéº»çƒ¦ï¼Œæ‰€ä»¥æ²¡æœ‰ä¼˜åŒ–åˆ°æè‡´ï¼Œåªåšåˆ°äº†åŸºæœ¬æ»¡è¶³ç›®å‰é¡¹ç›®éœ€æ±‚çš„ç¨‹åº¦ï¼Œè§è°…è§è°…ï¼›ç­‰ä»¥åæœ‰è¿™æ–¹é¢ç»éªŒçš„è¯æˆ‘å†å†™åšå®¢æ¥åˆ†äº«å§~</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1ã€ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªå¥½çš„æ¶æ„&quot;&gt;&lt;a href=&quot;#1ã€ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªå¥½çš„æ¶æ„&quot; class=&quot;headerlink&quot; title=&quot;1ã€ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªå¥½çš„æ¶æ„&quot;&gt;&lt;/a&gt;1ã€ä¸ºä»€ä¹ˆè¦æœ‰ä¸€ä¸ªå¥½çš„æ¶æ„&lt;/h2&gt;&lt;p&gt; é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼Œ&lt;code&gt;æ¶æ„æ˜¯ä¸ºéœ€æ±‚æœåŠ¡çš„&lt;/code&gt;ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>è®°ä¸€æ¬¡æœåŠ¡å™¨æ•°æ®è¢«é»‘ ğŸ˜‚</title>
    <link href="http://mariogogogo.github.io/2020/09/16/%E6%95%B0%E6%8D%AEMoogose%E8%A2%AB%E9%BB%91/"/>
    <id>http://mariogogogo.github.io/2020/09/16/æ•°æ®Moogoseè¢«é»‘/</id>
    <published>2020-09-16T07:13:48.000Z</published>
    <updated>2021-02-18T06:13:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¹¸äºè¿™æ¬¡ä¸¢å¤±çš„æ•°æ®ä¸å¤šï¼Œä¹Ÿåªæ˜¯è‡ªå·±ä¸ªäººçš„æµ‹è¯•æ•°æ®ï¼Œå¦‚æœæ˜¯å…¬å¸çš„å•†ç”¨æ•°æ®åº“æ•°æ®ï¼Œé‚£è¢«å‹’ç´¢å¤šå°‘ BTC ä¹Ÿå¾—ç»™å•Š ğŸ˜</p><a id="more"></a><h2 id="æœåŠ¡å™¨åˆä¸€æ¬¡è¢«æ¶æ„æ”»å‡»ï¼ŒMongoDB-è¢«åˆ åº“"><a href="#æœåŠ¡å™¨åˆä¸€æ¬¡è¢«æ¶æ„æ”»å‡»ï¼ŒMongoDB-è¢«åˆ åº“" class="headerlink" title="æœåŠ¡å™¨åˆä¸€æ¬¡è¢«æ¶æ„æ”»å‡»ï¼ŒMongoDB è¢«åˆ åº“"></a>æœåŠ¡å™¨åˆä¸€æ¬¡è¢«æ¶æ„æ”»å‡»ï¼ŒMongoDB è¢«åˆ åº“</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/uPic/2020%2009%2016%2016%2028%2027%201600244907.png"                      alt="image-20200915164254240"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/uPic/2020%2009%2016%2016%2028%2022%201600244902.png"                      alt="image-20200915164549369"                ></p><h2 id="æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯"><a href="#æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯"></a>æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mongo --version</span><br><span class="line">MongoDB shell version v4<span class="number">.0</span><span class="number">.6</span></span><br><span class="line">git version: caa42a1f75a56c7643d0b68d3880444375ec42e3</span><br><span class="line">OpenSSL version: OpenSSL <span class="number">1.0</span><span class="number">.1f</span> <span class="number">6</span> Jan <span class="number">2014</span></span><br><span class="line">allocator: tcmalloc</span><br><span class="line">modules: none</span><br><span class="line">build environment:</span><br><span class="line">    distmod: ubuntu1404</span><br><span class="line">    distarch: x86_64</span><br><span class="line">    target_arch: x86_64</span><br></pre></td></tr></table></figure><h2 id="é‡æ–°å¸è½½"><a href="#é‡æ–°å¸è½½" class="headerlink" title="é‡æ–°å¸è½½"></a>é‡æ–°å¸è½½</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">åœæ­¢æœåŠ¡ï¼š</span><br><span class="line">sudo service mongod stop</span><br><span class="line">åˆ é™¤è½¯ä»¶åŒ…ï¼š</span><br><span class="line">sudo yum erase $(rpm -qa | grep mongodb-org)</span><br><span class="line"> åˆ é™¤æ•°æ®å’Œæ—¥å¿—ç›®å½•ï¼š</span><br><span class="line">sudo rm -r /<span class="keyword">var</span>/log/mongodbï¼ˆæ—¥å¿—ï¼‰</span><br><span class="line">sudo rm -r /<span class="keyword">var</span>/lib/mongoï¼ˆæ•°æ®ï¼‰</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…é‡å¯æœåŠ¡"><a href="#å®‰è£…é‡å¯æœåŠ¡" class="headerlink" title="å®‰è£…é‡å¯æœåŠ¡"></a>å®‰è£…é‡å¯æœåŠ¡</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#å®‰è£…</span><br><span class="line">sudo apt-get install -y mongodb-org</span><br><span class="line"></span><br><span class="line"># å¼€å¯æœåŠ¡</span><br><span class="line">sudo service mongod start</span><br><span class="line"></span><br><span class="line"># åœæ­¢æœåŠ¡</span><br><span class="line">sudo service mognod stop</span><br><span class="line"></span><br><span class="line"># é‡å¯æœåŠ¡</span><br><span class="line">sudo service mongod restart</span><br></pre></td></tr></table></figure><h2 id="è¿æ¥"><a href="#è¿æ¥" class="headerlink" title="è¿æ¥"></a>è¿æ¥</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongo;</span><br></pre></td></tr></table></figure><h2 id="é…ç½®æ–‡ä»¶ä¿¡æ¯"><a href="#é…ç½®æ–‡ä»¶ä¿¡æ¯" class="headerlink" title="é…ç½®æ–‡ä»¶ä¿¡æ¯"></a>é…ç½®æ–‡ä»¶ä¿¡æ¯</h2><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dbPath</span>=ã€‚ã€‚ã€‚ <span class="comment">#æ•°æ®æ–‡ä»¶å­˜æ”¾ç›®å½•</span></span><br><span class="line"><span class="attr">path</span>=ã€‚ã€‚ã€‚ <span class="comment">#æ—¥å¿—æ–‡ä»¶å­˜æ”¾ç›®å½•</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">27017</span> <span class="comment">#ç«¯å£å·</span></span><br><span class="line"><span class="attr">fork</span>=<span class="literal">true</span> <span class="comment">#ä»¥å®ˆæŠ¤ç¨‹åºçš„æ–¹å¼å¯ç”¨,å³åœ¨åå°è¿è¡Œ</span></span><br><span class="line"><span class="attr">logappend</span> = <span class="literal">true</span> <span class="comment">#æ—¥å¿—ä»¥è¿½åŠ çš„å½¢å¼æ·»åŠ </span></span><br><span class="line"><span class="attr">bind_ip</span> = <span class="number">0.0</span>.<span class="number">0.0</span> <span class="comment">#å¯ä»¥è®¿é—®çš„åœ°å€. 127.0.0.1è¡¨ç¤ºè‡ªå·±è®¿é—®, 0.0.0.0 è¡¨ç¤ºæ‰€æœ‰äººéƒ½èƒ½è®¿é—®</span></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹ç«¯å£"><a href="#ä¿®æ”¹ç«¯å£" class="headerlink" title="ä¿®æ”¹ç«¯å£"></a>ä¿®æ”¹ç«¯å£</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ä¿®æ”¹etc/mongod.confæ–‡ä»¶å†…çš„é…ç½®ä¿¡æ¯</span><br><span class="line">net:</span><br><span class="line">  port: <span class="number">12345</span> <span class="comment">//ç«¯å£å·</span></span><br><span class="line">  bindIp: <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>,<span class="number">1</span>**<span class="number">.16</span>*<span class="number">.1</span>**<span class="number">.18</span>   <span class="comment">//å†…ç½‘</span></span><br><span class="line"></span><br><span class="line">  # é‡å¯æœåŠ¡</span><br><span class="line">sudo service mongod restart</span><br><span class="line">æç¤º</span><br><span class="line">mongod stop/waiting</span><br><span class="line">mongod start/running, process <span class="number">19206</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿æ¥MongoDBå¹¶æŒ‡å®šç«¯å£</span></span><br><span class="line">mongo <span class="number">192.168</span><span class="number">.1</span><span class="number">.100</span>:<span class="number">12345</span></span><br></pre></td></tr></table></figure><h2 id="é™åˆ¶ç«¯å£è®¿é—®"><a href="#é™åˆ¶ç«¯å£è®¿é—®" class="headerlink" title="é™åˆ¶ç«¯å£è®¿é—®"></a>é™åˆ¶ç«¯å£è®¿é—®</h2><p>æƒ³è¦å®ç°ï¼š</p><p>é™åˆ¶å¤–ç½‘è®¿é—® mongoï¼Œåªå…è®¸ç‰¹å®šçš„ IP è¿›æ¥è®¿é—® mongo çš„è¯ï¼Œåˆ™ï¼š</p><p>Mongo çš„é…ç½®ä¸­ï¼Œæ˜¯æ— æ³•å®ç°è¿™ä¸ªæ•ˆæœçš„ã€‚</p><p>åªèƒ½æ¢ç”¨å…¶ä»–åŠæ³•ï¼Œæ¯”å¦‚ï¼š</p><p>é€šè¿‡è®¾ç½®é˜²ç«å¢™ï¼Œæ·»åŠ ï¼š</p><p>åªå…è®¸æŸäº› IPï¼Œå…¥ç½‘æ–¹å‘ï¼Œèƒ½å¤Ÿè®¿é—® mongo çš„å¯¹åº”çš„ç«¯å£</p><p>ä»è€Œç¦æ­¢æ‰å…¶ä»–çš„ IP è®¿é—® mongo</p><p>è€Œæ­¤å¤„çš„é˜¿é‡Œäº‘çš„ ECS æœåŠ¡å™¨ä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å®‰å…¨ç»„ï¼Œå®ç°å’Œé˜²ç«å¢™ä¸€æ ·çš„æ•ˆæœã€‚</p><p>å…·ä½“è®¾ç½®åŠæ³•ï¼š</p><p>è¿›å»é˜¿é‡Œäº‘æ§åˆ¶åå°-ã€‹äº‘æœåŠ¡å™¨ ECS-ã€‹å®‰å…¨ç»„-ã€‰ä½ çš„ ECS æœåŠ¡å™¨æ‰€åœ¨çš„åŒºåŸŸ-ã€‹å¯¹åº”çš„ ECS æœåŠ¡å™¨-ã€‰é…ç½®è§„åˆ™ï¼š</p><p>å¢åŠ  2 ä¸ªè§„åˆ™ï¼š</p><p>ï¼ˆ1ï¼‰è§„åˆ™ 1ï¼š å…è®¸ç‰¹å®šçš„ IPï¼ˆå•ä¸ª IPï¼ŒæŸä¸ª IP åœ°å€æ®µï¼ˆå†…çš„æ‰€æœ‰çš„ IPï¼‰ï¼ŒæŸå‡ ä¸ª IPï¼‰å…è®¸è®¿é—®æŸç«¯å£</p><p>ï¼ˆ2ï¼‰è§„åˆ™ 2ï¼šç¦æ­¢æ‰ï¼Œå…¶ä»–çš„ IP è®¿é—®è¯¥ç«¯å£</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/uPic/2020%2009%2016%2016%2028%2003%201600244883.png"                      alt="image-20200916131318130"                ></p><h2 id="é…ç½®ç®¡ç†å‘˜è´¦å·"><a href="#é…ç½®ç®¡ç†å‘˜è´¦å·" class="headerlink" title="é…ç½®ç®¡ç†å‘˜è´¦å·"></a>é…ç½®ç®¡ç†å‘˜è´¦å·</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># åˆ‡æ¢åˆ° admin æ•°æ®åº“</span><br><span class="line">use admin</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºç”¨æˆ·</span><br><span class="line">db.createUser(&#123;<span class="attr">user</span>: <span class="string">&#x27;tanya&#x27;</span>, <span class="attr">pwd</span>: <span class="string">&#x27;tanya&#x27;</span>, <span class="attr">roles</span>: [&#123;<span class="attr">role</span>: <span class="string">&#x27;userAdminAnyDatabase&#x27;</span>, <span class="attr">db</span>: <span class="string">&#x27;admin&#x27;</span>&#125;]&#125;)</span><br><span class="line"></span><br><span class="line"># æˆæƒ</span><br><span class="line">db.auth(<span class="string">&#x27;tanya&#x27;</span>, <span class="string">&#x27;tanya&#x27;</span>)</span><br><span class="line"></span><br><span class="line"># åˆ‡æ¢åˆ°å…¶ä»–æ•°æ®åº“</span><br><span class="line">use dream-wall</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºç”¨æˆ·</span><br><span class="line">db.createUser(&#123;<span class="attr">user</span>: <span class="string">&#x27;tanya_dream-wall_runner&#x27;</span>, <span class="attr">pwd</span>: <span class="string">&#x27;tanya&#x27;</span>, <span class="attr">roles</span>: [&#123;<span class="attr">role</span>: <span class="string">&#x27;readWrite&#x27;</span>, <span class="attr">db</span>: <span class="string">&#x27;dream-wall&#x27;</span>&#125;]&#125;)</span><br><span class="line">db.createUser(&#123;<span class="attr">user</span>: <span class="string">&#x27;tanya_dream-wall_wheel&#x27;</span>, <span class="attr">pwd</span>: <span class="string">&#x27;tanya&#x27;</span>, <span class="attr">roles</span>: [&#123;<span class="attr">role</span>: <span class="string">&#x27;read&#x27;</span>, <span class="attr">db</span>: <span class="string">&#x27;dream-wall&#x27;</span>&#125;]&#125;)</span><br><span class="line"></span><br><span class="line"># ä¿®æ”¹é…ç½®ï¼Œå¼€å¯æˆæƒ</span><br><span class="line">sudo vi /etc/mongod.conf</span><br><span class="line"></span><br><span class="line">security:</span><br><span class="line">  authorization: <span class="string">&#x27;enabled&#x27;</span></span><br><span class="line"></span><br><span class="line"># é‡å¯ mongo æœåŠ¡ï¼Œä½¿é…ç½®ç”Ÿæ•ˆ</span><br><span class="line">sudo service mongod restart</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ¯æ¬¡è¦è¿›è¡Œæ•°æ®åº“æ“ä½œéƒ½éœ€è¦å…ˆè¿›è¡Œæˆæƒ db.auth(â€˜tanyaâ€™, â€˜tanyaâ€™)</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ç™»å½•åˆ°æŒ‡å®šæ•°æ®åº“ï¼Œæ— éœ€æˆæƒ</span><br><span class="line">mongo <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:xx/dream-wall -u tanya_dream-wall_runner -p tanya</span><br><span class="line"></span><br><span class="line"># éªŒè¯ä¸€ä¸‹</span><br><span class="line">show tables</span><br><span class="line">db.dreams.find()</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><h4 id="å®‰å…¨äº‹æ•…çŒ›äºè™"><a href="#å®‰å…¨äº‹æ•…çŒ›äºè™" class="headerlink" title="å®‰å…¨äº‹æ•…çŒ›äºè™"></a>å®‰å…¨äº‹æ•…çŒ›äºè™</h4><p>è¿™é‡Œç»™å†æ¬¡ç»™è‡ªå·±ä¹Ÿç»™å¤§å®¶æä¸ªé†’ï¼Œå®‰å…¨äº‹æ•…çŒ›äºè™ï¼Œå®‰å…¨è´£ä»»é‡äºå±±ã€‚</p><ul><li>ä¸€å®šä¸è¦ä¸ºäº†å›¾æ–¹ä¾¿ï¼Œå°±å¿½ç•¥æŸäº›å®‰å…¨é…ç½®ï¼Œå¹³æ—¶åšä»€ä¹ˆéƒ½è¦æœ‰å®‰å…¨æ„è¯†ã€‚</li><li>é‡è¦æ•°æ®åŠæ—¶å¤‡ä»½ã€‚</li><li>æœåŠ¡å™¨è®¾ç½® IP é»‘ç™½åå•ï¼Œå…³é—­ä¸€åˆ‡å¯ä»¥å…³é—­çš„ç«¯å£</li><li>å¦‚æœè·Ÿæˆ‘ä¼¼çš„ï¼Œè®¿é—®æœåŠ¡çš„ ip ç»å¸¸å˜ï¼Œå¯ä»¥è€ƒè™‘ä¿®æ”¹ä¸€äº›æœåŠ¡çš„é»˜è®¤ç«¯å£ï¼Œå¢åŠ è¢«æ‰«åˆ°çš„æ¦‚ç‡</li><li>ä¸€å®šè¦è®¾ç½®å¯†ç ï¼Œä¸ºäº†é˜²æ­¢è¢«çˆ†ï¼Œæœ€å¥½æ˜¯æ— è§„åˆ™çš„å¼ºå¯†ç </li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a class="link"   href="https://blog.csdn.net/dandanfengyun/article/details/95497728" >https://blog.csdn.net/dandanfengyun/article/details/95497728<i class="fas fa-external-link-alt"></i></a></p><p><a class="link"   href="https://www.crifan.com/mongodb_add_restrict_ip_access/" >https://www.crifan.com/mongodb_add_restrict_ip_access/<i class="fas fa-external-link-alt"></i></a></p><p><a class="link"   href="https://www.bbsmax.com/A/x9J238pM56/" >https://www.bbsmax.com/A/x9J238pM56/<i class="fas fa-external-link-alt"></i></a></p><p><a class="link"   href="https://github.com/savoygu/blog/blob/master/åšå®¢/Node.jsé¡¹ç›®çº¿ä¸ŠæœåŠ¡å™¨éƒ¨ç½²ä¸å‘å¸ƒ/Node.jsé¡¹ç›®çº¿ä¸ŠæœåŠ¡å™¨éƒ¨ç½²ä¸å‘å¸ƒ.md#52-ä¿®æ”¹-mongodb-é»˜è®¤ç«¯å£" >https://github.com/savoygu/blog/blob/master/åšå®¢/Node.jsé¡¹ç›®çº¿ä¸ŠæœåŠ¡å™¨éƒ¨ç½²ä¸å‘å¸ƒ/Node.jsé¡¹ç›®çº¿ä¸ŠæœåŠ¡å™¨éƒ¨ç½²ä¸å‘å¸ƒ.md#52-ä¿®æ”¹-mongodb-é»˜è®¤ç«¯å£<i class="fas fa-external-link-alt"></i></a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¹¸äºè¿™æ¬¡ä¸¢å¤±çš„æ•°æ®ä¸å¤šï¼Œä¹Ÿåªæ˜¯è‡ªå·±ä¸ªäººçš„æµ‹è¯•æ•°æ®ï¼Œå¦‚æœæ˜¯å…¬å¸çš„å•†ç”¨æ•°æ®åº“æ•°æ®ï¼Œé‚£è¢«å‹’ç´¢å¤šå°‘ BTC ä¹Ÿå¾—ç»™å•Š ğŸ˜&lt;/p&gt;
    
    </summary>
    
      <category term="NodeJs" scheme="http://mariogogogo.github.io/categories/NodeJs/"/>
    
    
      <category term="NodeJs" scheme="http://mariogogogo.github.io/tags/NodeJs/"/>
    
      <category term="åŸºç¡€" scheme="http://mariogogogo.github.io/tags/%E5%9F%BA%E7%A1%80/"/>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="http://mariogogogo.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²ä¹‹Shell</title>
    <link href="http://mariogogogo.github.io/2020/06/01/%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E4%B9%8BShell/"/>
    <id>http://mariogogogo.github.io/2020/06/01/å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²ä¹‹Shell/</id>
    <published>2020-05-31T16:00:00.000Z</published>
    <updated>2020-12-08T07:00:49.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¼—æ‰€å‘¨çŸ¥å‰ç«¯æ˜¯ä¸€ä¸ªä¸å–„è¨€è¾å¹¶ä¸ä¼šä½¿ç”¨cmdçš„çš„ä¸€ç±»äººï¼Œå¼€ä¸ªç©ç¬‘ï¼ï¼ï¼</p><a id="more"></a><h1 id="å‰ç«¯é¡¹ç›®å‘å¸ƒæµç¨‹"><a href="#å‰ç«¯é¡¹ç›®å‘å¸ƒæµç¨‹" class="headerlink" title="å‰ç«¯é¡¹ç›®å‘å¸ƒæµç¨‹"></a><strong>å‰ç«¯é¡¹ç›®å‘å¸ƒæµç¨‹</strong></h1><ul><li>å¼€å‘æ–°åŠŸèƒ½å•¦ -&gt; åˆ‡æ–°åˆ†æ”¯ <code>git ck -b newBranch</code></li><li>å¼€å‘å®Œæˆå -&gt; æäº¤ä»£ç  <code>git add .</code> <code>git commit -m &#39;msg&#39;</code></li><li>åˆå¹¶åˆ°å†…å¤–ä¾§åˆ†æ”¯ -&gt; åˆå¹¶åˆ° <code>Rel</code> å†…å¤–ä¾§åˆ†æ”¯ <code>git marge rel</code></li><li>å°±æ‹¿ <code>Vue</code> <code>React</code> é¡¹ç›®æ¥è¯´ï¼Œå‘å¸ƒæµ‹è¯•ä¹‹å‰æˆ‘ä»¬è¿˜éœ€è¦å°†ä¹‹å‰ç”Ÿäº§çš„ä»£ç ç»™åˆ é™¤ï¼Œä¸ç„¶ä½“ç§¯ä¼šè¶Šæ¥è¶Šå¤§ <code>rm -rf /linuxç›®å½•è·¯å¾„~å½“å‰é¡¹ç›®/*</code></li><li>å‘å¸ƒå†…å¤–ä¾§ï¼ˆè¿˜æœ‰ä¸ªé¢„å‘å¸ƒï¼‰ï¼Œ<code>build - FileZilla | ZOC7 - ä¸Šä¼ </code> ä¸ç®¡ä½ æ˜¯æ‹–æ‹½ï¼Œè¿˜æ˜¯linuxå‘½ä»¤éƒ½å¯ä»¥ï¼Œå¼€å¿ƒå°±å¥½å˜›</li></ul><p>ä¸Šé¢å°±æ˜¯å‘å¸ƒä¸€ä¸ªæ–°åŠŸèƒ½çš„æµç¨‹ï¼Œå¯æƒ³è€ŒçŸ¥ï¼Œä½ è®©æˆ‘ä¸€å¤©åšä¸€æ¬¡è¿˜èƒ½æ¥å—ï¼Œè¦æ˜¯éš”å‡ åˆ†é’Ÿæ¥ä¸€æ¬¡è°å—å¾—äº†ï¼Ÿå½“ç„¶ç°å®å°±æ˜¯è¿™æ ·çš„æ“ä½œéš”å‡ åˆ†é’Ÿå°±ä¼šæ¥ä¸€æ¬¡ï¼ï¼ï¼å¹¶ä¸”åŒæ—¶æ”¹å‡ ä¸ªé¡¹ç›®ä¹Ÿæ˜¯å­˜åœ¨çš„ï¼Œæ‰€ä»¥ï¼Œè¿™ç§æ“ä½œè¦æŠŠäººæ•´ç¥â€¦</p><h2 id="è¯´ä¸ªæ•…äº‹"><a href="#è¯´ä¸ªæ•…äº‹" class="headerlink" title="è¯´ä¸ªæ•…äº‹"></a>è¯´ä¸ªæ•…äº‹</h2><p>æœ‰ä¸€å¤©æˆ‘å¼€å‘äº†ä¸€ä¸ªåŠŸèƒ½ï¼ŒæŒ‰ç…§ä¸Šé¢æµç¨‹æŠŠä»£ç å‘å¸ƒåˆ°äº†å†…å¤–ä¾§ï¼Œè¿™æ—¶å€™æµ‹è¯•å§å§æµ‹è¯•äº†ï¼Œå‘ç°æˆ‘æŠŠ<strong>ç™»å½•å†™æˆç™»é™†</strong>äº†ï¼Œé€šçŸ¥åˆ°æˆ‘ï¼Œä½ æœ‰ä¸€ä¸ªè¶…çº§ä¸¥é‡çš„bugï¼Œéœ€è¦ç°åœ¨æ”¹ï¼Œæ”¹å¥½å°±ä¼ ï¼Œæˆ‘æ”¶åˆ°è¿™æ¡æŒ‡ä»¤ï¼ŒèŠèŠ±ä¸ç”±å¾—ä¸€ç´§ï¼Œæˆ‘å½“æœºç«‹æ–­åˆ‡æ¢åˆ†æ”¯ï¼Œæ”¹èµ·æˆ‘çš„ä»£ç æ¥ï¼Œæ—¶é—´ä¸€åˆ†ä¸€ç§’è¿‡å»ï¼Œåœ¨ä¸€åˆ†é’Ÿçš„æ—¶é—´å†…æˆ‘å°±æ”¹å®Œbugï¼Œæ¯•ç«Ÿæ‹§èºä¸éå¸¸ç®€å•ã€‚</p><p>è¯¥ä¸Šä¼ ä»£ç äº†ï¼Œä¸Šä¼ æ“ä½œç”¨äº†æˆ‘10åˆ†é’Ÿï¼Œåœ¨æµ‹è¯•å§å§çœ‹æ¥ï¼Œæˆ‘ä¿®æ”¹è¿™ä¸ªä»£ç ç”¨äº†11åˆ†é’Ÿï¼Œæµ‹è¯•å§å§å¿ƒé‡Œè‚¯å®šå°±åœ¨æƒ³è¿™ä¸ªèœé€¼ï¼Œæ”¹ä¸ªå­—è¦è¿™ä¹ˆä¹…ï¼Ÿæˆ‘ç­‰ç€è¿™ä¹ˆçƒ¦ï¼Œåé¢ç»™ä»–æ‰“åˆ†å¾€ä½äº†æ‰“ï¼Œå“¼~~ï¼Œè®©æŸæŸå‰ç«¯å´½å„¿æ‹¿ä¸åˆ°å¥–é‡‘ã€‚</p><p>æˆ‘ä¹Ÿå¾ˆæ— å¥ˆå•Šï¼ï¼ï¼</p><h2 id="Shellç¥å™¨"><a href="#Shellç¥å™¨" class="headerlink" title="Shellç¥å™¨"></a>Shellç¥å™¨</h2><p>å…¶å®æœ‰å¾ˆå¤šåç«¯åœ¨ç”¨çš„ä¸œè¥¿ï¼Œå‰ç«¯éƒ½èƒ½æ‹¿æ¥å‡å°‘è‡ªå·±å¹³æ—¶å¼€å‘çš„é‡å¤å·¥ä½œï¼ŒShellå°±æ˜¯å…¶ä¸­ä¸€ç§ã€‚</p><p>å…³äºShellçŸ¥è¯†çš„è¯ï¼Œå¾ˆå¤šæ•™ç¨‹å•¦ï¼Œå»å­¦ä¹ å§ï¼Œæˆ‘æŠŠæˆ‘çš„è„šæœ¬æ‹¿å‡ºæ¥å’Œå¤§å®¶äº¤æµäº¤æµã€‚</p><h2 id="æˆ‘çš„è‡ªåŠ¨åŒ–è„šæœ¬"><a href="#æˆ‘çš„è‡ªåŠ¨åŒ–è„šæœ¬" class="headerlink" title="æˆ‘çš„è‡ªåŠ¨åŒ–è„šæœ¬"></a>æˆ‘çš„è‡ªåŠ¨åŒ–è„šæœ¬</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># åœ¨&quot;set -e&quot;ä¹‹åå‡ºç°çš„ä»£ç ï¼Œä¸€æ—¦å‡ºç°äº†è¿”å›å€¼éé›¶ï¼Œæ•´ä¸ªè„šæœ¬å°±ä¼šç«‹å³é€€å‡ºï¼Œé‚£ä¹ˆå°±å¯ä»¥é¿å…ä¸€äº›è„šæœ¬çš„å±é™©æ“ä½œã€‚</span></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;shellè„šæœ¬æœ¬èº«çš„åå­—: <span class="variable">$0</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ä¼ ç»™shellçš„ç¬¬ä¸€ä¸ªå‚æ•°: <span class="variable">$1</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ä¼ ç»™shellçš„ç¬¬äºŒä¸ªå‚æ•°: <span class="variable">$2</span>&quot;</span></span><br><span class="line"><span class="comment">#è·å–å½“å‰åˆ†æ”¯</span></span><br><span class="line">branch=$(git symbolic-ref --short HEAD)</span><br><span class="line"><span class="comment">#è·å–å½“å‰åˆ†æ”¯å®Œæ•´è·¯å¾„</span></span><br><span class="line"><span class="built_in">echo</span> -e $(git symbolic-ref HEAD)</span><br><span class="line"><span class="comment"># refs/heads/master</span></span><br><span class="line"><span class="built_in">echo</span> -e $(git symbolic-ref --short HEAD)</span><br><span class="line"><span class="comment"># master</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span>x != <span class="string">&quot;devx&quot;</span> ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span>x != <span class="string">&quot;testx&quot;</span> ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span>x != <span class="string">&quot;prex&quot;</span> ]&amp;&amp; [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span> != <span class="string">&quot;master&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[41;37m ä¸å­˜åœ¨ <span class="variable">$1</span> ç¯å¢ƒ  åªæœ‰ -&gt; dev(å†…æµ‹) test(å¤–ä¾§) pre(é¢„å‘å¸ƒ) \\033[0m&quot;</span></span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># é“¾æ¥æœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">devFn</span></span>() &#123;</span><br><span class="line">    ssh -p 22 root@120.27.2x0.xxx rm -rf /home/chan/koa2/*</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m è¿æ¥æˆåŠŸï¼Œå¼€å§‹ä¸Šä¼ ä»£ç ....... \\033[0m&quot;</span></span><br><span class="line">    <span class="comment">#rsync ä¸‰ç§æ¨¡å¼ï¼šæœ¬åœ°æ¨¡å¼ã€ssh æ¨¡å¼ã€rsync æ¨¡å¼ã€‚</span></span><br><span class="line">    <span class="comment">#rsync -e &quot;ssh -p 1876&quot;  --exclude=storage -a  /Users/lovewcc/Documents/04_Vue/easy-vue/dist/*      root@120.27.220.173:/home/chan/koa2/</span></span><br><span class="line">    rsync -avz -e ssh /Users/lovewcc/Documents/04_Vue/easy-vue/dist/* root@120.27.220.173:/home/chan/koa2/</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m ä¸Šä¼ æˆåŠŸ,é¢„è§ˆè¯•è¯•å§ \\033[0m\\n&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">testFn</span></span>() &#123;</span><br><span class="line">    ssh -p ç«¯å£ root@ip rm -rf æœåŠ¡å™¨é¡¹ç›®è·¯å¾„/*</span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m è¿æ¥æˆåŠŸï¼Œä¸Šä¼ ä»£ç ä¸­... \\033[0m&quot;</span></span><br><span class="line"></span><br><span class="line">    rsync -e <span class="string">&quot;ssh -p 873&quot;</span>  --exclude=storage -a  æœ¬åœ°ä»£ç è·¯å¾„/dist/*      root@ip:æœåŠ¡å™¨é¡¹ç›®è·¯å¾„/</span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m å¤–ä¾§ä¸Šä¼ æˆåŠŸ \\033[0m\\n&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">preFn</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;æ‰§è¡Œé“¾æ¥é¢„å‘å¸ƒæœåŠ¡å™¨&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">build</span></span>() &#123;</span><br><span class="line">    <span class="comment"># cd source</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span> == <span class="string">&quot;master&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">     <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m&quot;</span><span class="variable">$1</span><span class="string">&quot;æ”¯æ‰“åŒ…å¼€å§‹ \\033[0m&quot;</span></span><br><span class="line">          yarn run build</span><br><span class="line">    <span class="keyword">else</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span>x == <span class="string">&quot;testx&quot;</span> ]</span><br><span class="line">          yarn run build:<span class="variable">$1</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m æ‰“åŒ…å®Œæ¯• \\033[0m&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m è¿æ¥ <span class="variable">$1</span> æœåŠ¡å™¨ \\033[0m&quot;</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span> == <span class="string">&quot;master&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">        devFn</span><br><span class="line">    <span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span>x == <span class="string">&quot;devx&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">        devFn</span><br><span class="line">    <span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span>x == <span class="string">&quot;testx&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">        testFn</span><br><span class="line">    <span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span>x == <span class="string">&quot;prex&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">        preFn</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\\033[41;37m åº”è¯¥ä¸ä¼šèµ°åˆ°è¿™é‡Œæ¥å§... \\033[0m&quot;</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ¤æ–­æ˜¯å¦æ˜¯relåˆ†æ”¯</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;branch&#125;</span> == <span class="string">&quot;master&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\n\\033[32m å½“å‰åœ¨relåˆ†æ”¯\\n ä¸å‡ºæ„å¤–åº”è¯¥åˆšå‘å¸ƒè¿‡å†…æµ‹\\n æ‰€ä»¥æ— éœ€æ‰§è¡Œgitæ“ä½œ\\n æ‰€ä»¥æ˜¯å¦ç›´æ¥å‘å¸ƒ <span class="variable">$1</span> ç¯å¢ƒ\\033[0m&quot;</span></span><br><span class="line">    <span class="built_in">read</span> -p $<span class="string">&#x27;\\n\\033[31mæ˜¯å¦ç›´æ¥æ‰“åŒ…ä¸Šä¼ ï¼Ÿy or n: \\033[0m&#x27;</span> isbuild</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$isbuild</span>&quot;</span> != <span class="string">&#x27;y&#x27;</span> ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    build <span class="variable">$1</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment">#æ­¤shè„šæœ¬åªé€‚ç”¨äºå•å­å‘å¸ƒrelç¯å¢ƒ,æé†’</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\n\\033[31m dev(å†…æµ‹) test(å¤–ä¾§) pre(é¢„å‘å¸ƒ) \\033[0m&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[31m å½“å‰éœ€è¦å‘å¸ƒ <span class="variable">$1</span> ç¯å¢ƒ \\033[0m&quot;</span></span><br><span class="line">    <span class="comment">#è¯¢é—®æ˜¯å¦ç»§ç»­å‘å¸ƒå½“å‰ç¯å¢ƒ</span></span><br><span class="line">    <span class="built_in">read</span> -p $<span class="string">&#x27;\\n\\033[31mæ˜¯å¦ç»§ç»­æ“ä½œï¼Ÿy or n: \\033[0m&#x27;</span> isVersion</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$isVersion</span>&quot;</span> != <span class="string">&#x27;y&#x27;</span> ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\n\\033[32m å·²ç¡®è®¤ç¯å¢ƒ \\033[0m\\n&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[31m <span class="variable">$1</span> ç¯å¢ƒï¼Œå½“å‰åˆ†æ”¯ä¸ºï¼š <span class="variable">$&#123;branch&#125;</span> \\033[0m&quot;</span></span><br><span class="line">    <span class="comment">#ç¡®è®¤å½“å‰åˆ†æ”¯ï¼Œæ˜¯å¦ç»§ç»­</span></span><br><span class="line">    <span class="built_in">read</span> -p $<span class="string">&#x27;\\n\\033[31mè¯·ç¡®è®¤åˆ†æ”¯ï¼Œæ˜¯å¦ç»§ç»­æ“ä½œï¼Ÿy or n: \\033[0m&#x27;</span> isContinue</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$isContinue</span>&quot;</span> != <span class="string">&#x27;y&#x27;</span> ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\n\\033[32m å·²ç¡®è®¤åˆ†æ”¯ï¼Œåˆ†æ”¯ä¸º -&gt; <span class="variable">$&#123;branch&#125;</span> \\033[0m\\n&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m å¼€å§‹æäº¤ <span class="variable">$&#123;branch&#125;</span> åˆ†æ”¯ä»£ç ï¼Œæ‰§è¡Œ add commit  \\033[0m\\n&quot;</span></span><br><span class="line">    git add .</span><br><span class="line">    <span class="built_in">read</span> -p $<span class="string">&#x27;\\n\\033[31mè¯·è¾“å…¥æœ¬æ¬¡commitä¿¡æ¯ï¼š\\033[0m&#x27;</span> commitInfo</span><br><span class="line">    git commit -m <span class="variable">$&#123;commitInfo&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m å¼€å§‹åˆ‡æ¢åˆ†æ”¯ \\033[0m\\n&quot;</span></span><br><span class="line">    git checkout rel</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m å¼€å§‹æ‹‰å– rel origin \\033[0m\\n&quot;</span></span><br><span class="line">    git pull origin rel</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m å¼€å§‹ merge ä¿®æ”¹è‡³ rel \\033[0m\\n&quot;</span></span><br><span class="line">    git merge <span class="variable">$&#123;branch&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#åˆ¤æ–­mergeæ˜¯å¦æˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span> [ $? == 0 ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\\033[32m merge <span class="variable">$&#123;branch&#125;</span> -&gt; rel æˆåŠŸ \\033[0m\\n&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\\n\\033[32m å¼€å§‹æ¨é€ rel è‡³è¿œç«¯ origin \\033[0m\\n&quot;</span></span><br><span class="line"></span><br><span class="line">        git push origin rel</span><br><span class="line"></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\\n\\033[32m æ¨é€ rel è‡³è¿œç«¯ origin æˆåŠŸ \\033[0m\\n&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\\n\\033[32m æ‰§è¡Œæ‰“åŒ… \\033[0m\\n&quot;</span></span><br><span class="line"></span><br><span class="line">        build <span class="variable">$1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> -e  <span class="string">&quot;\\033[31m mergeå¤±è´¥ï¼Œè¯·æ£€æŸ¥ \\033[0m&quot;</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./shell.sh</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¼—æ‰€å‘¨çŸ¥å‰ç«¯æ˜¯ä¸€ä¸ªä¸å–„è¨€è¾å¹¶ä¸ä¼šä½¿ç”¨cmdçš„çš„ä¸€ç±»äººï¼Œå¼€ä¸ªç©ç¬‘ï¼ï¼ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="Web" scheme="http://mariogogogo.github.io/categories/Web/"/>
    
    
      <category term="Javascript" scheme="http://mariogogogo.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>vueä¸­è®¾ç½®é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡åŠ¨ç”»</title>
    <link href="http://mariogogogo.github.io/2020/04/15/vue%E4%B8%AD%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2%E5%88%87%E6%8D%A2%E6%97%B6%E7%9A%84%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB/"/>
    <id>http://mariogogogo.github.io/2020/04/15/vueä¸­è®¾ç½®é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡åŠ¨ç”»/</id>
    <published>2020-04-14T16:00:00.000Z</published>
    <updated>2020-12-09T07:59:10.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="vueä¸­è®¾ç½®é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡åŠ¨ç”»"><a href="#vueä¸­è®¾ç½®é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡åŠ¨ç”»" class="headerlink" title="vueä¸­è®¾ç½®é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡åŠ¨ç”»"></a>vueä¸­è®¾ç½®é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡åŠ¨ç”»</h1><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    &lt;!-- é¡µé¢åˆ‡æ¢åŠ¨ç”»transitionName --&gt;</span><br><span class="line">    &lt;transition :name=<span class="string">&quot;transitionName&quot;</span>&gt;</span><br><span class="line">      &lt;!-- ç¼“å­˜æ•°æ® &lt;router-view&gt; --&gt;</span><br><span class="line">      &lt;keep-alive&gt;</span><br><span class="line">        &lt;router-view v-<span class="keyword">if</span>=<span class="string">&quot;$route.meta.keepAlive&quot;</span>&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">    &lt;/transition&gt;</span><br><span class="line">    &lt;transition :name=<span class="string">&quot;transitionName&quot;</span>&gt;</span><br><span class="line">      &lt;router-view v-<span class="keyword">if</span>=<span class="string">&quot;!$route.meta.keepAlive&quot;</span>&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/transition&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      transitionName: <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">create</span>(<span class="params"></span>)</span> &#123;&#125;,</span><br><span class="line">  <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.body.scrollHeight &gt;= <span class="built_in">document</span>.documentElement.clientHeight) &#123;</span><br><span class="line">      <span class="built_in">document</span>.body.style.height = <span class="built_in">document</span>.body.scrollHeight + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">document</span>.body.style.height = <span class="built_in">document</span>.documentElement.clientHeight + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/* é¡µé¢åˆ‡æ¢åŠ¨ç”» */</span></span><br><span class="line">  watch: &#123;</span><br><span class="line">    <span class="comment">//ä½¿ç”¨watch ç›‘å¬$routerçš„å˜åŒ–</span></span><br><span class="line">    $route(to, <span class="keyword">from</span>) &#123;</span><br><span class="line">      <span class="comment">//console.log(&quot;to=&quot; + to.meta.index, &quot;from=&quot; + from.meta.index);</span></span><br><span class="line">      <span class="comment">//(1) å¦‚æœtoçš„ç´¢å¼•å€¼ä¸º0ï¼Œä¸æ·»åŠ ä»»ä½•åŠ¨ç”»ï¼›å¦‚æœtoç´¢å¼•å¤§äºfromç´¢å¼•,åˆ¤æ–­ä¸ºå‰è¿›çŠ¶æ€,åä¹‹åˆ™ä¸ºåé€€çŠ¶æ€</span></span><br><span class="line">      <span class="keyword">if</span> (to.meta.index &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (to.meta.index &lt; <span class="keyword">from</span>.meta.index) &#123;</span><br><span class="line">          <span class="built_in">this</span>.transitionName = <span class="string">&quot;slide-right&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="built_in">this</span>.transitionName = <span class="string">&quot;slide-left&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (to.meta.index == <span class="number">0</span> &amp;&amp; <span class="keyword">from</span>.meta.index &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.transitionName = <span class="string">&quot;&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//(2) å½“ç„¶ï¼Œå¦‚æœä½ æ²¡æœ‰éœ€è¦è®¾ç½®ç´¢å¼•å€¼ä¸º0çš„é¡µé¢å¯ä»¥ç›´æ¥ç”¨ç€ä¸€æ®µ</span></span><br><span class="line">      <span class="comment">// if (to.meta.index &lt; from.meta.index) &#123;</span></span><br><span class="line">      <span class="comment">//   this.transitionName = &quot;slide-right&quot;;</span></span><br><span class="line">      <span class="comment">// &#125; else &#123;</span></span><br><span class="line">      <span class="comment">//   this.transitionName = &quot;slide-left&quot;;</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style&gt;</span><br><span class="line">* &#123;</span><br><span class="line">  margin: <span class="number">0</span>;</span><br><span class="line">  padding: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">html,</span><br><span class="line">body &#123;</span><br><span class="line">  height: <span class="number">100</span>%;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">#app &#123;</span><br><span class="line">  height: <span class="number">100</span>%;</span><br><span class="line">  width: <span class="number">100</span>%;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/********é¡µé¢åˆ‡æ¢åŠ¨ç”» *********/</span></span><br><span class="line">.slide-right-enter-active,</span><br><span class="line">.slide-right-leave-active,</span><br><span class="line">.slide-left-enter-active,</span><br><span class="line">.slide-left-leave-active &#123;</span><br><span class="line">  <span class="comment">/* will-changeå±æ€§å¯ä»¥æå‰é€šçŸ¥æµè§ˆå™¨æˆ‘ä»¬è¦å¯¹å…ƒç´ åšä»€ä¹ˆåŠ¨ç”»ï¼Œè¿™æ ·æµè§ˆå™¨å¯ä»¥æå‰å‡†å¤‡åˆé€‚çš„ä¼˜åŒ–è®¾ç½® */</span></span><br><span class="line">  will-change: transform;</span><br><span class="line">  transition: all ease <span class="number">0.</span>4s;</span><br><span class="line">  -webkit-transition: all ease <span class="number">0.</span>4s;</span><br><span class="line">  position: absolute;</span><br><span class="line">  width: <span class="number">100</span>%;</span><br><span class="line">  left: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">.slide-right-enter &#123;</span><br><span class="line">  transform: translateX(-<span class="number">100</span>%);</span><br><span class="line">  -webkit-transform: translateX(-<span class="number">100</span>%);</span><br><span class="line">&#125;</span><br><span class="line">.slide-right-leave-active &#123;</span><br><span class="line">  transform: translateX(<span class="number">100</span>%);</span><br><span class="line">  -webkit-transform: translateX(<span class="number">100</span>%);</span><br><span class="line">&#125;</span><br><span class="line">.slide-left-enter &#123;</span><br><span class="line">  transform: translateX(<span class="number">100</span>%);</span><br><span class="line">  -webkit-transform: translateX(<span class="number">100</span>%);</span><br><span class="line">&#125;</span><br><span class="line">.slide-left-leave-active &#123;</span><br><span class="line">  transform: translateX(-<span class="number">100</span>%);</span><br><span class="line">  -webkit-transform: translateX(-<span class="number">100</span>%);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/********é¡µé¢åˆ‡æ¢åŠ¨ç”» *********/</span></span><br><span class="line">...</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202011281723430302020112915.png"                      alt="image-20201128172343030" style="zoom:50%;"                 ></p><p>æœ‰ä¸ªbugå¦‚æœå­é¡µé¢æ²¡æœ‰é«˜åº¦ï¼Œè¿›å…¥å­é¡µé¢å†è¿”å›åº•éƒ¨å¯¼èˆªä¼šæœ‰æŠ–åŠ¨bug</p><p>æ¯”å¦‚</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/%E5%BA%95%E9%83%A8%E5%AF%BC%E8%88%AA%E6%8A%96%E5%8A%A82020112915.gif"                      alt="åº•éƒ¨å¯¼èˆªæŠ–åŠ¨" style="zoom: 50%;"                 ></p><p>åŠ ä¸Šä¸€å®šé«˜åº¦å</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.promise</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f5f5f5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/2020-11-28%2016.32.422020112915.gif"                      alt="2020-11-28 16.32.42" style="zoom: 50%;"                 ></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;vueä¸­è®¾ç½®é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡åŠ¨ç”»&quot;&gt;&lt;a href=&quot;#vueä¸­è®¾ç½®é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡åŠ¨ç”»&quot; class=&quot;headerlink&quot; title=&quot;vueä¸­è®¾ç½®é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡åŠ¨ç”»&quot;&gt;&lt;/a&gt;vueä¸­è®¾ç½®é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡åŠ¨ç”»&lt;/h1&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vueé˜…è¯»æºç å‡†å¤‡äº†ä»€ä¹ˆ</title>
    <link href="http://mariogogogo.github.io/2020/03/15/Vue%E9%98%85%E8%AF%BB%E6%BA%90%E7%A0%81%E5%87%86%E5%A4%87%E4%BA%86%E4%BB%80%E4%B9%88/"/>
    <id>http://mariogogogo.github.io/2020/03/15/Vueé˜…è¯»æºç å‡†å¤‡äº†ä»€ä¹ˆ/</id>
    <published>2020-03-14T16:00:00.000Z</published>
    <updated>2020-12-12T03:58:26.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1ã€æŒæ¡-Vue-æ‰€æœ‰API"><a href="#1ã€æŒæ¡-Vue-æ‰€æœ‰API" class="headerlink" title="1ã€æŒæ¡ Vue æ‰€æœ‰API"></a>1ã€æŒæ¡ Vue æ‰€æœ‰API</h2><p>â€‹    æˆ‘æŠŠ Vue çš„æ‰€æœ‰ API éƒ½è¯¦ç»†ç ”ç©¶ä½¿ç”¨è¿‡äº†ä¸€éï¼Œè€Œä¸”å°½é‡åœ¨é¡¹ç›®ä¸­éƒ½æœ‰ä½¿ç”¨ï¼Œè®©è‡ªå·±æœ‰æ·±ä¸€ç‚¹çš„ä½“ä¼š</p><p>â€‹    è€Œä¸”æˆ‘å¯¹ç€å®˜æ–¹æ–‡æ¡£ï¼Œä¸€ä¸ªä¸ªåšäº†è¯¦ç»†çš„ç¬”è®°ï¼Œè€Œä¸”è”æƒ³è¿‡äº†ä½¿ç”¨åœºæ™¯ã€‚</p><a id="more"></a><h2 id="2ã€JavaScript-æ‰å®åŸºç¡€"><a href="#2ã€JavaScript-æ‰å®åŸºç¡€" class="headerlink" title="2ã€JavaScript æ‰å®åŸºç¡€"></a>2ã€JavaScript æ‰å®åŸºç¡€</h2><p>â€‹    å¹¸å¥½è‡ªå·±ä¹‹å‰èŠ±äº†å¤§åŠ›æ°”å»ç»™è‡ªå·±æ‰“åŸºç¡€ï¼Œè®©è‡ªå·±ç°åœ¨çš„ JavaScript åŸºç¡€è¿˜ç®—ä¸é”™ã€‚</p><p>é€¼ç€è‡ªå·±æŠŠå¾ˆå¤šæœ¬ JavaScript ä¹¦éƒ½çœ‹å®Œäº†ï¼Œå¹¶ä¸”åšäº†è¯¦ç»†ç¬”è®°ã€‚åƒæ˜¯ã€ JavaScriptæ˜“ç»´æŠ¤ã€‘ã€JavaScriptæ€§èƒ½ ã€‘ï¼Œã€JavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‘ã€å·´è²ç‰¹ç»™è‚¡ä¸œçš„ä¿¡ã€‘çœ‹äº†ä¸¤éï¼Œè¯´ä¸ä¸Šç²¾é€šï¼Œä¹Ÿç®—æ˜¯è¿˜å¯ä»¥ï¼Ÿ</p><h2 id="3ã€çœ‹å®Œ-JavaScript-è®¾è®¡æ¨¡å¼"><a href="#3ã€çœ‹å®Œ-JavaScript-è®¾è®¡æ¨¡å¼" class="headerlink" title="3ã€çœ‹å®Œ JavaScript è®¾è®¡æ¨¡å¼"></a>3ã€çœ‹å®Œ JavaScript è®¾è®¡æ¨¡å¼</h2><p>â€‹    å…‰æ˜¯ JavaScript è®¾è®¡æ¨¡å¼ è¿™æœ¬ä¹¦ æˆ‘å°±çœ‹äº†ä¸€å¹´åŠï¼Œä¸èƒ½è¯´è‡ªå·±æŠŠæ‰€æœ‰è®¾è®¡æ¨¡å¼éƒ½æŒæ¡äº†ï¼ŒæŒæ¡äº†å¤§éƒ¨åˆ†å§ï¼Œè®¾è®¡æ¨¡å¼æ¸¯çœŸçœŸçš„å¾ˆæœ‰è¶£ï¼Œä¸ç„¶æˆ‘ä¹Ÿä¸ä¼šå†³å¿ƒå­¦</p><p>â€‹    åœ¨è¿™é‡Œæ¨è å¼ å®¹é“­çš„ ã€JavaScriptè®¾è®¡æ¨¡å¼ã€‘ï¼Œä¹¦è®²å¾—éå¸¸é€å½»å’Œè¯¦ç»†ï¼Œæˆ‘æ˜¯ä»å®Œå…¨ä¸æ‡‚å¼€å§‹çœ‹çš„</p><p>â€‹    ä¹Ÿç»å¸¸ä½¿ç”¨ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä¸€ç›´ä»¥è®¾è®¡æ¨¡å¼ä¸ºæˆ‘çš„é¡¹ç›®åŸºæ„ã€‚å°±æ˜¯ èƒ½ç”¨è®¾è®¡æ¨¡å¼çš„åœ°æ–¹ï¼Œæˆ‘éƒ½å°½é‡ä½¿ç”¨è®¾è®¡æ¨¡å¼ã€‚</p><p>â€‹    è®¾è®¡æ¨¡å¼çœ‹èµ·æ¥å°±åƒæ˜¯ å‰‘å®¢ çš„å‰‘è°±ï¼Œæœ‰æ‹›æœ‰å¼ï¼Œè¿äººå®¶æ­¦ä¾ å‰§å‘åŠŸçš„æ—¶å€™éƒ½çŸ¥é“ å–Šå‡º æ‹›å¼çš„åå­—â€¦ é™é¾™åå…«æŒï¼ï¼ï¼ï¼</p><p>â€‹    é‡è·¯å­éš¾ç™»å¤§é›…ä¹‹å ‚ï¼Œä¸»è¦æ˜¯ä¸å¥½çœ‹å•Šï¼Œä»£ç ä¸ºäº†å¥½ç»´æŠ¤ï¼Œæ˜“æ‰©å±•</p><h2 id="4ã€å­¦ä¼šè°ƒè¯•"><a href="#4ã€å­¦ä¼šè°ƒè¯•" class="headerlink" title="4ã€å­¦ä¼šè°ƒè¯•"></a>4ã€å­¦ä¼šè°ƒè¯•</h2><p>â€‹    æˆ‘å¾ˆå¤§èƒ†åœ°è¯´ï¼Œå¦‚æœä½ ä¸ä¼šè°ƒè¯•ï¼Œä½ çœ‹ Vue æºç ï¼Œæˆ–è€…ä½ ä¼šæƒ³æ­»ï¼Œä½ ä¼šå‡ºç°è¿™ä¸ªåœºæ™¯â€¦</p><blockquote><p>MMPï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æ€ä¹ˆè·³åˆ° é‚£ä¸ªæ–¹æ³•çš„ï¼Œé‚£ä¸ªæ–¹æ³•å’Œ è¿™ä¸ªæ–¹æ³•åˆæ˜¯æ€ä¹ˆè”ç³»èµ·æ¥çš„ï¼Ÿ</p></blockquote><p>â€‹    ä¹Ÿè®¸ä½ å¯ä»¥æ…¢æ…¢ ä½¿ç”¨ å‡½æ•°åå­— å»å¯»æ‰¾ï¼Œä½†æ˜¯æ— ç–‘ä½ ä¼šå¤šæ¶ˆè€—å‡ å€æ—¶é—´ï¼Œè€Œä¸”ä½ ä¼šæ›´çƒ¦</p><p>â€‹    ä½¿ç”¨è°ƒè¯•çœŸçš„æ–¹ä¾¿ï¼Œä»¥å‰æˆ‘ä¹ŸçœŸçš„ä¸å–œæ¬¢è°ƒè¯•ï¼Œè§‰å¾—å¥½åƒå¾ˆéš¾ï¼Ÿï¼Ÿï¼Ÿ</p><p>â€‹    æ›´å–œæ¬¢ä½¿ç”¨ console.log å»æ‰“å°ä¿¡æ¯â€¦..</p><p>â€‹    æ˜¯å•Šï¼Œæˆ‘è‡ªå·±å†™é¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘è¿˜æ˜¯ä¼šä½¿ç”¨ console.log å»è°ƒè¯•â€¦â€¦.</p><p>â€‹    é‚£æ˜¯å› ä¸ºæˆ‘è‡ªå·±ä»£ç ï¼Œæˆ‘çŸ¥é“æ€ä¹ˆè·‘ï¼Œä½  çœ‹åˆ«äººçš„ä»£ç ï¼Œè¿˜æ˜¯è¶…çº§æŠ½è±¡çš„æ¡†æ¶ï¼Œä½¿ç”¨ console.log çš„æ–¹å¼â€¦..</p><p>â€‹    æ”¾å¿ƒï¼Œç›¸ä¿¡æˆ‘ï¼Œä½ ä¼šæ‰å¾ˆå¤šå¤´å‘â€¦â€¦â€¦</p><p>â€‹    è¿™é‡Œï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ VSCode å»è°ƒè¯•ï¼ŒçœŸçš„ç®€å•åˆæ–¹ä¾¿ï¼Œæˆ‘å½“æ—¶ä¹ŸçœŸçš„å¾ˆéš¾å»è®©è‡ªå·±åˆè¦å­¦ä¸€ä¸ªä¸œè¥¿</p><p>â€‹    ä½†æ˜¯æˆ‘å’¬å’¬ç‰™ï¼Œæˆ‘è¿˜æ˜¯å­¦äº†ï¼Œæ„Ÿè°¢è‡ªå·±â€¦â€¦</p><p>â€‹    æˆ‘å¯ä»¥ä¿è¯ï¼Œä½ ä»ä¸æ‡‚åˆ°æŒæ¡ï¼Œåªè¦ä¸åˆ°ååˆ†é’Ÿï¼Œç®€ç›´å°±æ˜¯ ç°å®ç‰ˆçš„ ååˆ†é’Ÿç²¾é€šåˆ°å…¥é—¨</p><p>â€‹    å¥½å§ï¼Œä¸‹é¢å¼€å§‹è¯´ï¼ŒVue çš„ç®€å•æ€»ç»“ã€‚</p><p><strong>Vue æºç çš„ç®€çŸ­çš„æ€»ç»“</strong></p><h3 id="1ã€å°è£…äº†å¾ˆå¤šå¸¸ç”¨çš„å‡½æ•°ï¼"><a href="#1ã€å°è£…äº†å¾ˆå¤šå¸¸ç”¨çš„å‡½æ•°ï¼" class="headerlink" title="1ã€å°è£…äº†å¾ˆå¤šå¸¸ç”¨çš„å‡½æ•°ï¼"></a>1ã€å°è£…äº†å¾ˆå¤šå¸¸ç”¨çš„å‡½æ•°ï¼</h3><p>ä¸ºäº† å¤ç”¨ ä¸” æ˜“ç»´æŠ¤</p><p>å¸¸ç”¨çš„ç±»å‹åˆ¤æ–­ã€ ç±»å‹è½¬æ¢ ã€æ•°æ®æ ¼å¼è½¬æ¢ï¼ˆæ•°ç»„è½¬å¯¹è±¡ï¼‰â€¦..</p><p>ä¸¾äº›ä¾‹å­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObject</span>(<span class="params">obj</span>) </span>&#123;    <span class="keyword">return</span> obj !== <span class="literal">null</span> &amp;&amp; <span class="keyword">typeof</span> obj === <span class="string">&#x27;object&#x27;</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isUndef</span>(<span class="params">v</span>) </span>&#123;    <span class="keyword">return</span> v === <span class="literal">undefined</span> || v === <span class="literal">null</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isDef</span>(<span class="params">v</span>) </span>&#123;    <span class="keyword">return</span> v !== <span class="literal">undefined</span> &amp;&amp; v !== <span class="literal">null</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toString</span>(<span class="params">val</span>) </span>&#123;    </span><br><span class="line">    <span class="keyword">return</span> val == <span class="literal">null</span> ?    <span class="string">&#x27;&#x27;</span> :    </span><br><span class="line">    <span class="keyword">typeof</span> val === <span class="string">&#x27;object&#x27;</span> ?    </span><br><span class="line">    <span class="built_in">JSON</span>.stringify(val, <span class="literal">null</span>, <span class="number">2</span>) :    <span class="built_in">String</span>(val)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toObject</span>(<span class="params">arr</span>) </span>&#123;    </span><br><span class="line">    <span class="keyword">var</span> res = &#123;&#125;;    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;        </span><br><span class="line">        <span class="keyword">if</span> (arr[i]) &#123;</span><br><span class="line">            extend(res, arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line">....</span><br></pre></td></tr></table></figure><p>â€‹    ä½ è¯´è¯´ä¸å®šè¿‡äº†å‡ å¹´ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸å†æ˜¯ ä»€ä¹ˆ typeof obj==â€objectâ€</p><p>â€‹    å¦‚æœæ²¡æœ‰å°è£…ï¼Œé‚£å²‚ä¸æ˜¯æ‰€æœ‰ä»£ç æ¶‰åŠåˆ°çš„éƒ½è¦æ”¹ä¸€éï¼Œä¸”ä¸è¯´å¦‚æœæœ‰å¾ˆå¤šä¸ªéƒ½å˜äº†â€¦..é‚£ä½ å°±å¤´å¤§äº†</p><h3 id="èŠ‚ç‚¹æ“ä½œå…¼å®¹å‡½æ•°"><a href="#èŠ‚ç‚¹æ“ä½œå…¼å®¹å‡½æ•°" class="headerlink" title="èŠ‚ç‚¹æ“ä½œå…¼å®¹å‡½æ•°"></a>èŠ‚ç‚¹æ“ä½œå…¼å®¹å‡½æ•°</h3><p>addClass ,removeClassï¼ŒcreateElementï¼ŒappendChildï¼ŒremoveChild </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">el, cls</span>) </span>&#123;    </span><br><span class="line">    <span class="keyword">if</span> (!cls || !(cls = cls.trim())) <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">if</span> (el.classList) &#123;        </span><br><span class="line">        <span class="keyword">if</span> (cls.indexOf(<span class="string">&#x27; &#x27;</span>) &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">            cls.split(<span class="regexp">/\s+/</span>).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>) </span>&#123; <span class="keyword">return</span> el.classList.add(c); &#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            el.classList.add(cls);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;        </span><br><span class="line">       <span class="keyword">var</span> cur = <span class="string">&quot; &quot;</span> + (el.getAttribute(<span class="string">&#x27;class&#x27;</span>) || <span class="string">&#x27;&#x27;</span>) + <span class="string">&quot; &quot;</span>;        </span><br><span class="line">       <span class="keyword">if</span> (cur.indexOf(<span class="string">&#x27; &#x27;</span> + cls + <span class="string">&#x27; &#x27;</span>) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            el.setAttribute(<span class="string">&#x27;class&#x27;</span>, (cur + cls).trim());</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">....</span><br></pre></td></tr></table></figure><p>è¿™äº›å‡½æ•°éƒ½å¾ˆæœ‰ç”¨ï¼Œæ‰€ä»¥æˆ‘éƒ½è®°ä¸‹æ¥äº†ï¼Œæ¯•ç«Ÿæ˜¯ æ¡†æ¶å°è£…çš„ï¼Œè‚¯å®šæ˜¯æœ€å®Œå–„çš„</p><h3 id="2ã€çœŸçš„ç”¨äº†å¾ˆå¤šè®¾è®¡æ¨¡å¼"><a href="#2ã€çœŸçš„ç”¨äº†å¾ˆå¤šè®¾è®¡æ¨¡å¼" class="headerlink" title="2ã€çœŸçš„ç”¨äº†å¾ˆå¤šè®¾è®¡æ¨¡å¼"></a>2ã€çœŸçš„ç”¨äº†å¾ˆå¤šè®¾è®¡æ¨¡å¼</h3><p>å°±æˆ‘çœ‹åˆ°çš„è®¾è®¡æ¨¡å¼å°±æœ‰</p><p> Vueæ¶‰åŠçš„è®¾è®¡æ¨¡å¼è§‚å¯Ÿè€…æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ã€èŠ‚æµæ¨¡å¼ã€å‚ä¸è€…æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€å•ä¾‹æ¨¡å¼è£…é¥°è€…æ¨¡å¼ã€ç»„åˆç»§æ‰¿æ¨¡å¼ã€é“¾æ¨¡å¼â€¦â€¦â€¦</p><p>æˆ‘æ€€ç–‘ Vue æŠŠæ‰€æœ‰çš„è®¾è®¡æ¨¡å¼éƒ½ç”¨å®Œäº†â€¦. çœŸçš„â€¦.. å¦‚æœä½ ä¸æ‡‚è®¾è®¡æ¨¡å¼</p><p>ä½ çœŸä¸ä¼šé¢†æ‚Ÿåˆ°ä»–è¿™ä¹ˆå†™çš„ç²¾é«“</p><p>æˆ‘å°±é€‰ Vue å¸¸ç”¨çš„ä¸€ä¸ªè®¾è®¡æ¨¡å¼æ¥è®²</p><p>ã€å‚ä¸è€…æ¨¡å¼ã€‘</p><p>Vue å°è£…çš„å¾ˆå¤šå‡½æ•°éƒ½æ˜¯ç”¨äº† å‚ä¸è€…æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥å«åšæŸ¯é‡ŒåŒ–</p><p>å…ˆæ¥ç®€å•è§£é‡Šä¸‹ å‚ä¸è€…æ¨¡å¼</p><p>1ã€ä¿å­˜ç¬¬ä¸€æ¬¡è°ƒç”¨ ä¼ å…¥å‚æ•°</p><p>2ã€è¿”å›å®šåˆ¶å‡½æ•°ï¼Œå‡½æ•°å†…ä½¿ç”¨ å‚æ•°</p><blockquote><p><a class="link"   href="https://blog.csdn.net/Forever201295/article/details/104032369" >https://blog.csdn.net/Forever201295/article/details/104032369<i class="fas fa-external-link-alt"></i></a></p></blockquote><p>ç®€å•å®ç°åƒè¿™æ ·</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a</span>)</span>&#123;    </span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123; <span class="keyword">return</span> a+b &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸ºäº†å®šåˆ¶å‡½æ•°ï¼ŒæŠŠç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶çš„å‚æ•°é—­åŒ…ä¿å­˜</span></span><br><span class="line">add5 = add(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">var</span> result  = add5(<span class="number">9</span>)</span><br></pre></td></tr></table></figure><p>çœ‹ä¸€ä¸‹ Vueå…¶ä¸­ä¸€ä¸ª ä½¿ç”¨æŸ¯é‡ŒåŒ– çš„å°è£…å‡½æ•°</p><p><strong>makeMap</strong></p><p>åˆ›å»º å¯¹è±¡ mapï¼Œè¿”å›å‡½æ•°ï¼Œç”¨äºåé¢æŸ¥æ‰¾ æŸä¸ªä¸œè¥¿æ˜¯å¦å­˜åœ¨ map ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeMap</span>(<span class="params"> str,  expectsLowerCase </span>) </span>&#123;    </span><br><span class="line">    <span class="keyword">var</span> map = <span class="built_in">Object</span>.create(<span class="literal">null</span>);   </span><br><span class="line">    <span class="keyword">var</span> list = str.split(<span class="string">&#x27;,&#x27;</span>);    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">        map[list[i]] = <span class="literal">true</span>;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">return</span> expectsLowerCase ?        </span><br><span class="line">        <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123; <span class="keyword">return</span> map[val.toLowerCase()]; &#125; :        </span><br><span class="line">        <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123; <span class="keyword">return</span> map[val]; &#125;</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line"><span class="comment">// åº”ç”¨</span></span><br><span class="line"><span class="keyword">var</span> isUnaryTag = makeMap(   </span><br><span class="line"> <span class="string">&#x27;area,base,br,col,embed,frame,hr,img,input,isindex,keygen,&#x27;</span> +  </span><br><span class="line"> <span class="string">&#x27;link,meta,param,source,track,wbr&#x27;</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æŸ¥æ‰¾ area æ ‡ç­¾æ˜¯å¦å­˜åœ¨ ä¸Šé¢ä¿å­˜è¿‡çš„ å­—ç¬¦ä¸²ä¸­</span></span><br><span class="line">isUnaryTag(<span class="string">&#x27;area&#x27;</span>)</span><br></pre></td></tr></table></figure><p>**3ã€ä½¿ç”¨å¾ˆå¤šé—­åŒ…ï¼</p><p>æ®æˆ‘çœ‹è¿‡çš„åœ°æ–¹</p><p>1ã€è§£æç»„ä»¶æ¨¡æ¿ ä½¿ç”¨äº†é—­åŒ…ä½œä¸ºç¼“å­˜ï¼Œä¸ºäº†é‡å¤è§£æ</p><p>2ã€cached å‡½æ•°ï¼Œä¸€ä¸ªä¸“é—¨ä½¿ç”¨é—­åŒ… ä¸ºç¼“å­˜çš„å‡½æ•°</p><p>3ã€ä¸Šé¢æ‰€è®²åˆ° çš„ æŸ¯é‡ŒåŒ–æ‰€æœ‰æ¶‰åŠçš„å‡½æ•°ï¼ŒmakeMap,parthPath,</p><p>4ã€createPatchFunction å½“å±ç¯‡å¹…æœ€å¤§çš„ä½¿ç”¨é—­åŒ…çš„å‡½æ•°äº†ï¼ŒæŠŠä¸€å †å‡½æ•°ä½œä¸ºé—­åŒ…ï¼Œç„¶åè¿”å› ä¸€ä¸ªå‡½æ•°ã€‚ä»–æœ€å¤§çš„ä½œç”¨æ˜¯ æ¯”è¾ƒæ›´æ–°DOM èŠ‚ç‚¹</p><p><strong>4ã€ä½¿ç”¨å¾ˆå¤šæ ‡å¿—ä½</strong></p><p>Vue å¸¸ç”¨æ ‡å¿—ä½æ¥</p><p><strong>1ã€è¡¨æ˜æ˜¯å¦å·²ç»åšäº†æŸä»¶äº‹</strong></p><p> _isMountedï¼šdom æ˜¯å¦å·²ç»æŒ‚è½½</p><p>_isDestroyed ï¼šç»„ä»¶æ˜¯å¦å·²ç»æ‘§æ¯</p><p>pendingï¼šè¡¨æ˜æ›´æ–°å›è°ƒçš„ setTimeout å·²ç»æ‰§è¡Œ</p><p>waitingï¼šæ˜¯å¦å·²ç»åˆå§‹åŒ–æ›´æ–°é˜Ÿåˆ—ï¼Œåœ¨ç­‰å¾…æ–°çš„æˆå‘˜è¿›å…¥å¯¹å’</p><p>flushingï¼šæ›´æ–°é˜Ÿåˆ—æ˜¯å¦å·²ç»å¼€å§‹é€ä¸ªæ›´æ–°æˆå‘˜</p><p>â€¦â€¦</p><p><strong>2ã€æŒ‡æ˜å½“å‰ä¸œè¥¿çš„èº«ä»½</strong></p><p>isStaticï¼šæ˜¯å¦æ˜¯é™æ€èŠ‚ç‚¹</p><p>isCommentï¼šæ˜¯å¦æ˜¯æ³¨é‡ŠèŠ‚ç‚¹</p><p>isClonedï¼šæ˜¯å¦æ˜¯å…‹éš†èŠ‚ç‚¹</p><p>isOnceï¼šæ˜¯å¦æœ‰v-once æŒ‡ä»¤ï¼ˆå¦‚æœæœ‰å½“å‰æŒ‡ä»¤ï¼Œä¼šè·³è¿‡ç¼–è¯‘ï¼‰</p><p>_isComponentï¼šæ˜¯å¦æ˜¯ç»„ä»¶</p><p>â€¦..</p><p>â€‹    å¤šç”¨æ ‡å¿—ä½ï¼Œæ§åˆ¶æµç¨‹ï¼Œæ›¿ä»£å¤šä½™çš„åˆ¤æ–­ï¼ˆç›´æ¥åˆ¤æ–­æ ‡å¿—ä½æ¥ç¡®è®¤èº«ä»½ï¼Œä¸ç”¨åšå¤ªå¤šçš„åˆ¤æ–­ï¼‰ï¼Œå‡å°‘å¼€é”€</p><p>â€‹    ä¸Šé¢é‚£äº›å˜é‡ï¼Œå¤§å®¶æ²¡çœ‹æºç ï¼Œå¯èƒ½æœ‰äº›æ‡µé€¼ï¼Œæ²¡å…³ç³»ï¼Œå°±å½“å…ˆçŸ¥é“æœ‰è¿™ä¸ªä¸œè¥¿å°±å¥½äº†</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://typora.pp.52react.cn/fuckb/image-202012121140537732020121211.png"                      alt="image-20201212114053773"                ></p><h2 id="Vue-æºç åˆ†å‡ æ­¥èµ°"><a href="#Vue-æºç åˆ†å‡ æ­¥èµ°" class="headerlink" title="Vue æºç åˆ†å‡ æ­¥èµ°"></a>Vue æºç åˆ†å‡ æ­¥èµ°</h2><p>æˆ‘ç»™è‡ªå·±å®šçš„ä»»åŠ¡æ˜¯ åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†</p><p><strong>Vue çš„ä¸»ä½“å†…å®¹</strong></p><p>1ã€Vueåˆå§‹åŒ–åˆå§‹åŒ–åŸç†</p><p>2ã€renderæ¸²æŸ“æœºåˆ¶ </p><p>3ã€ä¾èµ–æ”¶é›† </p><p>4ã€ä¾èµ–æ›´æ–°</p><p>5ã€Virtual DOM ï¼Œdom èŠ‚ç‚¹ ç”Ÿæˆè™šæ‹ŸVnode èŠ‚ç‚¹</p><p>6ã€Diffã€Patchï¼Œ èŠ‚ç‚¹æ¯”è¾ƒæ›´æ–°</p><p>7ã€Compileï¼Œ æ¨¡æ¿ç¼–è¯‘</p><p>8ã€NextTick ï¼Œå»¶è¿Ÿæ‰§è¡Œå›è°ƒ</p><p>9ã€LifeCircle ï¼Œç”Ÿå‘½å‘¨æœŸ</p><p>10ã€Model ï¼ŒåŒå‘ç»‘å®š</p><p>11ã€Event ï¼Œäº‹ä»¶æœºåˆ¶</p><p><strong>Vue ç»„ä»¶é€‰é¡¹</strong></p><p>1ã€computed</p><p>2ã€filter</p><p>3ã€mixin</p><p>4ã€directive</p><p>5ã€slot</p><p>6ã€props</p><p>7ã€watch</p><p>â€‹    æˆ‘å°±å¤§çº¦ä»¥è¿™äº›ä¸ºæˆ‘çš„å­¦ä¹ ç›®æ ‡è¿›è¡Œ æºç é˜…è¯»çš„ï¼Œæ¯ä¸€å—éƒ½æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„å†…å®¹ï¼Œæ¯ä¸€å—å†…å®¹éƒ½ä¸æ˜¯å‡ å¤©èƒ½çœ‹å®Œçš„ï¼Œæœ‰æ—¶å€™è¿˜éœ€è¦ä¸€ç‚¹çµæ„Ÿã€‚å½“ç„¶è¿˜æœ‰å¾ˆå¤šå†…å®¹ï¼Œä½†æ˜¯æˆ‘çš„ç›®æ ‡ä¹Ÿå¹¶ä¸æ˜¯å…¨éƒ¨ï¼Œä¸€å­—ä¸æ¼è¯»å®Œï¼Œæˆ‘è¦çš„æ˜¯ä»–çš„ç²¾é«“å³å¯ï¼Œæˆ–è®¸ç­‰æˆ‘æŒæ¡äº†è¿™äº›ï¼Œå†å»å¼€å‘å…¶ä»–çš„å†…å®¹ï¼Œè¿™æ ·æˆ–è®¸æ›´ç®€å•</p><p>â€‹    åæ­£æˆ‘å§‹ç»ˆæé†’è‡ªå·±ä¸è¦ç„¦èºï¼Œå› ä¸ºè¿™ä¸ªä¸œè¥¿çœŸçš„æ˜¯æ€¥ä¸æ¥ï¼Œé•¿æœŸä»¥å¾€ï¼Œä¸è¦å¦„æƒ³ä¸€æ­¥ç™»å¤©ï¼Œä¸€å¼€å§‹æ€»ä¼šå¾ˆéš¾ï¼Œä½†æ˜¯ä¹…äº†ä¹Ÿä¸€æ ·å¾ˆéš¾ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆ</p><p>â€‹    å¦‚æœä½ æœ‰å…´è¶£ä¹Ÿè¯»æºç ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€èµ·è®¨è®ºå­¦ä¹ â€¦.</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://mmbiz.qpic.cn/mmbiz_jpg/HCyqJSXNAiaRKWRsWg3Muds9Z1oZORoMTy7z0N25rrNAbxhmqd6wpaicib4gtYUoN9hYxicxQlSzZyicMgDEDQaIppQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1"                      alt="img" style="zoom: 25%;"                 ></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1ã€æŒæ¡-Vue-æ‰€æœ‰API&quot;&gt;&lt;a href=&quot;#1ã€æŒæ¡-Vue-æ‰€æœ‰API&quot; class=&quot;headerlink&quot; title=&quot;1ã€æŒæ¡ Vue æ‰€æœ‰API&quot;&gt;&lt;/a&gt;1ã€æŒæ¡ Vue æ‰€æœ‰API&lt;/h2&gt;&lt;p&gt;â€‹    æˆ‘æŠŠ Vue çš„æ‰€æœ‰ API éƒ½è¯¦ç»†ç ”ç©¶ä½¿ç”¨è¿‡äº†ä¸€éï¼Œè€Œä¸”å°½é‡åœ¨é¡¹ç›®ä¸­éƒ½æœ‰ä½¿ç”¨ï¼Œè®©è‡ªå·±æœ‰æ·±ä¸€ç‚¹çš„ä½“ä¼š&lt;/p&gt;
&lt;p&gt;â€‹    è€Œä¸”æˆ‘å¯¹ç€å®˜æ–¹æ–‡æ¡£ï¼Œä¸€ä¸ªä¸ªåšäº†è¯¦ç»†çš„ç¬”è®°ï¼Œè€Œä¸”è”æƒ³è¿‡äº†ä½¿ç”¨åœºæ™¯ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://mariogogogo.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://mariogogogo.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>é˜¿é‡Œäº‘ http å‡çº§ https</title>
    <link href="http://mariogogogo.github.io/2020/03/13/%E9%98%BF%E9%87%8C%E4%BA%91http%E5%8D%87%E7%BA%A7https/"/>
    <id>http://mariogogogo.github.io/2020/03/13/é˜¿é‡Œäº‘httpå‡çº§https/</id>
    <published>2020-03-12T16:00:00.000Z</published>
    <updated>2020-09-16T09:06:59.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>HTTP åè®®ä»¥æ˜æ–‡æ–¹å¼å‘é€å†…å®¹ï¼Œä¸æä¾›ä»»ä½•æ–¹å¼çš„æ•°æ®åŠ å¯†ã€‚ä¸ºäº†æ•°æ®ä¼ è¾“çš„å®‰å…¨ï¼ŒHTTPS åœ¨ HTTP çš„åŸºç¡€ä¸ŠåŠ å…¥äº† SSL åè®®ï¼ŒSSL ä¾é è¯ä¹¦æ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½ï¼Œå¹¶ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åŠ å¯†ã€‚</p></blockquote><a id="more"></a><h2 id="ç”³è¯·è¯ä¹¦"><a href="#ç”³è¯·è¯ä¹¦" class="headerlink" title="ç”³è¯·è¯ä¹¦"></a>ç”³è¯·è¯ä¹¦</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200313231641.png"                      alt=""                ></p><p>ç„¶ååœ¨ SSL è¯ä¹¦ä¸­ä¸‹è½½ç”³è¯·æ¥çš„è¯ä¹¦</p><p>æœ‰ 2 ä¸ªï¼š</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200313231806.png"                      alt=""                ></p><h3 id="é…ç½®é˜¿é‡Œäº‘-nginx"><a href="#é…ç½®é˜¿é‡Œäº‘-nginx" class="headerlink" title="é…ç½®é˜¿é‡Œäº‘ nginx"></a>é…ç½®é˜¿é‡Œäº‘ nginx</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200313232143.png"                      alt=""                ></p><p>æˆ‘çš„é…ç½®æ–‡ä»¶åœ¨<code>/ect/nginx</code>ï¼Œç°åœ¨æŠŠåˆšæ‰çš„ä¸¤ä¸ªè¯ä¹¦æ–‡ä»¶å¤åˆ¶è¿‡æ¥ï¼Œå¾…ä¼šç›´æ¥é…ç½®ä½¿ç”¨å°±è¡Œäº†ã€‚nginx çš„é…ç½®æ–‡ä»¶æ˜¯<code>nginx.conf</code>ï¼Œé‡Œé¢çš„é…ç½®å†…å®¹æœ‰ä»¥ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">#user  nobody;</span><br><span class="line">worker_processes  <span class="number">1</span>;</span><br><span class="line">#error_log  logs/error.log;</span><br><span class="line">#error_log  logs/error.log  notice;</span><br><span class="line">#error_log  logs/error.log  info;</span><br><span class="line">#pid        logs/nginx.pid;</span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    #log_format  main  <span class="string">&#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;</span></span><br><span class="line">    #                  &#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span><br><span class="line">    #                  &#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;;</span><br><span class="line">    #access_log  logs/access.log  main;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    #tcp_nopush     on;</span><br><span class="line">    #keepalive_timeout  <span class="number">0</span>;</span><br><span class="line">    keepalive_timeout  <span class="number">65</span>;</span><br><span class="line">    #gzip  on;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen       <span class="number">80</span>;</span><br><span class="line">        server_name  www.xxx.cn;</span><br><span class="line"># åœ¨è¿™é‡Œï¼Œæˆ‘åšäº†httpså…¨åŠ å¯†å¤„ç†ï¼Œåœ¨è®¿é—®httpçš„æ—¶å€™è‡ªåŠ¨è·³è½¬åˆ°https</span><br><span class="line">   rewrite ^(.*) https:<span class="comment">//$host$1 permanent;</span></span><br><span class="line">        #charset koi8-r;</span><br><span class="line"></span><br><span class="line">        #access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root   /home/chan/www;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #error_page  <span class="number">404</span>              /<span class="number">404.</span>html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page /50x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        # proxy the PHP scripts to Apache listening on 127.0.0.1:80</span><br><span class="line">        #</span><br><span class="line">        #location ~ \.php$ &#123;</span><br><span class="line">        #    proxy_pass   http://127.0.0.1;</span><br><span class="line">        #&#125;</span><br><span class="line"></span><br><span class="line">        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class="line">        #</span><br><span class="line">        #location ~ \.php$ &#123;</span><br><span class="line">        #    root           html;</span><br><span class="line">        #    fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">        #    fastcgi_index  index.php;</span><br><span class="line">        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span><br><span class="line">        #    include        fastcgi_params;</span><br><span class="line">        #&#125;</span><br><span class="line"></span><br><span class="line">        # deny access to .htaccess files, if Apache&#x27;s document root</span><br><span class="line">        # concurs with nginx&#x27;s one</span><br><span class="line">        #</span><br><span class="line">        #location ~ /\.ht &#123;</span><br><span class="line">        #    deny  all;</span><br><span class="line">        #&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # another virtual host using mix of IP-, name-, and port-based configuration</span><br><span class="line">    #</span><br><span class="line">    #server &#123;</span><br><span class="line">    #    listen       8000;</span><br><span class="line">    #    listen       somename:8080;</span><br><span class="line">    #    server_name  somename  alias  another.alias;</span><br><span class="line"></span><br><span class="line">    #    location / &#123;</span><br><span class="line">    #        root   html;</span><br><span class="line">    #        index  index.html index.htm;</span><br><span class="line">    #    &#125;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # HTTPS server é…ç½®httpså°±çœ‹è¿™é‡Œå•¦</span><br><span class="line">    #</span><br><span class="line">     server &#123;</span><br><span class="line">        listen <span class="number">443</span>;</span><br><span class="line">        server_name www.xxx.cn;</span><br><span class="line">        ssl on;</span><br><span class="line">        #å®šä¹‰æœåŠ¡å™¨çš„é»˜è®¤ç½‘ç«™æ ¹ç›®å½•ä½ç½®</span><br><span class="line">        root  /home/chan/www;</span><br><span class="line">        index index.html index.htm;</span><br><span class="line">        ssl_certificate      cert/ssl.pem;</span><br><span class="line">        ssl_certificate_key  cert/ssl.key;</span><br><span class="line">        ssl_session_timeout 5m;</span><br><span class="line">        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">        ssl_protocols TLSv1 TLSv1<span class="number">.1</span> TLSv1<span class="number">.2</span>;</span><br><span class="line">        ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">        #location / &#123;</span><br><span class="line">            #index index.html index.htm;</span><br><span class="line">           # proxy_pass http://127.0.0.1:8081;</span><br><span class="line">        #&#125;</span><br><span class="line"></span><br><span class="line">        error_page  <span class="number">404</span>              /<span class="number">404.</span>html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s reload</span><br></pre></td></tr></table></figure><p>è¿è¡Œæµè§ˆå™¨</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200313232516.png"                      alt=""                ></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;HTTP åè®®ä»¥æ˜æ–‡æ–¹å¼å‘é€å†…å®¹ï¼Œä¸æä¾›ä»»ä½•æ–¹å¼çš„æ•°æ®åŠ å¯†ã€‚ä¸ºäº†æ•°æ®ä¼ è¾“çš„å®‰å…¨ï¼ŒHTTPS åœ¨ HTTP çš„åŸºç¡€ä¸ŠåŠ å…¥äº† SSL åè®®ï¼ŒSSL ä¾é è¯ä¹¦æ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½ï¼Œå¹¶ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åŠ å¯†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Web" scheme="http://mariogogogo.github.io/categories/Web/"/>
    
    
      <category term="ç½‘ç»œåŸºç¡€" scheme="http://mariogogogo.github.io/tags/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>GitFlow å·¥ä½œæµ</title>
    <link href="http://mariogogogo.github.io/2020/02/25/GitFlow%E5%B7%A5%E4%BD%9C%E6%B5%81/"/>
    <id>http://mariogogogo.github.io/2020/02/25/GitFlowå·¥ä½œæµ/</id>
    <published>2020-02-24T16:00:00.000Z</published>
    <updated>2020-09-16T09:07:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>GitFlow å·¥ä½œæµå®šä¹‰äº†ä¸€ä¸ªå›´ç»•é¡¹ç›®å‘å¸ƒçš„ä¸¥æ ¼åˆ†æ”¯æ¨¡å‹ã€‚è™½ç„¶æ¯”åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµå¤æ‚å‡ åˆ†ï¼Œä½†æä¾›äº†ç”¨äºä¸€ä¸ªå¥å£®çš„ç”¨äºç®¡ç†å¤§å‹é¡¹ç›®çš„æ¡†æ¶ã€‚</p><a id="more"></a><h2 id="è§†é¢‘"><a href="#è§†é¢‘" class="headerlink" title="è§†é¢‘"></a>è§†é¢‘</h2><p><a class="link"   href="https://www.bilibili.com/video/av32573821/" >Git å·¥ä½œæµæŒ‡å— - GitFlow å·¥ä½œæµ<i class="fas fa-external-link-alt"></i></a></p><p><iframe src="//player.bilibili.com/player.html?aid=32573821&cid=56999550&page=1"  width="800px" height="550px" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"><br> </iframe></p><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><hr><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225120815.png"                      alt=""                ></p><p>GitFlow å·¥ä½œæµæ²¡æœ‰ç”¨è¶…å‡ºåŠŸèƒ½åˆ†æ”¯å·¥ä½œæµçš„æ¦‚å¿µå’Œå‘½ä»¤ï¼Œè€Œæ˜¯ä¸ºä¸åŒçš„åˆ†æ”¯åˆ†é…ä¸€ä¸ªå¾ˆæ˜ç¡®çš„è§’è‰²ï¼Œå¹¶å®šä¹‰åˆ†æ”¯ä¹‹é—´å¦‚ä½•å’Œä»€ä¹ˆæ—¶å€™è¿›è¡Œäº¤äº’ã€‚é™¤äº†ä½¿ç”¨åŠŸèƒ½åˆ†æ”¯ï¼Œåœ¨åšå‡†å¤‡ã€ç»´æŠ¤å’Œè®°å½•å‘å¸ƒä¹Ÿä½¿ç”¨å„è‡ªçš„åˆ†æ”¯ã€‚å½“ç„¶ä½ å¯ä»¥ç”¨ä¸ŠåŠŸèƒ½åˆ†æ”¯å·¥ä½œæµæ‰€æœ‰çš„å¥½å¤„ï¼šPull Requestsã€éš”ç¦»å®éªŒæ€§å¼€å‘å’Œæ›´é«˜æ•ˆçš„åä½œã€‚</p><h2 id="å·¥ä½œæ–¹å¼"><a href="#å·¥ä½œæ–¹å¼" class="headerlink" title="å·¥ä½œæ–¹å¼"></a>å·¥ä½œæ–¹å¼</h2><p>GitFlow å·¥ä½œæµä»ç„¶ç”¨ä¸­å¤®ä»“åº“ä½œä¸ºæ‰€æœ‰å¼€å‘è€…çš„äº¤äº’ä¸­å¿ƒã€‚å’Œå…¶å®ƒçš„å·¥ä½œæµä¸€æ ·ï¼Œå¼€å‘è€…åœ¨æœ¬åœ°å·¥ä½œå¹¶ push åˆ†æ”¯åˆ°ä¸­å¤®ä»“åº“ä¸­ã€‚</p><h3 id="å†å²åˆ†æ”¯"><a href="#å†å²åˆ†æ”¯" class="headerlink" title="å†å²åˆ†æ”¯"></a>å†å²åˆ†æ”¯</h3><p>ç›¸å¯¹ä½¿ç”¨ä»…æœ‰çš„ä¸€ä¸ª master åˆ†æ”¯ï¼ŒGitFlow å·¥ä½œæµä½¿ç”¨ 2 ä¸ªåˆ†æ”¯æ¥è®°å½•é¡¹ç›®çš„å†å²ã€‚master åˆ†æ”¯å­˜å‚¨äº†æ­£å¼å‘å¸ƒçš„å†å²ï¼Œè€Œ develop åˆ†æ”¯ä½œä¸ºåŠŸèƒ½çš„é›†æˆåˆ†æ”¯ã€‚è¿™æ ·ä¹Ÿæ–¹ä¾¿ master åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æäº¤åˆ†é…ä¸€ä¸ªç‰ˆæœ¬å·ã€‚</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225130619.png"                      alt=""                ></p><p>å‰©ä¸‹è¦è¯´æ˜çš„é—®é¢˜å›´ç»•ç€è¿™ 2 ä¸ªåˆ†æ”¯çš„åŒºåˆ«å±•å¼€ã€‚</p><h3 id="åŠŸèƒ½åˆ†æ”¯"><a href="#åŠŸèƒ½åˆ†æ”¯" class="headerlink" title="åŠŸèƒ½åˆ†æ”¯"></a>åŠŸèƒ½åˆ†æ”¯</h3><p>æ¯ä¸ªæ–°åŠŸèƒ½ä½äºä¸€ä¸ªè‡ªå·±çš„åˆ†æ”¯ï¼Œè¿™æ ·å¯ä»¥ push åˆ°<code>ä¸­å¤®ä»“åº“</code>ä»¥å¤‡ä»½å’Œåä½œã€‚ä½†åŠŸèƒ½åˆ†æ”¯ä¸æ˜¯ä» master åˆ†æ”¯ä¸Šæ‹‰å‡ºæ–°åˆ†æ”¯ï¼Œè€Œæ˜¯ä½¿ç”¨ develop åˆ†æ”¯ä½œä¸ºçˆ¶åˆ†æ”¯ã€‚å½“æ–°åŠŸèƒ½å®Œæˆæ—¶ï¼Œåˆå¹¶å› develop åˆ†æ”¯ã€‚æ–°åŠŸèƒ½æäº¤åº”è¯¥ä»ä¸ç›´æ¥ä¸ master åˆ†æ”¯äº¤äº’ã€‚</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225130648.png"                      alt=""                ></p><p>æ³¨æ„ï¼Œä»å„ç§å«ä¹‰å’Œç›®çš„ä¸Šæ¥çœ‹ï¼ŒåŠŸèƒ½åˆ†æ”¯åŠ ä¸Š develop åˆ†æ”¯å°±æ˜¯åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµçš„ç”¨æ³•ã€‚ä½† GitFlow å·¥ä½œæµæ²¡æœ‰åœ¨è¿™é‡Œæ­¢æ­¥ã€‚</p><h3 id="å‘å¸ƒåˆ†æ”¯"><a href="#å‘å¸ƒåˆ†æ”¯" class="headerlink" title="å‘å¸ƒåˆ†æ”¯"></a>å‘å¸ƒåˆ†æ”¯</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225130727.png"                      alt=""                ></p><p>ä¸€æ—¦ develop åˆ†æ”¯ä¸Šæœ‰äº†åšä¸€æ¬¡å‘å¸ƒï¼ˆæˆ–è€…è¯´å¿«åˆ°äº†æ—¢å®šçš„å‘å¸ƒæ—¥ï¼‰çš„è¶³å¤ŸåŠŸèƒ½ï¼Œå°±ä» develop åˆ†æ”¯ä¸Š fork ä¸€ä¸ªå‘å¸ƒåˆ†æ”¯ã€‚æ–°å»ºçš„åˆ†æ”¯ç”¨äºå¼€å§‹å‘å¸ƒå¾ªç¯ï¼Œæ‰€ä»¥ä»è¿™ä¸ªæ—¶é—´ç‚¹å¼€å§‹ä¹‹åæ–°çš„åŠŸèƒ½ä¸èƒ½å†åŠ åˆ°è¿™ä¸ªåˆ†æ”¯ä¸Š â€”â€” è¿™ä¸ªåˆ†æ”¯åªåº”è¯¥åš Bug ä¿®å¤ã€æ–‡æ¡£ç”Ÿæˆå’Œå…¶å®ƒé¢å‘å‘å¸ƒä»»åŠ¡ã€‚ä¸€æ—¦å¯¹å¤–å‘å¸ƒçš„å·¥ä½œéƒ½å®Œæˆäº†ï¼Œå‘å¸ƒåˆ†æ”¯åˆå¹¶åˆ° master åˆ†æ”¯å¹¶åˆ†é…ä¸€ä¸ªç‰ˆæœ¬å·æ‰“å¥½ Tagã€‚å¦å¤–ï¼Œè¿™äº›ä»æ–°å»ºå‘å¸ƒåˆ†æ”¯ä»¥æ¥çš„åšçš„ä¿®æ”¹è¦åˆå¹¶å› develop åˆ†æ”¯ã€‚</p><p>ä½¿ç”¨ä¸€ä¸ªç”¨äºå‘å¸ƒå‡†å¤‡çš„ä¸“é—¨åˆ†æ”¯ï¼Œä½¿å¾—ä¸€ä¸ªå›¢é˜Ÿå¯ä»¥åœ¨å®Œå–„å½“å‰çš„å‘å¸ƒç‰ˆæœ¬çš„åŒæ—¶ï¼Œå¦ä¸€ä¸ªå›¢é˜Ÿå¯ä»¥ç»§ç»­å¼€å‘ä¸‹ä¸ªç‰ˆæœ¬çš„åŠŸèƒ½ã€‚è¿™ä¹Ÿæ‰“é€ å®šä¹‰è‰¯å¥½çš„å¼€å‘é˜¶æ®µï¼ˆæ¯”å¦‚ï¼Œå¯ä»¥å¾ˆè½»æ¾åœ°è¯´ï¼Œã€è¿™å‘¨æˆ‘ä»¬è¦åšå‡†å¤‡å‘å¸ƒç‰ˆæœ¬ 4.0ã€ï¼Œå¹¶ä¸”åœ¨ä»“åº“çš„ç›®å½•ç»“æ„ä¸­å¯ä»¥å®é™…çœ‹åˆ°ï¼‰ã€‚</p><p>å¸¸ç”¨çš„åˆ†æ”¯çº¦å®šï¼š</p><ul><li>ç”¨äºæ–°å»ºå‘å¸ƒåˆ†æ”¯çš„åˆ†æ”¯: <code>develop</code></li><li>ç”¨äºåˆå¹¶çš„åˆ†æ”¯: <code>master</code></li><li>åˆ†æ”¯å‘½å: <code>release</code>-_ æˆ– release/_</li></ul><h3 id="ç»´æŠ¤åˆ†æ”¯"><a href="#ç»´æŠ¤åˆ†æ”¯" class="headerlink" title="ç»´æŠ¤åˆ†æ”¯"></a>ç»´æŠ¤åˆ†æ”¯</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225130815.png"                      alt=""                ></p><p>ç»´æŠ¤åˆ†æ”¯æˆ–è¯´æ˜¯çƒ­ä¿®å¤ï¼ˆhotfixï¼‰åˆ†æ”¯ç”¨äºç”Ÿæˆå¿«é€Ÿç»™äº§å“å‘å¸ƒç‰ˆæœ¬ï¼ˆproduction releasesï¼‰æ‰“è¡¥ä¸ï¼Œè¿™æ˜¯å”¯ä¸€å¯ä»¥ç›´æ¥ä» master åˆ†æ”¯ fork å‡ºæ¥çš„åˆ†æ”¯ã€‚ä¿®å¤å®Œæˆï¼Œä¿®æ”¹åº”è¯¥é©¬ä¸Šåˆå¹¶å› master åˆ†æ”¯å’Œ develop åˆ†æ”¯ï¼ˆå½“å‰çš„å‘å¸ƒåˆ†æ”¯ï¼‰ï¼Œmaster åˆ†æ”¯åº”è¯¥ç”¨æ–°çš„ç‰ˆæœ¬å·æ‰“å¥½ Tagã€‚</p><p>ä¸º Bug ä¿®å¤ä½¿ç”¨ä¸“é—¨åˆ†æ”¯ï¼Œè®©å›¢é˜Ÿå¯ä»¥å¤„ç†æ‰é—®é¢˜è€Œä¸ç”¨æ‰“æ–­å…¶å®ƒå·¥ä½œæˆ–æ˜¯ç­‰å¾…ä¸‹ä¸€ä¸ªå‘å¸ƒå¾ªç¯ã€‚ä½ å¯ä»¥æŠŠç»´æŠ¤åˆ†æ”¯æƒ³æˆæ˜¯ä¸€ä¸ªç›´æ¥åœ¨ master åˆ†æ”¯ä¸Šå¤„ç†çš„ä¸´æ—¶å‘å¸ƒã€‚</p><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºæœ¬å·¥ä½œæµå¦‚ä½•ç”¨äºç®¡ç†å•ä¸ªå‘å¸ƒå¾ªç¯ã€‚å‡è®¾ä½ å·²ç»åˆ›å»ºäº†ä¸€ä¸ª<code>ä¸­å¤®ä»“åº“</code>ã€‚</p><h3 id="åˆ›å»ºå¼€å‘åˆ†æ”¯"><a href="#åˆ›å»ºå¼€å‘åˆ†æ”¯" class="headerlink" title="åˆ›å»ºå¼€å‘åˆ†æ”¯"></a>åˆ›å»ºå¼€å‘åˆ†æ”¯</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225130837.png"                      alt=""                ></p><p>ç¬¬ä¸€æ­¥ä¸º master åˆ†æ”¯é…å¥—ä¸€ä¸ª develop åˆ†æ”¯ã€‚ç®€å•æ¥åšå¯ä»¥æœ¬åœ°åˆ›å»ºä¸€ä¸ªç©ºçš„ develop åˆ†æ”¯ï¼Œpush åˆ°æœåŠ¡å™¨ä¸Šï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch develop</span><br><span class="line">git <span class="built_in">push</span> -u <span class="built_in">origin</span> develop</span><br></pre></td></tr></table></figure><p>ä»¥åè¿™ä¸ªåˆ†æ”¯å°†ä¼šåŒ…å«äº†é¡¹ç›®çš„å…¨éƒ¨å†å²ï¼Œè€Œ master åˆ†æ”¯å°†åªåŒ…å«äº†éƒ¨åˆ†å†å²ã€‚å…¶å®ƒå¼€å‘è€…è¿™æ—¶åº”è¯¥å…‹éš†ä¸­å¤®ä»“åº“ï¼Œå»ºå¥½ develop åˆ†æ”¯çš„è·Ÿè¸ªåˆ†æ”¯ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone ssh:<span class="regexp">//u</span>ser@host<span class="regexp">/path/</span>to/repo.git</span><br><span class="line">git checkout -b develop origin/develop</span><br></pre></td></tr></table></figure><p>ç°åœ¨æ¯ä¸ªå¼€å‘éƒ½æœ‰äº†è¿™äº›å†å²åˆ†æ”¯çš„æœ¬åœ°æ‹·è´ã€‚</p><h3 id="å°çº¢å’Œå°æ˜å¼€å§‹å¼€å‘æ–°åŠŸèƒ½"><a href="#å°çº¢å’Œå°æ˜å¼€å§‹å¼€å‘æ–°åŠŸèƒ½" class="headerlink" title="å°çº¢å’Œå°æ˜å¼€å§‹å¼€å‘æ–°åŠŸèƒ½"></a>å°çº¢å’Œå°æ˜å¼€å§‹å¼€å‘æ–°åŠŸèƒ½</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225130957.png"                      alt=""                ></p><p>è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå°çº¢å’Œå°æ˜å¼€å§‹å„è‡ªçš„åŠŸèƒ½å¼€å‘ã€‚ä»–ä»¬éœ€è¦ä¸ºå„è‡ªçš„åŠŸèƒ½åˆ›å»ºç›¸åº”çš„åˆ†æ”¯ã€‚æ–°åˆ†æ”¯ä¸æ˜¯åŸºäº master åˆ†æ”¯ï¼Œè€Œæ˜¯åº”è¯¥åŸºäº <code>develop</code> åˆ†æ”¯ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b <span class="built_in">some</span>-<span class="built_in">feature</span> develop</span><br></pre></td></tr></table></figure><p>ä»–ä»¬ç”¨è€å¥—è·¯æ·»åŠ æäº¤åˆ°å„è‡ªåŠŸèƒ½åˆ†æ”¯ä¸Šï¼šç¼–è¾‘ã€æš‚å­˜ã€æäº¤ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">git <span class="keyword">add</span></span><br><span class="line">git <span class="keyword">commit</span></span><br></pre></td></tr></table></figure><h3 id="å°çº¢å®ŒæˆåŠŸèƒ½å¼€å‘"><a href="#å°çº¢å®ŒæˆåŠŸèƒ½å¼€å‘" class="headerlink" title="å°çº¢å®ŒæˆåŠŸèƒ½å¼€å‘"></a>å°çº¢å®ŒæˆåŠŸèƒ½å¼€å‘</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225131037.png"                      alt=""                ></p><p>æ·»åŠ äº†æäº¤åï¼Œå°çº¢è§‰å¾—å¥¹çš„åŠŸèƒ½ OK äº†ã€‚å¦‚æœå›¢é˜Ÿä½¿ç”¨ Pull Requestsï¼Œè¿™æ—¶å€™å¯ä»¥å‘èµ·ä¸€ä¸ªç”¨äºåˆå¹¶åˆ° develop åˆ†æ”¯ã€‚å¦åˆ™å¥¹å¯ä»¥ç›´æ¥åˆå¹¶åˆ°å¥¹æœ¬åœ°çš„ develop åˆ†æ”¯å push åˆ°ä¸­å¤®ä»“åº“ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git pull <span class="built_in">origin</span> develop</span><br><span class="line">git checkout develop</span><br><span class="line">git merge <span class="built_in">some</span>-<span class="built_in">feature</span></span><br><span class="line">git <span class="built_in">push</span></span><br><span class="line">git branch -d <span class="built_in">some</span>-<span class="built_in">feature</span></span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¡å‘½ä»¤åœ¨åˆå¹¶åŠŸèƒ½å‰ç¡®ä¿ develop åˆ†æ”¯æ˜¯æœ€æ–°çš„ã€‚æ³¨æ„ï¼ŒåŠŸèƒ½å†³ä¸åº”è¯¥ç›´æ¥åˆå¹¶åˆ° master åˆ†æ”¯ã€‚å†²çªè§£å†³æ–¹æ³•å’Œé›†ä¸­å¼å·¥ä½œæµä¸€æ ·ã€‚</p><h2 id="å°çº¢å¼€å§‹å‡†å¤‡å‘å¸ƒ"><a href="#å°çº¢å¼€å§‹å‡†å¤‡å‘å¸ƒ" class="headerlink" title="å°çº¢å¼€å§‹å‡†å¤‡å‘å¸ƒ"></a>å°çº¢å¼€å§‹å‡†å¤‡å‘å¸ƒ</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225131059.png"                      alt=""                ></p><p>è¿™ä¸ªæ—¶å€™å°æ˜æ­£åœ¨å®ç°ä»–çš„åŠŸèƒ½ï¼Œå°çº¢å¼€å§‹å‡†å¤‡å¥¹çš„ç¬¬ä¸€ä¸ªé¡¹ç›®æ­£å¼å‘å¸ƒã€‚åƒåŠŸèƒ½å¼€å‘ä¸€æ ·ï¼Œå¥¹ç”¨ä¸€ä¸ªæ–°çš„åˆ†æ”¯æ¥åšå‘å¸ƒå‡†å¤‡ã€‚è¿™ä¸€æ­¥ä¹Ÿç¡®å®šäº†å‘å¸ƒçš„ç‰ˆæœ¬å·ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">git</span> checkout -b release-<span class="number">0</span>.<span class="number">1</span> develop</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªåˆ†æ”¯æ˜¯æ¸…ç†å‘å¸ƒã€æ‰§è¡Œæ‰€æœ‰æµ‹è¯•ã€æ›´æ–°æ–‡æ¡£å’Œå…¶å®ƒä¸ºä¸‹ä¸ªå‘å¸ƒåšå‡†å¤‡æ“ä½œçš„åœ°æ–¹ï¼Œåƒæ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºæ”¹å–„å‘å¸ƒçš„åŠŸèƒ½åˆ†æ”¯ã€‚</p><p>åªè¦å°çº¢åˆ›å»ºè¿™ä¸ªåˆ†æ”¯å¹¶ push åˆ°ä¸­å¤®ä»“åº“ï¼Œè¿™ä¸ªå‘å¸ƒå°±æ˜¯åŠŸèƒ½å†»ç»“çš„ã€‚ä»»ä½•ä¸åœ¨ develop åˆ†æ”¯ä¸­çš„æ–°åŠŸèƒ½éƒ½æ¨åˆ°ä¸‹ä¸ªå‘å¸ƒå¾ªç¯ä¸­ã€‚</p><h3 id="å°çº¢å®Œæˆå‘å¸ƒ"><a href="#å°çº¢å®Œæˆå‘å¸ƒ" class="headerlink" title="å°çº¢å®Œæˆå‘å¸ƒ"></a>å°çº¢å®Œæˆå‘å¸ƒ</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225131203.png"                      alt=""                ></p><p>ä¸€æ—¦å‡†å¤‡å¥½äº†å¯¹å¤–å‘å¸ƒï¼Œå°çº¢åˆå¹¶ä¿®æ”¹åˆ° master åˆ†æ”¯å’Œ develop åˆ†æ”¯ä¸Šï¼Œåˆ é™¤å‘å¸ƒåˆ†æ”¯ã€‚åˆå¹¶å› develop åˆ†æ”¯å¾ˆé‡è¦ï¼Œå› ä¸ºåœ¨å‘å¸ƒåˆ†æ”¯ä¸­å·²ç»æäº¤çš„æ›´æ–°éœ€è¦åœ¨åé¢çš„æ–°åŠŸèƒ½ä¸­ä¹Ÿè¦æ˜¯å¯ç”¨çš„ã€‚å¦å¤–ï¼Œå¦‚æœå°çº¢çš„å›¢é˜Ÿè¦æ±‚ Code Reviewï¼Œè¿™æ˜¯ä¸€ä¸ªå‘èµ· Pull Request çš„ç†æƒ³æ—¶æœºã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">git</span> checkout master</span><br><span class="line"><span class="attribute">git</span> merge release-<span class="number">0</span>.<span class="number">1</span></span><br><span class="line"><span class="attribute">git</span> push</span><br><span class="line"><span class="attribute">git</span> checkout develop</span><br><span class="line"><span class="attribute">git</span> merge release-<span class="number">0</span>.<span class="number">1</span></span><br><span class="line"><span class="attribute">git</span> push</span><br><span class="line"><span class="attribute">git</span> branch -d release-<span class="number">0</span>.<span class="number">1</span></span><br></pre></td></tr></table></figure><p>å‘å¸ƒåˆ†æ”¯æ˜¯ä½œä¸ºåŠŸèƒ½å¼€å‘ï¼ˆdevelop åˆ†æ”¯ï¼‰å’Œå¯¹å¤–å‘å¸ƒï¼ˆmaster åˆ†æ”¯ï¼‰é—´çš„ç¼“å†²ã€‚åªè¦æœ‰åˆå¹¶åˆ° master åˆ†æ”¯ï¼Œå°±åº”è¯¥æ‰“å¥½ Tag ä»¥æ–¹ä¾¿è·Ÿè¸ªã€‚</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">tag</span> <span class="title">-a</span> <span class="number">0.1</span> -m <span class="string">&quot;Initial public release&quot;</span> <span class="literal">master</span></span><br><span class="line">git push --tags</span><br></pre></td></tr></table></figure><p>Git æœ‰æä¾›å„ç§å‹¾å­ï¼ˆhookï¼‰ï¼Œå³ä»“åº“æœ‰äº‹ä»¶å‘ç”Ÿæ—¶è§¦å‘æ‰§è¡Œçš„è„šæœ¬ã€‚å¯ä»¥é…ç½®ä¸€ä¸ªå‹¾å­ï¼Œåœ¨ä½  push ä¸­å¤®ä»“åº“çš„ master åˆ†æ”¯æ—¶ï¼Œè‡ªåŠ¨æ„å»ºå¥½å¯¹å¤–å‘å¸ƒã€‚</p><h3 id="æœ€ç»ˆç”¨æˆ·å‘ç°-Bug"><a href="#æœ€ç»ˆç”¨æˆ·å‘ç°-Bug" class="headerlink" title="æœ€ç»ˆç”¨æˆ·å‘ç° Bug"></a>æœ€ç»ˆç”¨æˆ·å‘ç° Bug</h3><p><img                       lazyload                     src="/images/loading.svg"                     data-src="http://book.52react.cn/20200225131248.png"                      alt=""                ></p><p>å¯¹å¤–å‘å¸ƒåï¼Œå°çº¢å›å»å’Œå°æ˜ä¸€èµ·åšä¸‹ä¸ªå‘å¸ƒçš„æ–°åŠŸèƒ½å¼€å‘ï¼Œç›´åˆ°æœ‰æœ€ç»ˆç”¨æˆ·å¼€äº†ä¸€ä¸ª <code>Issues</code> æŠ±æ€¨å½“å‰ç‰ˆæœ¬çš„ä¸€ä¸ª Bugã€‚ä¸ºäº†å¤„ç† Bugï¼Œå°çº¢ï¼ˆæˆ–å°æ˜ï¼‰ä» master åˆ†æ”¯ä¸Šæ‹‰å‡ºäº†ä¸€ä¸ª<code>ç»´æŠ¤åˆ†æ”¯</code>ï¼Œæäº¤ä¿®æ”¹ä»¥è§£å†³é—®é¢˜ï¼Œç„¶åç›´æ¥åˆå¹¶å› master åˆ†æ”¯ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b issue-<span class="comment">#001 master</span></span><br><span class="line"><span class="comment"># Fix the bug</span></span><br><span class="line">git checkout <span class="literal">master</span></span><br><span class="line">git merge issue-<span class="comment">#001</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>å°±åƒå‘å¸ƒåˆ†æ”¯ï¼Œç»´æŠ¤åˆ†æ”¯ä¸­æ–°åŠ è¿™äº›é‡è¦ä¿®æ”¹éœ€è¦åŒ…å«åˆ° develop åˆ†æ”¯ä¸­ï¼Œæ‰€ä»¥å°çº¢è¦æ‰§è¡Œä¸€ä¸ªåˆå¹¶æ“ä½œã€‚ç„¶åå°±å¯ä»¥å®‰å…¨åœ°åˆ é™¤è¿™ä¸ªåˆ†æ”¯äº†ï¼š</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git merge issue-<span class="meta">#001</span></span><br><span class="line">git <span class="keyword">push</span></span><br><span class="line">git branch -d issue-<span class="meta">#001</span></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åˆ°äº†è¿™é‡Œï¼Œ GitFlow å·¥ä½œæµå·²ç»æ„Ÿè§‰å¾ˆèˆ’é€‚äº†ã€‚ä½ åº”è¯¥ä¹Ÿç‰¢å›ºçš„æŒæ¡äº†æœ¬åœ°ä»“åº“çš„æ½œèƒ½ï¼Œpush/pull æ¨¡å¼å’Œ Git å¥å£®çš„åˆ†æ”¯å’Œåˆå¹¶æ¨¡å‹ã€‚</p><p>è®°ä½ï¼Œè¿™é‡Œæ¼”ç¤ºçš„å·¥ä½œæµåªæ˜¯å¯èƒ½ç”¨æ³•çš„ä¾‹å­ï¼Œè€Œä¸æ˜¯åœ¨å®é™…å·¥ä½œä¸­ä½¿ç”¨ Git ä¸å¯è¿é€†çš„æ¡ä¾‹ã€‚æ‰€ä»¥ä¸è¦ç•æƒ§æŒ‰è‡ªå·±éœ€è¦å¯¹å·¥ä½œæµçš„ç”¨æ³•åšå–èˆã€‚ä¸å˜çš„ç›®æ ‡å°±æ˜¯è®© Git ä¸ºä½ æ‰€ç”¨ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;GitFlow å·¥ä½œæµå®šä¹‰äº†ä¸€ä¸ªå›´ç»•é¡¹ç›®å‘å¸ƒçš„ä¸¥æ ¼åˆ†æ”¯æ¨¡å‹ã€‚è™½ç„¶æ¯”åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµå¤æ‚å‡ åˆ†ï¼Œä½†æä¾›äº†ç”¨äºä¸€ä¸ªå¥å£®çš„ç”¨äºç®¡ç†å¤§å‹é¡¹ç›®çš„æ¡†æ¶ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Web" scheme="http://mariogogogo.github.io/categories/Web/"/>
    
    
      <category term="Git" scheme="http://mariogogogo.github.io/tags/Git/"/>
    
      <category term="æŠ€å·§" scheme="http://mariogogogo.github.io/tags/%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
</feed>
